"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[8786],{6834:(ot,K,l)=>{l.d(K,{j:()=>z});var t=l(8926),M=l(5118),e=l(6223),H=l(375),i=l(7649),F=l(5219),D=l(3714),O=l(1230);function W(k,$){1&k&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Foro"),t.qZA())}function Q(k,$){if(1&k){const Y=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(Y);const J=t.oxw();return t.KtG(J.saveForo())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"Titulo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Descripcion"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",5)(15,"div",11)(16,"span",7),t._UZ(17,"input",12),t.TgZ(18,"label",9),t._uU(19,"Fecha Inicio"),t.qZA()()(),t.TgZ(20,"div",11)(21,"span",7),t._UZ(22,"input",13),t.TgZ(23,"label",9),t._uU(24,"Fecha Fin"),t.qZA()()()()(),t.TgZ(25,"div",14)(26,"button",15),t._uU(27,"Guardar"),t.qZA()()()}if(2&k){const Y=t.oxw();t.Q6J("formGroup",Y.foroForm)}}let z=(()=>{class k{constructor(Y,I,J,v,Z){this.ref=Y,this.fb=I,this.config=J,this.helperService=v,this.foroService=Z,this.foroForm=this.fb.group({titulo:[""],descripcion:[""],fechaInicio:[""],fechaFin:[""]})}saveForo(){if(this.foroForm.valid){console.log(this.config.data),this.ref.close(this.foroForm.value);const Y={nombre:this.foroForm.get("titulo")?.value,descripcion:this.foroForm.get("descripcion")?.value,fecha_inicio:this.helperService.formatDate(this.foroForm.get("fechaInicio")?.value),fecha_fin:this.helperService.formatDate(this.foroForm.get("fechaFin")?.value),id_curso:this.config.data.data.id,domain_id:this.helperService.getDominioId()};this.foroService.saveForo(Y).subscribe(I=>{console.log(I)})}}static#t=this.\u0275fac=function(I){return new(I||k)(t.Y36(M.E7),t.Y36(e.qu),t.Y36(M.S),t.Y36(H.$),t.Y36(i.f))};static#e=this.\u0275cmp=t.Xpm({type:k,selectors:[["app-crear-foro-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","titulo"],[1,"required"],["type","text","pInputText","","formControlName","descripcion"],[1,"field","col-12","md:6"],["type","date","pInputText","","formControlName","fechaInicio"],["type","date","pInputText","","formControlName","fechaFin"],[1,"grid","grid-cols-1","gap-4"],["type","submit",1,"btn","btn-primary"]],template:function(I,J){1&I&&(t.TgZ(0,"p-panel"),t.YNc(1,W,2,0,"ng-template",0),t.YNc(2,Q,28,1,"ng-template",1),t.qZA())},dependencies:[F.jx,e._Y,e.Fj,e.JJ,e.JL,D.o,O.s,e.sg,e.u]})}return k})()},4617:(ot,K,l)=>{l.d(K,{M:()=>f});var t=l(6223),M=l(5932),e=l(3023),H=l(6111),i=l(8926),F=l(5118),D=l(5516),O=l(9862);let W=(()=>{class p{constructor(C){this.http=C,this.baseUrl=`${D.N.API_BASE}`,this.urlparametro=`${D.N.API_BASE}`}saveHorario(C){return this.http.post(`${this.baseUrl}horario`,C)}getHorario(C){return this.http.get(`${this.baseUrl}horario/${C}`)}static#t=this.\u0275fac=function(A){return new(A||p)(i.LFG(O.eN))};static#e=this.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var Q=l(5700),z=l(375),k=l(6814),$=l(8057),Y=l(5219),I=l(6760),J=l(707),v=l(3965),Z=l(1230),_=l(3530),S=l(2495);function U(p,y){if(1&p&&(i.TgZ(0,"span",2),i._uU(1),i.qZA()),2&p){const C=i.oxw();i.xp6(1),i.hij("Seleccionar Horario ",C.curso.nombre,"")}}function N(p,y){if(1&p){const C=i.EpF();i.TgZ(0,"div")(1,"p-checkbox",23),i.NdJ("ngModelChange",function(w){const V=i.CHM(C).index,X=i.oxw(3);return i.KtG(X.selectedDays[V]=w)}),i.qZA()()}if(2&p){const C=y.$implicit,A=y.index,w=i.oxw(3);i.xp6(1),i.Q6J("ngModel",w.selectedDays[A])("binary",!0)("label",C)}}function q(p,y){if(1&p){const C=i.EpF();i.TgZ(0,"div",14)(1,"div",15)(2,"label",16),i._uU(3,"Fecha de inicio:"),i.qZA(),i.TgZ(4,"p-calendar",17),i.NdJ("ngModelChange",function(w){i.CHM(C);const L=i.oxw(2);return i.KtG(L.replicateStartDate=w)}),i.qZA()(),i.TgZ(5,"div",15)(6,"label",18),i._uU(7,"Fecha de fin:"),i.qZA(),i.TgZ(8,"p-calendar",19),i.NdJ("ngModelChange",function(w){i.CHM(C);const L=i.oxw(2);return i.KtG(L.replicateEndDate=w)}),i.qZA()(),i.TgZ(9,"div",20)(10,"label"),i._uU(11,"D\xedas de la semana a replicar:"),i.qZA(),i.TgZ(12,"div",21),i.YNc(13,N,2,3,"div",22),i.qZA()()()}if(2&p){const C=i.oxw(2);i.xp6(4),i.Q6J("ngModel",C.replicateStartDate),i.xp6(4),i.Q6J("ngModel",C.replicateEndDate),i.xp6(5),i.Q6J("ngForOf",C.daysOfWeek)}}function x(p,y){if(1&p){const C=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(C);const w=i.oxw(2);return i.KtG(w.replicateHorario())}),i.qZA(),i.TgZ(1,"button",25),i.NdJ("click",function(){i.CHM(C);const w=i.oxw(2);return i.KtG(w.showReplicateDialog=!1)}),i.qZA()}}const m=function(){return{width:"100%"}},T=function(){return{width:"50vw",height:"auto"}};function s(p,y){if(1&p){const C=i.EpF();i.TgZ(0,"form",3)(1,"div",4)(2,"label",5),i._uU(3,"Seleccionar Aula:"),i.qZA(),i.TgZ(4,"p-dropdown",6),i.NdJ("onChange",function(w){i.CHM(C);const L=i.oxw();return i.KtG(L.onAulaChange(w))}),i.qZA()(),i.TgZ(5,"div",4),i._UZ(6,"full-calendar",7),i.qZA(),i.TgZ(7,"div",8)(8,"button",9),i.NdJ("click",function(){i.CHM(C);const w=i.oxw();return i.KtG(w.saveHorario())}),i.qZA(),i.TgZ(9,"button",10),i.NdJ("click",function(w){i.CHM(C);const L=i.oxw();return i.KtG(L.closeModal(w))}),i.qZA()()(),i.TgZ(10,"p-dialog",11,12),i.NdJ("visibleChange",function(w){i.CHM(C);const L=i.oxw();return i.KtG(L.showReplicateDialog=w)})("onHide",function(){i.CHM(C);const w=i.oxw();return i.KtG(w.showReplicateDialog=!1)}),i.YNc(12,q,14,3,"ng-template",1),i.YNc(13,x,2,0,"ng-template",13),i.qZA()}if(2&p){const C=i.oxw();i.Q6J("formGroup",C.parametroForm),i.xp6(4),i.Akn(i.DdM(12,m)),i.Q6J("options",C.aulas),i.xp6(2),i.Q6J("options",C.calendarOptions),i.xp6(2),i.Q6J("disabled",!C.parametroForm.valid),i.xp6(2),i.Akn(i.DdM(13,T)),i.Q6J("draggable",!1)("visible",C.showReplicateDialog)("modal",!0)("header","Replicar Horario")}}let f=(()=>{class p{constructor(C,A,w,L,V,X){this.fb=C,this.ref=A,this.config=w,this.horarioService=L,this.aulaService=V,this.helpersService=X,this.loading=!1,this.aulas=[],this.aulaDisponibilidad=[],this.cursoHorarios=[],this.domain_id=1,this.showReplicateDialog=!1,this.replicateStartDate=new Date,this.replicateEndDate=new Date,this.daysOfWeek=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],this.selectedDays=[!0,!0,!0,!0,!0,!1,!1],this.domain_id=this.helpersService.getDominioId(),this.curso=this.config.data.data,this.parametroForm=this.fb.group({aula_id:["",t.kI.required]}),this.calendarOptions={plugins:[M.Z,e.Z,H.ZP],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:this.handleDateSelect.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this)}}ngOnInit(){this.getAulas(),this.getCursoHorarios()}getAulas(){this.aulaService.getAulas(this.domain_id).subscribe(C=>{this.aulas=Array.isArray(C.data)?C.data:[]},C=>{this.helpersService.showErrorMessage("Error al obtener las aulas")})}onAulaChange(C){this.getAulaDisponibilidad(C.value),this.getCursoHorarios()}getAulaDisponibilidad(C){this.aulaService.getDisponibilidad(C).subscribe(A=>{this.aulaDisponibilidad=A.data,this.updateCalendar()},A=>{this.helpersService.showErrorMessage("Error al obtener la disponibilidad del aula")})}getCursoHorarios(){this.horarioService.getHorario(this.curso.id).subscribe(C=>{this.cursoHorarios=C,this.updateCalendar()},C=>{this.helpersService.showErrorMessage("Error al obtener los horarios del curso")})}updateCalendar(){const C=[...this.aulaDisponibilidad.map(A=>{let w=new Date(`${A.fecha}T${A.hora_inicio}`),L=new Date(`${A.fecha}T${A.hora_fin}`);return console.log("Disponibilidad:",w,"-",L,A.id,"aula_id:",A.aula_id),{start:w,end:L,title:"Disponibilidad",backendId:A.id,backgroundColor:"green",borderColor:"green",display:"background",allDay:!1,aula_id:A.aula_id,availability_id:A.id}}),...this.cursoHorarios.map(A=>({title:"Horario del curso",start:new Date(`${A.fecha_inicio}T${A.hora_inicio}`),end:new Date(`${A.fecha_fin}T${A.hora_fin}`),backgroundColor:"blue",allDay:!1}))];this.calendarOptions={...this.calendarOptions,events:C},console.log("Events:",C)}handleDateSelect(C){const{start:A,end:w}=C;if(console.log("Fecha seleccionada:",A,w),this.isWithinAulaDisponibilidad(A,w)){const at={title:"Nuevo horario",start:A,end:w,backgroundColor:"blue",extendedProps:{aula_id:this.parametroForm.value.aula_id,availability_id:this.getAvailabilityId(A,w)}};console.log("Nuevo evento creado:",at),this.calendarOptions.events=[...this.calendarOptions.events,at]}else this.helpersService.showErrorMessage("El horario seleccionado no est\xe1 dentro de la disponibilidad del aula")}getAvailabilityId(C,A){const w=this.aulaDisponibilidad.find(L=>C>=new Date(`${L.fecha}T${L.hora_inicio}`)&&A<=new Date(`${L.fecha}T${L.hora_fin}`));return console.log("Disponibilidad encontrada:",w),w?.id}handleEventClick(C){this.selectedEvent=C.event,this.replicateStartDate=new Date(this.selectedEvent.start),this.replicateEndDate=new Date(this.selectedEvent.start),this.replicateEndDate.setMonth(this.replicateEndDate.getMonth()+1),this.showReplicateDialog=!0}handleEvents(C){}isWithinAulaDisponibilidad(C,A){const w=C.toISOString().split("T")[0];return this.aulaDisponibilidad.filter(V=>V.fecha===w).some(V=>{const X=new Date(`${V.fecha}T${V.hora_inicio}`),at=new Date(`${V.fecha}T${V.hora_fin}`);return console.log("Disponibilidad:",X,"-",at),console.log("Nuevo horario:",C,"-",A),C>=X&&A<=at})}replicateHorario(){if(this.selectedEvent&&this.replicateStartDate&&this.replicateEndDate){console.log("Evento seleccionado para replicar:",this.selectedEvent);const C=[],A=this.selectedEvent.end.getTime()-this.selectedEvent.start.getTime();for(let L=new Date(this.replicateStartDate);L<=this.replicateEndDate;L.setDate(L.getDate()+1)){const V=L.getDay();if(this.selectedDays[0===V?6:V-1]){const X=new Date(L);X.setHours(this.selectedEvent.start.getHours(),this.selectedEvent.start.getMinutes(),0,0);const at=new Date(X.getTime()+A);if(this.isWithinAulaDisponibilidad(X,at)){const dt={id:Math.floor(1e4*Math.random()),title:"Horario replicado",start:X,end:at,backgroundColor:"blue",extendedProps:{aula_id:this.selectedEvent.extendedProps?.aula_id,availability_id:this.getAvailabilityId(X,at)}};console.log("Nuevo evento replicado:",dt),C.push(dt)}}}const w=[...this.calendarOptions.events.filter(L=>"Disponibilidad"===L.title||"background"===L.display),...C];console.log("Eventos actualizados:",w),this.calendarOptions={...this.calendarOptions,events:w},this.showReplicateDialog=!1}}saveHorario(){if(this.parametroForm.valid){const C=this.calendarOptions.events.filter(w=>"Horario del curso"!==w.title&&!w.display).map(w=>({day_id:w.start.getDay(),fecha_inicio:w.start.toISOString().split("T")[0],fecha_fin:w.end.toISOString().split("T")[0],hora_inicio:w.start.toTimeString().split(" ")[0],hora_fin:w.end.toTimeString().split(" ")[0],aula_id:w.aula_id,availability_id:w.extendedProps.availability_id,curso_id:this.curso.id,docente_id:this.curso.docente_id,domain_id:this.domain_id})),A={curso_id:this.curso.id,aula_id:this.parametroForm.value.aula_id,horarios:C};this.loading=!0,this.horarioService.saveHorario(A).subscribe(w=>{this.helpersService.showSuccessMessage("Horario guardado correctamente"),this.ref?.close()},w=>{this.helpersService.showErrorMessage("Error al guardar el horario")}).add(()=>{this.loading=!1})}else this.helpersService.showErrorMessage("Por favor, complete todos los campos requeridos")}closeModal(C){C.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(A){return new(A||p)(i.Y36(t.qu),i.Y36(F.E7),i.Y36(F.S),i.Y36(W),i.Y36(Q.e),i.Y36(z.$))};static#e=this.\u0275cmp=i.Xpm({type:p,selectors:[["app-seleccionar-horario-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"mb-4"],["for","aula",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","aula_id","optionLabel","nombre","optionValue","id","placeholder","Seleccione un aula",3,"options","onChange"],[3,"options"],[1,"flex","justify-center","mt-4"],["pButton","","type","button","label","Guardar",1,"p-button-success","mr-2",3,"disabled","click"],["pButton","","type","button","label","Cancelar",1,"p-button-secondary",3,"click"],[3,"draggable","visible","modal","header","visibleChange","onHide"],["dd",""],["pTemplate","footer"],[1,"grid"],[1,"col-6"],["for","start",1,"block","mb-2"],["dateFormat","dd-mm-yy","inputId","start","appendTo","body",3,"ngModel","ngModelChange"],["for","end",1,"block","mb-2"],["dateFormat","dd-mm-yy","inputId","end","appendTo","body",3,"ngModel","ngModelChange"],[1,"col-12","mt-3"],[1,"flex","flex-wrap","gap-3","mt-2"],[4,"ngFor","ngForOf"],[3,"ngModel","binary","label","ngModelChange"],["pButton","","label","Replicar","icon","pi pi-check",3,"click"],["pButton","","label","Cancelar","icon","pi pi-times",3,"click"]],template:function(A,w){1&A&&(i.TgZ(0,"p-panel"),i.YNc(1,U,2,1,"ng-template",0),i.YNc(2,s,14,14,"ng-template",1),i.qZA())},dependencies:[k.sg,$.XZ,Y.jx,t._Y,t.JJ,t.JL,t.On,I.f,J.Hq,v.Lt,Z.s,_.V,t.sg,t.u,S.w]})}return p})()},9062:(ot,K,l)=>{l.d(K,{B:()=>J});var t=l(8926),M=l(5118),e=l(9862),H=l(5516);let i=(()=>{class v{constructor(_,S,U){this.http=_,this.httpClientFormData=S,this.handler=U,this.baseUrl=`${H.N.API_BASE}`,this.urlparametro=`${H.N.API_BASE}`,this.httpOptions={headers:new e.WM({"Content-Type":"application/json"})},this.httpClientFormData=new e.eN(this.handler)}getAsistenciaCurso(_){return this.http.post(`${this.baseUrl}asistencia-curso`,_)}updateAsistenciaCurso(_){return this.http.post(`${this.baseUrl}asistencia-curso-marcar`,_)}static#t=this.\u0275fac=function(S){return new(S||v)(t.LFG(e.eN),t.LFG(e.eN),t.LFG(e.jN))};static#e=this.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var F=l(6814),D=l(5219),O=l(6223),W=l(9552),Q=l(1230);function z(v,Z){if(1&v&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&v){const _=t.oxw();t.xp6(1),t.hij("Asistencia ",_.cursoNombre,"")}}function k(v,Z){if(1&v&&(t.TgZ(0,"option",12),t._uU(1),t.qZA()),2&v){const _=Z.$implicit;t.Q6J("value",_),t.xp6(1),t.Oqu(_)}}function $(v,Z){1&v&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",13),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",13),t._uU(6,"Asistio"),t.qZA()())}function Y(v,Z){if(1&v){const _=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"input",14),t.NdJ("change",function(U){const q=t.CHM(_).$implicit,x=t.oxw(2);return t.KtG(x.onCheckAsistencia(U,q))}),t.qZA()()()}if(2&v){const _=Z.$implicit;t.xp6(2),t.Oqu(_.codigo),t.xp6(2),t.Oqu(_.nombres),t.xp6(2),t.Q6J("checked",_.is_marked)}}function I(v,Z){if(1&v){const _=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"Fecha:"),t.qZA(),t.TgZ(5,"select",7),t.NdJ("change",function(U){t.CHM(_);const N=t.oxw();return t.KtG(N.onFilterDateChange(U))}),t.YNc(6,k,2,2,"option",8),t.qZA(),t.TgZ(7,"p-table",9,10),t.YNc(9,$,7,0,"ng-template",0),t.YNc(10,Y,7,3,"ng-template",11),t.qZA()()()()}if(2&v){const _=t.oxw();t.xp6(6),t.Q6J("ngForOf",_.fechas),t.xp6(1),t.Q6J("value",_.asistenciaCursoList)("rows",10)("loading",_.loading)("rowHover",!0)}}let J=(()=>{class v{constructor(_,S,U){this.ref=_,this.config=S,this.asistenciaService=U,this.loading=!1,this.asistenciaCursoList=[],this.fechas=[],this.selectedFecha="",this.initialLoad=!0,this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.docente_id=this.config.data.docente_id,this.cursoNombre=this.config.data.cursoNombre,this.fechas=[],this.selectedFecha="2021-09-01",this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha,!0)}getAsistenciaCurso(_,S,U,N=!1){console.log("domainId",_),this.loading=!0,this.asistenciaService.getAsistenciaCurso({domain_id:_,curso_id:S,fecha:U}).subscribe(x=>{const m=new Date(x.horarios[0].fecha_inicio),T=new Date(x.horarios[0].fecha_fin),s=[];x.horarios.forEach(p=>{s.includes(p.day_id)||s.push(p.day_id)});const f=this.generateDatesWithDaysAndRange(m,T,s);this.fechas=f,N?this.fechas.length>0&&(this.selectedFecha=this.fechas[0],this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)):(this.loading=!1,this.asistenciaCursoList=x.participantes)})}onCheckAsistencia(_,S){const U={domain_id:this.domainId??1,curso_id:this.curso,alumno_id:S.alumno_id,fecha:this.selectedFecha,asistio:_.target.checked,docente_id:this.docente_id};console.log("data",U),this.asistenciaService.updateAsistenciaCurso(U).subscribe(()=>{})}generateDatesWithDaysAndRange(_,S,U){const N=[],q=new Date(_);for(;q<=S;)U.includes(q.getDay())&&N.push(q.toISOString().split("T")[0]),q.setDate(q.getDate()+1);return N}onFilterDateChange(_){this.selectedFecha=_.target.value,this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)}static#t=this.\u0275fac=function(S){return new(S||v)(t.Y36(M.E7),t.Y36(M.S),t.Y36(i))};static#e=this.\u0275cmp=t.Xpm({type:v,selectors:[["app-marcar-asistencia-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["for","fechaFilter"],["id","fechaFilter",3,"change"],[3,"value",4,"ngFor","ngForOf"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","body"],[3,"value"],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"checked","change"]],template:function(S,U){1&S&&(t.TgZ(0,"p-panel"),t.YNc(1,z,2,1,"ng-template",0),t.YNc(2,I,11,5,"ng-template",1),t.qZA())},dependencies:[F.sg,D.jx,O.YN,O.Kr,W.iA,Q.s]})}return v})()},4671:(ot,K,l)=>{l.d(K,{M:()=>J});var t=l(73),M=l(6223),e=l(3519),H=l.n(e),i=l(8926),F=l(5118),D=l(4067),O=l(8007),W=l(375),Q=l(5219),z=l(707),k=l(3714),$=l(1230);function Y(v,Z){1&v&&(i.TgZ(0,"span",2),i._uU(1,"Registrar Carreras T\xe9cnicas"),i.qZA())}function I(v,Z){if(1&v){const _=i.EpF();i.TgZ(0,"form",3),i.NdJ("ngSubmit",function(){i.CHM(_);const U=i.oxw();return i.KtG(U.guardarParametro())}),i.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),i._UZ(5,"input",8),i.TgZ(6,"label",9),i._uU(7,"C\xf3digo"),i.qZA()()(),i.TgZ(8,"div",6)(9,"span",7),i._UZ(10,"input",10),i.TgZ(11,"label",9),i._uU(12,"Nombre de Carrera"),i.qZA()()()()(),i.TgZ(13,"div",4)(14,"div",11)(15,"div",12),i._UZ(16,"button",13),i.TgZ(17,"button",14),i.NdJ("click",function(U){i.CHM(_);const N=i.oxw();return i.KtG(N.closeModal(U))}),i.qZA()()()()()}if(2&v){const _=i.oxw();i.Q6J("formGroup",_.parametroForm)}}let J=(()=>{class v{constructor(_,S,U,N,q,x,m){this.fb=_,this.ref=S,this.cdr=U,this.config=N,this.parametroService=q,this.router=x,this.helpersService=m,this.loading=!1,this.parametroDatos=new t.v,this.parametro=new t.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:["",M.kI.required],nombres:["",M.kI.required],domain_id:[this.helpersService.getDominioId()]})}guardarParametro(){this.parametroForm.valid?(console.log("Formulario v\xe1lido",this.parametroForm.value),this.parametroService.guardarCarreraTecnica(this.parametroForm.value).subscribe(_=>{this.ref?.close(),H().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},_=>{console.error("Error al guardar el parametro",_)})):console.error("Formulario inv\xe1lido")}closeModal(_){_.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(S){return new(S||v)(i.Y36(M.qu),i.Y36(F.E7),i.Y36(i.sBO),i.Y36(F.S),i.Y36(D.m),i.Y36(O.F0),i.Y36(W.$))};static#e=this.\u0275cmp=i.Xpm({type:v,selectors:[["app-reg-carrerastecnicas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo"],[1,"required"],["type","text","pInputText","","formControlName","nombres"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(S,U){1&S&&(i.TgZ(0,"p-panel"),i.YNc(1,Y,2,0,"ng-template",0),i.YNc(2,I,18,1,"ng-template",1),i.qZA())},dependencies:[Q.jx,M._Y,M.Fj,M.JJ,M.JL,z.Hq,k.o,$.s,M.sg,M.u]})}return v})()},2504:(ot,K,l)=>{l.d(K,{R:()=>Y});var t=l(8926),M=l(5118),e=l(4067),H=l(5219),i=l(6223),F=l(9552),D=l(3714),O=l(1230);function W(I,J){if(1&I&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&I){const v=t.oxw();t.xp6(1),t.hij("Seleccionar Alumnos para ",v.cursoNombre,"")}}function Q(I,J){if(1&I){const v=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"span",12)(3,"input",13,14),t.NdJ("input",function(_){t.CHM(v);const S=t.oxw(2);return t.KtG(S.onGlobalFilter(_))}),t.qZA()()()()}}function z(I,J){if(1&I){const v=t.EpF();t.TgZ(0,"tr")(1,"th",15),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",15),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",15),t._uU(6,"Celular"),t.qZA(),t.TgZ(7,"th",15),t._uU(8,"Correo"),t.qZA(),t.TgZ(9,"th",15)(10,"input",16,17),t.NdJ("change",function(_){t.CHM(v);const S=t.oxw(2);return t.KtG(S.onSelectAll(_))}),t.qZA(),t._uU(12),t.qZA()()}if(2&I){const v=t.MAs(11);t.xp6(12),t.hij(" ",v.checked?"Deseleccionar":"Seleccionar"," Todos ")}}function k(I,J){if(1&I){const v=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"input",18),t.NdJ("ngModelChange",function(_){const U=t.CHM(v).$implicit;return t.KtG(U.is_participant=_)})("ngModelChange",function(){const S=t.CHM(v).$implicit,U=t.oxw(2);return t.KtG(U.onSelectAlumno(S))}),t.qZA()()()}if(2&I){const v=J.$implicit;t.xp6(2),t.Oqu(v.codigo),t.xp6(2),t.Oqu(v.nombres),t.xp6(2),t.Oqu(v.celular),t.xp6(2),t.Oqu(v.email),t.xp6(2),t.Q6J("ngModel",v.is_participant)}}function $(I,J){if(1&I&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Q,5,0,"ng-template",8),t.YNc(6,z,13,1,"ng-template",0),t.YNc(7,k,11,5,"ng-template",9),t.qZA()()()()),2&I){const v=t.oxw();t.xp6(3),t.Q6J("value",v.cursoAlumnoList)("rows",10)("loading",v.loading)("rowHover",!0)}}let Y=(()=>{class I{constructor(v,Z,_){this.ref=v,this.config=Z,this.alumnoService=_,this.loading=!1,this.cursoAlumnoList=[],this.originalCursoAlumnoList=[],this.cursoNombre="",this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.cursoNombre=this.config.data.cursoNombre,this.getAlumnosCurso(this.domainId??1,this.curso)}getAlumnosCurso(v,Z){console.log("domainId",v),this.loading=!0,this.alumnoService.getAlumnosCurso(v,Z).subscribe(_=>{console.log("alumnos",_),this.cursoAlumnoList=_,this.originalCursoAlumnoList=[..._],this.loading=!1})}onSelectAlumno(v){console.log("alumno cambio seleccionado"),this.alumnoService.updateAlumnoCurso({domain_id:this.domainId??1,curso_id:this.curso,alumno_id:v.id,is_participant:v.is_participant}).subscribe(_=>{this.getAlumnosCurso(this.domainId,this.curso)})}onSelectAll(v){const Z=v.target.checked;this.cursoAlumnoList.forEach(_=>{_.is_participant=Z,this.onSelectAlumno(_)})}onGlobalFilter(v){const Z=v.target.value.toLowerCase();console.log("Filtro Global",Z),this.cursoAlumnoList=Z?this.originalCursoAlumnoList.filter(_=>_.codigo&&_.codigo.toLowerCase().includes(Z)||_.nombres&&_.nombres.toLowerCase().includes(Z)||_.email&&_.email.toLowerCase().includes(Z)):[...this.originalCursoAlumnoList]}static#t=this.\u0275fac=function(Z){return new(Z||I)(t.Y36(M.E7),t.Y36(M.S),t.Y36(e.m))};static#e=this.\u0275cmp=t.Xpm({type:I,selectors:[["app-seleccionar-alumnos-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar alumnos",1,"w-full",3,"input"],["filter",""],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"change"],["selectAll",""],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(Z,_){1&Z&&(t.TgZ(0,"p-panel"),t.YNc(1,W,2,1,"ng-template",0),t.YNc(2,$,8,4,"ng-template",1),t.qZA())},dependencies:[H.jx,i.Wl,i.JJ,i.On,F.iA,D.o,O.s]})}return I})()},5258:(ot,K,l)=>{l.d(K,{a:()=>Dt});var t=l(8926),M=l(3519),e=l.n(M),H=l(995),i=l(73),F=l(6223),D=l(5118),O=l(4067),W=l(375),Q=l(6593),z=l(8672),k=l(6814),$=l(707),Y=l(5219),I=l(3714),J=l(1230),v=l(3259),Z=l(6860);function _(h,R){1&h&&(t.TgZ(0,"span",2),t._uU(1," Responder Pregunta "),t.qZA())}function S(h,R){1&h&&t._UZ(0,"ngx-spinner",5)}function U(h,R){if(1&h&&(t.TgZ(0,"div",14)(1,"span",15)(2,"div",16),t._UZ(3,"span",17),t.qZA()()()),2&h){const c=t.oxw(3);t.xp6(3),t.Q6J("innerHTML",c.preguntaDocenteValue,t.oJD)}}function N(h,R){1&h&&(t.TgZ(0,"div",14)(1,"span",15),t._UZ(2,"input",18),t.TgZ(3,"label",19),t._uU(4,"Formulaci\xf3n de Pregunta por Docente"),t.qZA()()())}function q(h,R){if(1&h){const c=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"input",24),t.NdJ("change",function(){const P=t.CHM(c).index,j=t.oxw(4);return t.KtG(j.onRadioChange(P))}),t.qZA(),t.TgZ(3,"div",25),t._UZ(4,"input",26),t.qZA()()()}if(2&h){const c=R.index;t.Q6J("formGroupName",c),t.xp6(2),t.Q6J("value",!0),t.xp6(2),t.Q6J("id","alternativa-"+c)}}function x(h,R){if(1&h&&(t.TgZ(0,"div",14)(1,"div",20),t.YNc(2,q,5,3,"div",21),t.qZA()()),2&h){const c=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",c.getAlternativasControls())}}const m=function(){return{height:"90px"}};function T(h,R){1&h&&(t.TgZ(0,"div",14)(1,"span",15)(2,"div",8)(3,"div",27)(4,"label",28),t._uU(5,"Ingrese la respuesta"),t.qZA(),t._UZ(6,"p-editor",29),t.qZA()()()()),2&h&&(t.xp6(6),t.Akn(t.DdM(2,m)))}function s(h,R){if(1&h){const c=t.EpF();t.TgZ(0,"form",6),t.NdJ("ngSubmit",function(){t.CHM(c);const b=t.oxw(2);return t.KtG(b.guardarPregunta())}),t.TgZ(1,"div",7)(2,"div",8),t.YNc(3,U,4,1,"div",9),t.YNc(4,N,5,0,"div",9),t.YNc(5,x,3,1,"div",9),t.YNc(6,T,7,3,"div",9),t.qZA()(),t.TgZ(7,"div",7)(8,"div",10)(9,"div",11),t._UZ(10,"button",12),t.TgZ(11,"button",13),t.NdJ("click",function(b){t.CHM(c);const P=t.oxw(2);return t.KtG(P.closeModal(b))}),t.qZA()()()()()}if(2&h){const c=t.oxw(2);let g,b,P,j;t.Q6J("formGroup",c.preguntaForm),t.xp6(3),t.Q6J("ngIf",67===(null==c.preguntaForm||null==(g=c.preguntaForm.get("tipoPregunta"))?null:g.value)),t.xp6(1),t.Q6J("ngIf",66===(null==c.preguntaForm||null==(b=c.preguntaForm.get("tipoPregunta"))?null:b.value)),t.xp6(1),t.Q6J("ngIf",66===(null==c.preguntaForm||null==(P=c.preguntaForm.get("tipoPregunta"))?null:P.value)),t.xp6(1),t.Q6J("ngIf",67===(null==c.preguntaForm||null==(j=c.preguntaForm.get("tipoPregunta"))?null:j.value))}}function f(h,R){if(1&h&&(t.YNc(0,S,1,0,"ngx-spinner",3),t.YNc(1,s,12,5,"form",4)),2&h){const c=t.oxw();t.Q6J("ngIf",c.loading),t.xp6(1),t.Q6J("ngIf",!c.loading)}}let p=(()=>{class h{constructor(c,g,b,P,j,Ht,it){this.fb=c,this.ref=g,this.config=b,this.parametroService=P,this.helpersService=j,this.sanitizer=Ht,this.spinner=it,this.loading=!1,this.parametroDatos=new i.v,this.parametro=new i.v,this.mostrarCursos=!1,this.tiposPregunta=[],this.sanitizePregunta="",this.alumnoId=null,this.spinner.show(),this.loading=!0;const wt=localStorage.getItem("user");if(wt){const ft=JSON.parse(wt);this.alumnoId=ft.alumno_id||1}else console.error("No se encontr\xf3 el objeto user en el localStorage");this.preguntaForm=this.fb.group({tipoPregunta:["",F.kI.required],valor_pregunta:["",F.kI.required],pregunta_docente:["",F.kI.required],alternativas:this.fb.array([]),respuesta_alumno:["",F.kI.required]})}ngOnInit(){this.idEvaluacion=this.config.data.idEvaluacion,this.acciones=this.config.data.acciones,this.sanitizePregunta=this.sanitizer.bypassSecurityTrustHtml(this.config.data.data.pregunta_docente),this.preguntaDocenteValue=this.config.data.data.pregunta_docente,Promise.all([this.listarDePregunta()]).then(()=>{("ver"===this.acciones||"actualizar"===this.acciones||"alumno"===this.acciones||"docente"===this.acciones)&&(this.preguntaForm.patchValue({tipoPregunta:this.config.data.data.tipo_de_evaluacion_id,valor_pregunta:this.config.data.data.valor_pregunta,pregunta_docente:this.preguntaDocenteValue.changingThisBreaksApplicationSecurity,respuesta_alumno:null}),this.setAlternativasv2(this.config.data.data.alternativas)),this.loading=!1})}setAlternativasv2(c){const g=this.preguntaForm.get("alternativas");c.forEach(b=>{g.push(this.fb.group({texto:[b.texto,F.kI.required],respuesta_correcta_seleccionada:[!1,F.kI.required]}))})}onRadioChange(c){this.preguntaForm.get("alternativas").controls.forEach((b,P)=>{const j=b.get("respuesta_correcta_seleccionada");j&&j.setValue(P===c)})}listarDePregunta(){return new Promise((c,g)=>{this.parametroService.getTipoDePregunta().subscribe(b=>{console.log("Lista de getTipoDePregunta",b),this.tiposPregunta=b,c()},b=>g(b))})}setAlternativas(c){const g=c.map(P=>this.fb.group(P)),b=this.fb.array(g);this.preguntaForm.setControl("alternativas",b)}guardarRespuestaCorrecta(){this.preguntaForm.value.alternativas.findIndex(b=>!0===b.respuesta_correcta_seleccionada)}setRespuestaAlumno(){const c=this.preguntaForm.value.alternativas.findIndex(g=>!0===g.respuesta_correcta_seleccionada)+1;this.preguntaForm.get("respuesta_alumno")?.setValue(c)}guardarPregunta(){if(console.log(this.preguntaForm),66===this.config.data.data.tipo_de_evaluacion_id&&this.setRespuestaAlumno(),this.preguntaForm.valid){const c={alumno_id:this.alumnoId,pregunta_id:this.config.data.data.id,respuesta:this.preguntaForm.value.respuesta_alumno,evaluacion_id:this.idEvaluacion,domain_id:this.helpersService.getDominioId(),estado_id:1};this.parametroService.guardarPreguntaAlumno(c).subscribe(g=>{this.ref?.close(),e().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},g=>{console.error("Error al guardar el parametro",g)})}else console.error("Formulario inv\xe1lido")}closeModal(c){c.preventDefault(),this.ref?.close()}getAlternativasControls(){return this.preguntaForm.get("alternativas").controls}static#t=this.\u0275fac=function(g){return new(g||h)(t.Y36(F.qu),t.Y36(D.E7),t.Y36(D.S),t.Y36(O.m),t.Y36(W.$),t.Y36(Q.H7),t.Y36(z.t2))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-corregir-preguntas-unica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],["bdColor","rgba(0,0,0,0.5)","size","large","color","#fff","type","ball-spin",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["bdColor","rgba(0,0,0,0.5)","size","large","color","#fff","type","ball-spin"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],["class","col-12",4,"ngIf"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-check","label","Responder","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],[1,"col-12"],[1,"p-float-label"],[1,"centered-container"],["pTooltip","Responder pregunta","tooltipPosition","top",3,"innerHTML"],["type","text","pInputText","","formControlName","pregunta_docente","readonly",""],[1,"required"],["formArrayName","alternativas"],["class","col-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12",3,"formGroupName"],[1,"alternativa-container"],["type","radio","name","respuesta_correcta_seleccionada","formControlName","respuesta_correcta_seleccionada",3,"value","change"],[1,"field","col-12"],["type","text","pInputText","","formControlName","texto","readonly","",3,"id"],[1,"field","col-12","md:col-12"],["for",""],["formControlName","respuesta_alumno"]],template:function(g,b){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,_,2,0,"ng-template",0),t.YNc(2,f,2,2,"ng-template",1),t.qZA())},dependencies:[k.sg,k.O5,F._Y,F.Fj,F._,F.JJ,F.JL,$.Hq,Y.jx,I.o,J.s,v.u,Z.ML,F.sg,F.u,F.x0,F.CE,z.Ro]})}return h})();var y=l(9552);function C(h,R){1&h&&(t.TgZ(0,"span",2),t._uU(1,"Lista de preguntas por corregir"),t.qZA())}function A(h,R){1&h&&(t.TgZ(0,"tr")(1,"th",11),t._uU(2,"Preguntas"),t.qZA(),t.TgZ(3,"th",11),t._uU(4,"Estado"),t.qZA()())}function w(h,R){if(1&h){const c=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",12),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.corregirPregunta(P))}),t.qZA()()()}}function L(h,R){1&h&&(t.TgZ(0,"tr")(1,"td",13),t._uU(2,"No se encontraron registros"),t.qZA()())}function V(h,R){1&h&&(t.TgZ(0,"tr")(1,"td",13),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function X(h,R){if(1&h&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,A,5,0,"ng-template",0),t.YNc(6,w,3,0,"ng-template",8),t.YNc(7,L,3,0,"ng-template",9),t.YNc(8,V,3,0,"ng-template",10),t.qZA()()()()),2&h){const c=t.oxw();t.xp6(3),t.Q6J("value",c.carrerastecnicasList)("rows",10)("loading",c.loading)("rowHover",!0)("paginator",!0)}}let at=(()=>{class h{constructor(c,g,b){this.dialogService=c,this.cursosService=g,this.config=b,this.loading=!1,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){console.log(this.config.data.data);const c=localStorage.getItem("user");if(c){const g=JSON.parse(c);this.docenteId=g.docente_id||8}else console.error("No se encontr\xf3 el objeto user en el localStorage");this.listarPreguntasParaCorregir()}listarPreguntasParaCorregir(){this.cursosService.getListadoDePreguntasPorCorregir(this.config.data.data.id).subscribe(c=>{this.carrerastecnicasList=c,this.originalCarrerastecnicasList=[...c]})}corregirPregunta(c){this.ref=this.dialogService.open(p,{width:"60%",styleClass:"custom-dialog-header",data:{data:c.pregunta,acciones:"docente"}}),this.ref.onClose.subscribe(()=>{this.listarPreguntasParaCorregir()})}static#t=this.\u0275fac=function(g){return new(g||h)(t.Y36(D.xA),t.Y36(O.m),t.Y36(D.S))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-corregir-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["scope","col",2,"min-width","10rem"],["pButton","","label","Corregir",1,"p-button-rounded","p-button-info",3,"click"],["colspan","23"]],template:function(g,b){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,C,2,0,"ng-template",0),t.YNc(2,X,9,5,"ng-template",1),t.qZA())},dependencies:[$.Hq,Y.jx,y.iA,J.s]})}return h})();const dt=["filter"],Ct=["dt1"];function bt(h,R){1&h&&(t.TgZ(0,"span",2),t._uU(1,"Listado de preguntassssssssss"),t.qZA())}function Mt(h,R){if(1&h){const c=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(b){t.CHM(c);const P=t.oxw(2);return t.KtG(P.onGlobalFilter(b))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(c);const b=t.oxw(2);return t.KtG(b.navigateAddCurso())}),t.qZA()()()}}function ht(h,R){1&h&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"Pregunta"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Valor de la pregunta"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Puntos de la pregunta"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Porcentaje de la pregunta"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"Corregir Preguntas por alumnos"),t.qZA()())}function pt(h,R){if(1&h){const c=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.navigateToDetalle(P))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.navigateToEdit(P))}),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.navigateToDelete(P.id))}),t.qZA()(),t.TgZ(5,"td"),t._UZ(6,"span",23),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",24),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.corregirPregunta(P))}),t.qZA()()()}if(2&h){const c=R.$implicit;t.xp6(6),t.Q6J("innerHTML",c.pregunta_docente,t.oJD),t.xp6(2),t.Oqu(c.valor_pregunta),t.xp6(2),t.Oqu(c.puntos),t.xp6(2),t.hij("",c.porcentaje,"%")}}function yt(h,R){1&h&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"No se encontraron registros"),t.qZA()())}function Pt(h,R){1&h&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function xt(h,R){if(1&h&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Mt,7,0,"ng-template",8),t.YNc(6,ht,13,0,"ng-template",0),t.YNc(7,pt,15,4,"ng-template",9),t.YNc(8,yt,3,0,"ng-template",10),t.YNc(9,Pt,3,0,"ng-template",11),t.qZA()()()()),2&h){const c=t.oxw();t.xp6(3),t.Q6J("value",c.grupoEvaluacionesList)("rows",10)("loading",c.loading)("rowHover",!0)("paginator",!0)}}let Zt=(()=>{class h{constructor(c,g,b,P){this.dialogService=c,this.grupoEvaluacionesService=g,this.config=b,this.sanitizer=P,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.evaluaciones=this.config.data.data,console.log(this.evaluaciones,"car"),this.listarPreguntas()}listarPreguntas(){this.grupoEvaluacionesService.getPreguntas({id:this.evaluaciones.id}).subscribe(c=>{c.forEach(g=>{g.puntos=Math.floor(20*Math.random())+1,g.porcentaje=20*g.puntos/100}),this.grupoEvaluacionesList=c.map(g=>({...g,pregunta_docente:this.sanitizer.bypassSecurityTrustHtml(g.pregunta_docente)})),this.originalgrupoEvaluacionesList=[...this.grupoEvaluacionesList]})}calcularTotales(){let c=0,g=0;this.grupoEvaluacionesList.forEach(b=>{c+=b.promedio||0,g+=b.porcentaje||0}),this.promedioTotal=c/this.grupoEvaluacionesList.length,this.porcentajeTotal=g/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(H.$,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idEvaluacion:this.evaluaciones.id}}),this.ref.onClose.subscribe(c=>{this.listarPreguntas()})}navigateToDetalle(c){this.ref=this.dialogService.open(H.$,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}navigateToEdit(c){this.ref=this.dialogService.open(H.$,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}navigateToDelete(c){e().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const g=document.querySelector(".swal2-container");g&&g.setAttribute("style","z-index: 2147483647 !important")}}).then(g=>{g.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(c).subscribe(b=>{e().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const P=document.querySelector(".swal2-container");P&&P.setAttribute("style","z-index: 2147483647 !important")}}),this.listarPreguntas()},b=>{e().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(c){const g=c.target.value.toLowerCase();this.grupoEvaluacionesList=g?this.originalgrupoEvaluacionesList.filter(b=>b.codigo&&b.codigo.toLowerCase().includes(g)||b.nombres&&b.nombres.toLowerCase().includes(g)||b.cursos&&b.cursos.toLowerCase().includes(g)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(c){this.ref=this.dialogService.open(Dt,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}corregirPregunta(c){this.ref=this.dialogService.open(at,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}static#t=this.\u0275fac=function(g){return new(g||h)(t.Y36(D.xA),t.Y36(O.m),t.Y36(D.S),t.Y36(Q.H7))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-ver-listado-de-preguntas"]],viewQuery:function(g,b){if(1&g&&(t.Gf(dt,5),t.Gf(Ct,5)),2&g){let P;t.iGM(P=t.CRH())&&(b.filter=P.first),t.iGM(P=t.CRH())&&(b.tabledt1=P.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar listado de preguntas",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevosssssssss","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pTooltip","Responder pregunta","tooltipPosition","top",3,"innerHTML"],["pButton","","label","Corregir",1,"p-button-rounded","p-button-info",3,"click"],["colspan","6"]],template:function(g,b){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,bt,2,0,"ng-template",0),t.YNc(2,xt,10,5,"ng-template",1),t.qZA())},dependencies:[Y.jx,$.Hq,y.iA,I.o,J.s,v.u]})}return h})();var Tt=l(3731),_t=l(8007);const Et=["filter"],Ot=["dt1"];function Ft(h,R){1&h&&(t.TgZ(0,"span",2),t._uU(1,"Listado de evaluaciones por grupooooooooooooo"),t.qZA())}function St(h,R){if(1&h){const c=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(b){t.CHM(c);const P=t.oxw(2);return t.KtG(P.onGlobalFilter(b))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(c);const b=t.oxw(2);return t.KtG(b.navigateAddCurso())}),t.qZA()()()}}function It(h,R){1&h&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Nombre del grupo"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Preguntas"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Nota"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"% Obtenido"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"Valor %"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"Fecha y Hora 1"),t.qZA(),t.TgZ(17,"th",19),t._uU(18,"Fecha y Hora 2"),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"Tipo de Evaluaci\xf3n"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"Observaciones"),t.qZA(),t.TgZ(23,"th",19),t._uU(24,"Estado"),t.qZA()())}function Nt(h,R){if(1&h){const c=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.navigateToEdit(P))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.navigateToDelete(P.id))}),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td")(9,"button",22),t.NdJ("click",function(){const P=t.CHM(c).$implicit,j=t.oxw(2);return t.KtG(j.agregarPreguntas(P))}),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA()()}if(2&h){const c=R.$implicit;t.xp6(5),t.Oqu(c.id),t.xp6(2),t.Oqu(c.nombre),t.xp6(4),t.Oqu(c.nota),t.xp6(2),t.hij("",c.porcentaje_obtenido,"%"),t.xp6(2),t.hij("",c.porcentaje_evaluacion,"%"),t.xp6(2),t.Oqu(c.fecha_y_hora_programo),t.xp6(2),t.Oqu(c.fecha_hora_2),t.xp6(2),t.Oqu(c.tipo_evaluacion_nombre),t.xp6(2),t.Oqu(c.observaciones),t.xp6(2),t.Oqu(c.estado_nombre)}}function Lt(h,R){1&h&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2,"No se encontraron registros"),t.qZA()())}function Ut(h,R){1&h&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function Yt(h,R){if(1&h&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,St,7,0,"ng-template",8),t.YNc(6,It,25,0,"ng-template",0),t.YNc(7,Nt,26,10,"ng-template",9),t.YNc(8,Lt,3,0,"ng-template",10),t.YNc(9,Ut,3,0,"ng-template",11),t.qZA()()()()),2&h){const c=t.oxw();t.xp6(3),t.Q6J("value",c.grupoEvaluacionesList)("rows",10)("loading",c.loading)("rowHover",!0)("paginator",!0)}}let Dt=(()=>{class h{constructor(c,g,b,P){this.dialogService=c,this.grupoEvaluacionesService=g,this.router=b,this.config=P,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getListadoDeEvaluacionesPorGrupo({id:this.grupoEvaluaciones.id}).subscribe(c=>{this.grupoEvaluacionesList=c,this.originalgrupoEvaluacionesList=[...c]})}calcularTotales(){let c=0,g=0;this.grupoEvaluacionesList.forEach(b=>{c+=b.promedio||0,g+=b.porcentaje||0}),this.promedioTotal=c/this.grupoEvaluacionesList.length,this.porcentajeTotal=g/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(Tt.k,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"registrar",idGrupoEvaluaciones:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(()=>{this.listarGrupoEvaluaciones()})}navigateToEdit(c){c&&c.id?(this.ref=this.dialogService.open(Tt.k,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idEvaluacion:c.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarGrupoEvaluaciones()})):console.error("Evaluaci\xf3n no v\xe1lida o sin ID",c)}navigateToDelete(c){e().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const g=document.querySelector(".swal2-container");g&&g.setAttribute("style","z-index: 2147483647 !important")}}).then(g=>{g.isConfirmed&&this.grupoEvaluacionesService.eliminarListadoDeEvaluacionesPorGrupo(c).subscribe(b=>{e().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const P=document.querySelector(".swal2-container");P&&P.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},b=>{e().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(c){const g=c.target.value.toLowerCase();this.grupoEvaluacionesList=g?this.originalgrupoEvaluacionesList.filter(b=>b.codigo&&b.codigo.toLowerCase().includes(g)||b.nombres&&b.nombres.toLowerCase().includes(g)||b.cursos&&b.cursos.toLowerCase().includes(g)):[...this.originalgrupoEvaluacionesList]}agregarPreguntas(c){this.ref=this.dialogService.open(Zt,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",grupoEvaluacionesId:this.grupoEvaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(g){return new(g||h)(t.Y36(D.xA),t.Y36(O.m),t.Y36(_t.F0),t.Y36(D.S))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-ver-lis-eval-grupo"]],viewQuery:function(g,b){if(1&g&&(t.Gf(Et,5),t.Gf(Ot,5)),2&g){let P;t.iGM(P=t.CRH())&&(b.filter=P.first),t.iGM(P=t.CRH())&&(b.tabledt1=P.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar por listado de evaluaciones por grupo",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevooooooooo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-list","pTooltip","Listado de preguntas","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","12"]],template:function(g,b){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,Ft,2,0,"ng-template",0),t.YNc(2,Yt,10,5,"ng-template",1),t.qZA())},dependencies:[Y.jx,$.Hq,y.iA,I.o,J.s,v.u]})}return h})()},995:(ot,K,l)=>{l.d(K,{$:()=>Ue});var t=l(73),M=l(6223),e=l(3519),H=l.n(e);const i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function D(n){return(a={})=>{const o=a.width?String(a.width):n.defaultWidth;return n.formats[o]||n.formats[n.defaultWidth]}}const z={date:D({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:D({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:D({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},k={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Y(n){return(a,o)=>{let u;if("formatting"===(o?.context?String(o.context):"standalone")&&n.formattingValues){const G=n.defaultFormattingWidth||n.defaultWidth,et=o?.width?String(o.width):G;u=n.formattingValues[et]||n.formattingValues[G]}else{const G=n.defaultWidth,et=o?.width?String(o.width):n.defaultWidth;u=n.values[et]||n.values[G]}return u[n.argumentCallback?n.argumentCallback(a):a]}}function q(n){return(a,o={})=>{const r=o.width,E=a.match(r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth]);if(!E)return null;const G=E[0],et=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],rt=Array.isArray(et)?function m(n,a){for(let o=0;o<n.length;o++)if(a(n[o]))return o}(et,tt=>tt.test(G)):function x(n,a){for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&a(n[o]))return o}(et,tt=>tt.test(G));let st;return st=n.valueCallback?n.valueCallback(rt):rt,st=o.valueCallback?o.valueCallback(st):st,{value:st,rest:a.slice(G.length)}}}const bt={code:"en-US",formatDistance:(n,a,o)=>{let r;const u=i[n];return r="string"==typeof u?u:1===a?u.one:u.other.replace("{{count}}",a.toString()),o?.addSuffix?o.comparison&&o.comparison>0?"in "+r:r+" ago":r},formatLong:z,formatRelative:(n,a,o,r)=>k[n],localize:{ordinalNumber:(n,a)=>{const o=Number(n),r=o%100;if(r>20||r<10)switch(r%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},era:Y({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Y({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:n=>n-1}),month:Y({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Y({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Y({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function T(n){return(a,o={})=>{const r=a.match(n.matchPattern);if(!r)return null;const u=r[0],E=a.match(n.parsePattern);if(!E)return null;let G=n.valueCallback?n.valueCallback(E[0]):E[0];return G=o.valueCallback?o.valueCallback(G):G,{value:G,rest:a.slice(u.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:n=>parseInt(n,10)}),era:q({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:q({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:n=>n+1}),month:q({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:q({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let ht={};function pt(){return ht}Math.pow(10,8);const _t=6048e5;function it(n){const a=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===a?new n.constructor(+n):"number"==typeof n||"[object Number]"===a||"string"==typeof n||"[object String]"===a?new Date(n):new Date(NaN)}function ft(n){const a=it(n);return a.setHours(0,0,0,0),a}function Rt(n){const a=it(n),o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return o.setUTCFullYear(a.getFullYear()),+n-+o}function ct(n,a){return n instanceof Date?new n.constructor(a):new Date(a)}function mt(n,a){const o=pt(),r=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,u=it(n),E=u.getDay(),G=(E<r?7:0)+E-r;return u.setDate(u.getDate()-G),u.setHours(0,0,0,0),u}function vt(n){return mt(n,{weekStartsOn:1})}function Gt(n){const a=it(n),o=a.getFullYear(),r=ct(n,0);r.setFullYear(o+1,0,4),r.setHours(0,0,0,0);const u=vt(r),E=ct(n,0);E.setFullYear(o,0,4),E.setHours(0,0,0,0);const G=vt(E);return a.getTime()>=u.getTime()?o+1:a.getTime()>=G.getTime()?o:o-1}function Jt(n,a){const o=it(n),r=o.getFullYear(),u=pt(),E=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,G=ct(n,0);G.setFullYear(r+1,0,E),G.setHours(0,0,0,0);const et=mt(G,a),rt=ct(n,0);rt.setFullYear(r,0,E),rt.setHours(0,0,0,0);const st=mt(rt,a);return o.getTime()>=et.getTime()?r+1:o.getTime()>=st.getTime()?r:r-1}function B(n,a){return(n<0?"-":"")+Math.abs(n).toString().padStart(a,"0")}const lt={y(n,a){const o=n.getFullYear(),r=o>0?o:1-o;return B("yy"===a?r%100:r,a.length)},M(n,a){const o=n.getMonth();return"M"===a?String(o+1):B(o+1,2)},d:(n,a)=>B(n.getDate(),a.length),a(n,a){const o=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];default:return"am"===o?"a.m.":"p.m."}},h:(n,a)=>B(n.getHours()%12||12,a.length),H:(n,a)=>B(n.getHours(),a.length),m:(n,a)=>B(n.getMinutes(),a.length),s:(n,a)=>B(n.getSeconds(),a.length),S(n,a){const o=a.length,r=n.getMilliseconds();return B(Math.trunc(r*Math.pow(10,o-3)),a.length)}},Wt={G:function(n,a,o){const r=n.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"});case"GGGGG":return o.era(r,{width:"narrow"});default:return o.era(r,{width:"wide"})}},y:function(n,a,o){if("yo"===a){const r=n.getFullYear();return o.ordinalNumber(r>0?r:1-r,{unit:"year"})}return lt.y(n,a)},Y:function(n,a,o,r){const u=Jt(n,r),E=u>0?u:1-u;return"YY"===a?B(E%100,2):"Yo"===a?o.ordinalNumber(E,{unit:"year"}):B(E,a.length)},R:function(n,a){return B(Gt(n),a.length)},u:function(n,a){return B(n.getFullYear(),a.length)},Q:function(n,a,o){const r=Math.ceil((n.getMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return B(r,2);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});default:return o.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,a,o){const r=Math.ceil((n.getMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return B(r,2);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});default:return o.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,a,o){const r=n.getMonth();switch(a){case"M":case"MM":return lt.M(n,a);case"Mo":return o.ordinalNumber(r+1,{unit:"month"});case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});default:return o.month(r,{width:"wide",context:"formatting"})}},L:function(n,a,o){const r=n.getMonth();switch(a){case"L":return String(r+1);case"LL":return B(r+1,2);case"Lo":return o.ordinalNumber(r+1,{unit:"month"});case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});default:return o.month(r,{width:"wide",context:"standalone"})}},w:function(n,a,o,r){const u=function ne(n,a){const o=it(n),r=+mt(o,a)-+function ee(n,a){const o=pt(),r=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=Jt(n,a),E=ct(n,0);return E.setFullYear(u,0,r),E.setHours(0,0,0,0),mt(E,a)}(o,a);return Math.round(r/_t)+1}(n,r);return"wo"===a?o.ordinalNumber(u,{unit:"week"}):B(u,a.length)},I:function(n,a,o){const r=function te(n){const a=it(n),o=+vt(a)-+function Xt(n){const a=Gt(n),o=ct(n,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),vt(o)}(a);return Math.round(o/_t)+1}(n);return"Io"===a?o.ordinalNumber(r,{unit:"week"}):B(r,a.length)},d:function(n,a,o){return"do"===a?o.ordinalNumber(n.getDate(),{unit:"date"}):lt.d(n,a)},D:function(n,a,o){const r=function zt(n){const a=it(n);return function $t(n,a){const o=ft(n),r=ft(a),u=+o-Rt(o),E=+r-Rt(r);return Math.round((u-E)/864e5)}(a,function Vt(n){const a=it(n),o=ct(n,0);return o.setFullYear(a.getFullYear(),0,1),o.setHours(0,0,0,0),o}(a))+1}(n);return"Do"===a?o.ordinalNumber(r,{unit:"dayOfYear"}):B(r,a.length)},E:function(n,a,o){const r=n.getDay();switch(a){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"});default:return o.day(r,{width:"wide",context:"formatting"})}},e:function(n,a,o,r){const u=n.getDay(),E=(u-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(E);case"ee":return B(E,2);case"eo":return o.ordinalNumber(E,{unit:"day"});case"eee":return o.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(u,{width:"short",context:"formatting"});default:return o.day(u,{width:"wide",context:"formatting"})}},c:function(n,a,o,r){const u=n.getDay(),E=(u-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(E);case"cc":return B(E,a.length);case"co":return o.ordinalNumber(E,{unit:"day"});case"ccc":return o.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(u,{width:"narrow",context:"standalone"});case"cccccc":return o.day(u,{width:"short",context:"standalone"});default:return o.day(u,{width:"wide",context:"standalone"})}},i:function(n,a,o){const r=n.getDay(),u=0===r?7:r;switch(a){case"i":return String(u);case"ii":return B(u,a.length);case"io":return o.ordinalNumber(u,{unit:"day"});case"iii":return o.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(r,{width:"short",context:"formatting"});default:return o.day(r,{width:"wide",context:"formatting"})}},a:function(n,a,o){const u=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(u,{width:"narrow",context:"formatting"});default:return o.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(n,a,o){const r=n.getHours();let u;switch(u=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",a){case"b":case"bb":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(u,{width:"narrow",context:"formatting"});default:return o.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(n,a,o){const r=n.getHours();let u;switch(u=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",a){case"B":case"BB":case"BBB":return o.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(u,{width:"narrow",context:"formatting"});default:return o.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(n,a,o){if("ho"===a){let r=n.getHours()%12;return 0===r&&(r=12),o.ordinalNumber(r,{unit:"hour"})}return lt.h(n,a)},H:function(n,a,o){return"Ho"===a?o.ordinalNumber(n.getHours(),{unit:"hour"}):lt.H(n,a)},K:function(n,a,o){const r=n.getHours()%12;return"Ko"===a?o.ordinalNumber(r,{unit:"hour"}):B(r,a.length)},k:function(n,a,o){let r=n.getHours();return 0===r&&(r=24),"ko"===a?o.ordinalNumber(r,{unit:"hour"}):B(r,a.length)},m:function(n,a,o){return"mo"===a?o.ordinalNumber(n.getMinutes(),{unit:"minute"}):lt.m(n,a)},s:function(n,a,o){return"so"===a?o.ordinalNumber(n.getSeconds(),{unit:"second"}):lt.s(n,a)},S:function(n,a){return lt.S(n,a)},X:function(n,a,o){const r=n.getTimezoneOffset();if(0===r)return"Z";switch(a){case"X":return Bt(r);case"XXXX":case"XX":return ut(r);default:return ut(r,":")}},x:function(n,a,o){const r=n.getTimezoneOffset();switch(a){case"x":return Bt(r);case"xxxx":case"xx":return ut(r);default:return ut(r,":")}},O:function(n,a,o){const r=n.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+qt(r,":");default:return"GMT"+ut(r,":")}},z:function(n,a,o){const r=n.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+qt(r,":");default:return"GMT"+ut(r,":")}},t:function(n,a,o){return B(Math.trunc(n.getTime()/1e3),a.length)},T:function(n,a,o){return B(n.getTime(),a.length)}};function qt(n,a=""){const o=n>0?"-":"+",r=Math.abs(n),u=Math.trunc(r/60),E=r%60;return 0===E?o+String(u):o+String(u)+a+B(E,2)}function Bt(n,a){return n%60==0?(n>0?"-":"+")+B(Math.abs(n)/60,2):ut(n,a)}function ut(n,a=""){const o=n>0?"-":"+",r=Math.abs(n);return o+B(Math.trunc(r/60),2)+a+B(r%60,2)}const kt=(n,a)=>{switch(n){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});default:return a.date({width:"full"})}},Kt=(n,a)=>{switch(n){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});default:return a.time({width:"full"})}},oe={p:Kt,P:(n,a)=>{const o=n.match(/(P+)(p+)?/)||[],r=o[1],u=o[2];if(!u)return kt(n,a);let E;switch(r){case"P":E=a.dateTime({width:"short"});break;case"PP":E=a.dateTime({width:"medium"});break;case"PPP":E=a.dateTime({width:"long"});break;default:E=a.dateTime({width:"full"})}return E.replace("{{date}}",kt(r,a)).replace("{{time}}",Kt(u,a))}},ae=/^D+$/,ie=/^Y+$/,re=["D","DD","YY","YYYY"];const ge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,me=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,he=/^'([^]*?)'?$/,_e=/''/g,fe=/[a-zA-Z]/;function ve(n,a,o){const r=pt(),u=o?.locale??r.locale??bt,E=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,G=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,et=it(n);if(!function pe(n){if(!function de(n){return n instanceof Date||"object"==typeof n&&"[object Date]"===Object.prototype.toString.call(n)}(n)&&"number"!=typeof n)return!1;const a=it(n);return!isNaN(Number(a))}(et))throw new RangeError("Invalid time value");let rt=a.match(me).map(nt=>{const tt=nt[0];return"p"===tt||"P"===tt?(0,oe[tt])(nt,u.formatLong):nt}).join("").match(ge).map(nt=>{if("''"===nt)return{isToken:!1,value:"'"};const tt=nt[0];if("'"===tt)return{isToken:!1,value:Ce(nt)};if(Wt[tt])return{isToken:!0,value:nt};if(tt.match(fe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+tt+"`");return{isToken:!1,value:nt}});u.localize.preprocessor&&(rt=u.localize.preprocessor(et,rt));const st={firstWeekContainsDate:E,weekStartsOn:G,locale:u};return rt.map(nt=>{if(!nt.isToken)return nt.value;const tt=nt.value;return(!o?.useAdditionalWeekYearTokens&&function le(n){return ie.test(n)}(tt)||!o?.useAdditionalDayOfYearTokens&&function se(n){return ae.test(n)}(tt))&&function ce(n,a,o){const r=function ue(n,a,o){const r="Y"===n[0]?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${a}\`) for formatting ${r} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(n,a,o);if(console.warn(r),re.includes(n))throw new RangeError(r)}(tt,a,String(n)),(0,Wt[tt[0]])(et,tt,u.localize,st)}).join("")}function Ce(n){const a=n.match(he);return a?a[1].replace(_e,"'"):n}var d=l(8926),jt=l(5118),be=l(4067),xe=l(375),Qt=l(6814),Te=l(5219),Ee=l(707),De=l(3714),we=l(3965),Ae=l(1230),Me=l(6860);function ye(n,a){if(1&n&&(d.TgZ(0,"span",2),d._uU(1),d.qZA()),2&n){const o=d.oxw();d.xp6(1),d.hij(" ","ver"===o.acciones?"Ver Pregunta":"actualizar"===o.acciones?"Actualizar Pregunta":"A\xf1adir Pregunta"," ")}}function Pe(n,a){if(1&n&&(d.TgZ(0,"div",18)(1,"span",7),d._UZ(2,"input",19),d.TgZ(3,"label",20),d._uU(4,"Formulaci\xf3n de Pregunta por Docente"),d.qZA()()()),2&n){const o=d.oxw(2);d.xp6(2),d.Q6J("readonly","ver"===o.acciones)}}function Ze(n,a){if(1&n){const o=d.EpF();d.TgZ(0,"div",24)(1,"div",25)(2,"input",26),d.NdJ("change",function(){const E=d.CHM(o).index,G=d.oxw(3);return d.KtG(G.onRadioChange(E))}),d.qZA(),d.TgZ(3,"div",27),d._UZ(4,"input",28),d.qZA()()()}if(2&n){const o=a.index,r=d.oxw(3);d.Q6J("formGroupName",o),d.xp6(2),d.Q6J("value",!0),d.xp6(2),d.Q6J("id","alternativa-"+o)("readonly","ver"===r.acciones)}}function Oe(n,a){if(1&n){const o=d.EpF();d.TgZ(0,"div",18)(1,"div",21),d.YNc(2,Ze,5,4,"div",22),d.qZA(),d.TgZ(3,"button",23),d.NdJ("click",function(){d.CHM(o);const u=d.oxw(2);return d.KtG(u.agregarAlternativa())}),d.qZA()()}if(2&n){const o=d.oxw(2);d.xp6(2),d.Q6J("ngForOf",o.getAlternativasControls())}}const Fe=function(){return{height:"90px"}};function Se(n,a){if(1&n&&(d.TgZ(0,"div",18)(1,"span",7)(2,"div",5)(3,"div",29)(4,"label",30),d._uU(5,"Ingrese la pregunta"),d.qZA(),d._UZ(6,"p-editor",31),d.qZA()()()()),2&n){const o=d.oxw(2);d.xp6(6),d.Akn(d.DdM(3,Fe)),d.Q6J("disabled","ver"===o.acciones)}}function Ie(n,a){1&n&&d._UZ(0,"button",32)}function Ne(n,a){1&n&&d._UZ(0,"button",33)}function Le(n,a){if(1&n){const o=d.EpF();d.TgZ(0,"form",3),d.NdJ("ngSubmit",function(){d.CHM(o);const u=d.oxw();return d.KtG(u.guardarPregunta())}),d.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"label"),d._uU(5,"Tipo de Pregunta"),d.qZA(),d.TgZ(6,"div",7)(7,"label",8),d._uU(8,"Tipo de Pregunta"),d.qZA(),d.TgZ(9,"p-dropdown",9),d.NdJ("onChange",function(u){d.CHM(o);const E=d.oxw();return d.KtG(E.onTipoPreguntaChange(u.value))}),d.qZA()()(),d.TgZ(10,"div",6)(11,"label",10),d._uU(12,"Valor de la Pregunta"),d.qZA(),d._UZ(13,"input",11),d.qZA(),d.YNc(14,Pe,5,1,"div",12),d.YNc(15,Oe,4,1,"div",12),d.YNc(16,Se,7,4,"div",12),d.qZA()(),d.TgZ(17,"div",4)(18,"div",13)(19,"div",14),d.YNc(20,Ie,1,0,"button",15),d.YNc(21,Ne,1,0,"button",16),d.TgZ(22,"button",17),d.NdJ("click",function(u){d.CHM(o);const E=d.oxw();return d.KtG(E.closeModal(u))}),d.qZA()()()()()}if(2&n){const o=d.oxw();let r,u,E;d.Q6J("formGroup",o.preguntaForm),d.xp6(9),d.Q6J("options",o.tiposPregunta)("disabled","ver"===o.acciones),d.xp6(4),d.Q6J("readonly","ver"===o.acciones),d.xp6(1),d.Q6J("ngIf",66===(null==o.preguntaForm||null==(r=o.preguntaForm.get("tipoPregunta"))?null:r.value)),d.xp6(1),d.Q6J("ngIf",66===(null==o.preguntaForm||null==(u=o.preguntaForm.get("tipoPregunta"))?null:u.value)),d.xp6(1),d.Q6J("ngIf",67===(null==o.preguntaForm||null==(E=o.preguntaForm.get("tipoPregunta"))?null:E.value)),d.xp6(4),d.Q6J("ngIf","add"===o.acciones),d.xp6(1),d.Q6J("ngIf","actualizar"===o.acciones)}}let Ue=(()=>{class n{constructor(o,r,u,E,G){this.fb=o,this.ref=r,this.config=u,this.parametroService=E,this.helpersService=G,this.loading=!1,this.parametroDatos=new t.v,this.parametro=new t.v,this.mostrarCursos=!1,this.tiposPregunta=[],this.preguntaForm=this.fb.group({tipoPregunta:["",M.kI.required],valor_pregunta:["",M.kI.required],pregunta_docente:["",M.kI.required],alternativas:this.fb.array([])})}ngOnInit(){this.idEvaluacion=this.config.data.idEvaluacion,this.acciones=this.config.data.acciones,Promise.all([this.listarDePregunta()]).then(()=>{if("ver"===this.acciones||"actualizar"===this.acciones){const o=ve(new Date(this.config.data.data.fecha_y_hora_programo),"yyyy-MM-dd'T'HH:mm:ss");this.preguntaForm.patchValue({nombreEvaluacion:this.config.data.data.nombre,tipoEvaluacion:this.config.data.data.tipo_evaluacion_id,porcentajeEvaluacion:this.config.data.data.porcentaje_evaluacion,fechaHoraEvaluacion:o,estado:this.config.data.data.estado_id,observaciones:this.config.data.data.observaciones,preguntaMagica:this.config.data.data.pregunta_magica})}})}onRadioChange(o){this.preguntaForm.get("alternativas").controls.forEach((u,E)=>{const G=u.get("respuesta_correcta");G&&G.setValue(E===o)})}listarDePregunta(){return new Promise((o,r)=>{this.parametroService.getTipoDePregunta().subscribe(u=>{console.log("Lista de getTipoDePregunta",u),this.tiposPregunta=u,o()},u=>r(u))})}setAlternativas(o){const r=o.map(E=>this.fb.group(E)),u=this.fb.array(r);this.preguntaForm.setControl("alternativas",u)}guardarRespuestaCorrecta(){this.preguntaForm.value.alternativas.findIndex(u=>!0===u.respuesta_correcta)}guardarPregunta(){if(console.log(this.preguntaForm),this.preguntaForm.valid){const o={evaluacion_id:this.idEvaluacion,tipo_de_evaluacion_id:this.preguntaForm.value.tipoPregunta,pregunta_docente:this.preguntaForm.value.pregunta_docente,descripcion:this.preguntaForm.value.descripcion,respuesta_correcta:this.preguntaForm.value.alternativas.findIndex(r=>!0===r.respuesta_correcta)+1,domain_id:this.helpersService.getDominioId(),valor_pregunta:this.preguntaForm.value.valor_pregunta,alternativas:this.preguntaForm.value.alternativas};console.log(o),"add"===this.acciones?this.parametroService.guardarPreguntas(o).subscribe(r=>{this.ref?.close(),H().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},r=>{console.error("Error al guardar el parametro",r)}):"actualizar"===this.acciones&&this.parametroService.actualizarListadoDeEvaluacionesPorGrupo({observaciones:this.preguntaForm.value.observaciones,nombre:this.preguntaForm.value.nombreEvaluacion,tipo_evaluacion_id:this.preguntaForm.value.tipoEvaluacion,porcentaje_evaluacion:this.preguntaForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.preguntaForm.value.fechaHoraEvaluacion,estado_id:this.preguntaForm.value.estado,id:this.config.data.data.id}).subscribe(u=>{this.ref?.close(),H().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},u=>{console.error("Error al actualizar el parametro",u)})}else console.error("Formulario inv\xe1lido")}agregarAlternativa(){const o=this.preguntaForm.get("alternativas");o.push(this.fb.group({id:[o.length+1],texto:["",M.kI.required],respuesta_correcta:[!1]}))}closeModal(o){o.preventDefault(),this.ref?.close()}getAlternativasControls(){return this.preguntaForm.get("alternativas").controls}onTipoPreguntaChange(o){console.log("Tipo de Pregunta changed to:",o)}static#t=this.\u0275fac=function(r){return new(r||n)(d.Y36(M.qu),d.Y36(jt.E7),d.Y36(jt.S),d.Y36(be.m),d.Y36(xe.$))};static#e=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-agregar-editar-listado-de-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-6"],[1,"p-float-label"],["for","dropdownTipoPregunta",1,"required"],["inputId","dropdownTipoPregunta","optionLabel","tx_item_description","formControlName","tipoPregunta","optionValue","nu_id_parametro",3,"options","disabled","onChange"],["for","dropdownValorPregunta"],["type","number","inputId","dropdownValorPregunta","pInputText","","formControlName","valor_pregunta",3,"readonly"],["class","col-12",4,"ngIf"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],[1,"col-12"],["type","text","pInputText","","formControlName","pregunta_docente",3,"readonly"],[1,"required"],["formArrayName","alternativas"],["class","col-12",3,"formGroupName",4,"ngFor","ngForOf"],["type","button","pButton","","icon","pi pi-plus","label","A\xf1adir Alternativa",3,"click"],[1,"col-12",3,"formGroupName"],[1,"alternativa-container"],["type","radio","name","respuesta_correcta","formControlName","respuesta_correcta",3,"value","change"],[1,"field","col-12"],["type","text","pInputText","","formControlName","texto",3,"id","readonly"],[1,"field","col-12","md:col-12"],["for",""],["formControlName","pregunta_docente",3,"disabled"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(r,u){1&r&&(d.TgZ(0,"p-panel"),d.YNc(1,ye,2,1,"ng-template",0),d.YNc(2,Le,23,9,"ng-template",1),d.qZA())},dependencies:[Qt.sg,Qt.O5,Te.jx,M._Y,M.Fj,M.wV,M._,M.JJ,M.JL,Ee.Hq,De.o,we.Lt,Ae.s,Me.ML,M.sg,M.u,M.x0,M.CE],styles:[".alternativa-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:3em}.alternativa-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-left:10px}"]})}return n})()},5924:(ot,K,l)=>{l.d(K,{V:()=>x});var t=l(3519),M=l.n(t),e=l(8926),H=l(5118),i=l(4067),F=l(375),D=l(4474),O=l(6814),W=l(6223),Q=l(707),z=l(5219),k=l(3714),$=l(3965),Y=l(1230),I=l(6860);function J(m,T){1&m&&(e.TgZ(0,"span"),e._uU(1,"Registrar Cursos"),e.qZA())}function v(m,T){1&m&&(e.TgZ(0,"span"),e._uU(1,"Visualizar Curso"),e.qZA())}function Z(m,T){1&m&&(e.TgZ(0,"span"),e._uU(1,"Editar Curso"),e.qZA())}function _(m,T){if(1&m&&(e.TgZ(0,"span",2),e.YNc(1,J,2,0,"span",3),e.YNc(2,v,2,0,"span",3),e.YNc(3,Z,2,0,"span",3),e.qZA()),2&m){const s=e.oxw();e.xp6(1),e.Q6J("ngIf","add"===s.acciones),e.xp6(1),e.Q6J("ngIf","ver"===s.acciones),e.xp6(1),e.Q6J("ngIf","editar"===s.acciones)}}function S(m,T){if(1&m){const s=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(s);const p=e.oxw(2);return e.KtG(p.GuardarCurso())}),e.qZA()}}function U(m,T){if(1&m){const s=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(s);const p=e.oxw(2);return e.KtG(p.editarCurso())}),e.qZA()}}const N=function(){return{height:"90px"}};function q(m,T){if(1&m){const s=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7)(4,"input",8),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.codigo=p)}),e.qZA(),e.TgZ(5,"label",9),e._uU(6,"C\xf3digo"),e.qZA()()(),e.TgZ(7,"div",6)(8,"span",7)(9,"input",8),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.nombreCurso=p)}),e.qZA(),e.TgZ(10,"label",9),e._uU(11,"Nombre de curso"),e.qZA()()()()(),e.TgZ(12,"div",4)(13,"div",5)(14,"div",10)(15,"span",7)(16,"p-dropdown",11),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.ciclo=p)}),e.qZA(),e.TgZ(17,"label",12),e._uU(18,"Ciclo "),e.qZA(),e.TgZ(19,"small",13),e._uU(20,"Campo obligatorio * "),e.qZA()()(),e.TgZ(21,"div",6)(22,"span",7)(23,"p-dropdown",14),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.areaFormacion=p)}),e.qZA(),e.TgZ(24,"label",15),e._uU(25,"\xc1reas de formaci\xf3n "),e.qZA(),e.TgZ(26,"small",13),e._uU(27,"Campo obligatorio * "),e.qZA()()()()(),e.TgZ(28,"div",4)(29,"div",5)(30,"div",10)(31,"span",7)(32,"p-dropdown",16),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.moduloFormativo=p)}),e.qZA(),e.TgZ(33,"label",17),e._uU(34,"M\xf3dulo formativo "),e.qZA(),e.TgZ(35,"small",13),e._uU(36,"Campo obligatorio * "),e.qZA()()(),e.TgZ(37,"div",6)(38,"span",7)(39,"input",8),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.cantidadCreditos=p)}),e.qZA(),e.TgZ(40,"label",9),e._uU(41,"Cantidad de cr\xe9ditos"),e.qZA()()()()(),e.TgZ(42,"div",4)(43,"div",5)(44,"div",6)(45,"span",7)(46,"input",8),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.porcentajeCreditos=p)}),e.qZA(),e.TgZ(47,"label",9),e._uU(48,"% de cr\xe9ditos"),e.qZA()()(),e.TgZ(49,"div",6)(50,"span",7)(51,"input",8),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.cantidadHoras=p)}),e.qZA(),e.TgZ(52,"label",9),e._uU(53,"Cantidad de horas"),e.qZA()()()()(),e.TgZ(54,"div",18)(55,"div",5)(56,"div",19)(57,"label"),e._uU(58,"Digite el syllabus"),e.qZA(),e.TgZ(59,"p-editor",20),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.syllabus=p)}),e.qZA()()()(),e.TgZ(60,"div",18)(61,"div",5)(62,"div",19)(63,"label"),e._uU(64,"Digite el tema"),e.qZA(),e.TgZ(65,"p-editor",20),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.tema=p)}),e.qZA()()()(),e.TgZ(66,"div",4)(67,"div",5)(68,"div",10)(69,"span",7)(70,"p-dropdown",21),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.asignacionDocentes=p)}),e.qZA(),e.TgZ(71,"label",22),e._uU(72,"Asignaci\xf3n de docentes "),e.qZA(),e.TgZ(73,"small",13),e._uU(74,"Campo obligatorio * "),e.qZA()()(),e.TgZ(75,"div",6)(76,"span",7)(77,"p-dropdown",23),e.NdJ("ngModelChange",function(p){e.CHM(s);const y=e.oxw();return e.KtG(y.estado=p)}),e.qZA(),e.TgZ(78,"label",24),e._uU(79,"Estado"),e.qZA(),e.TgZ(80,"small",13),e._uU(81,"Campo obligatorio * "),e.qZA()()()()(),e.TgZ(82,"div",4)(83,"div",25)(84,"div",26),e.YNc(85,S,1,0,"button",27),e.YNc(86,U,1,0,"button",28),e.TgZ(87,"button",29),e.NdJ("click",function(){e.CHM(s);const p=e.oxw();return e.KtG(p.closeModal())}),e.qZA()()()()}if(2&m){const s=e.oxw();e.xp6(4),e.Q6J("ngModel",s.codigo)("disabled","ver"===s.acciones),e.xp6(5),e.Q6J("ngModel",s.nombreCurso)("disabled","ver"===s.acciones),e.xp6(7),e.Q6J("options",s.ciclos)("ngModel",s.ciclo)("disabled","ver"===s.acciones),e.xp6(7),e.Q6J("options",s.areasFormacion)("ngModel",s.areaFormacion)("disabled","ver"===s.acciones),e.xp6(9),e.Q6J("options",s.modulosFormativos)("ngModel",s.moduloFormativo)("disabled","ver"===s.acciones),e.xp6(7),e.Q6J("ngModel",s.cantidadCreditos)("disabled","ver"===s.acciones),e.xp6(7),e.Q6J("ngModel",s.porcentajeCreditos)("disabled","ver"===s.acciones),e.xp6(5),e.Q6J("ngModel",s.cantidadHoras)("disabled","ver"===s.acciones),e.xp6(8),e.Akn(e.DdM(35,N)),e.Q6J("ngModel",s.syllabus)("readonly","ver"===s.acciones),e.xp6(6),e.Akn(e.DdM(36,N)),e.Q6J("ngModel",s.tema)("readonly","ver"===s.acciones),e.xp6(5),e.Q6J("options",s.asignacionesDocentes)("ngModel",s.asignacionDocentes)("disabled","ver"===s.acciones),e.xp6(7),e.Q6J("options",s.estados)("ngModel",s.estado)("disabled","ver"===s.acciones),e.xp6(8),e.Q6J("ngIf","add"===s.acciones),e.xp6(1),e.Q6J("ngIf","editar"===s.acciones)}}let x=(()=>{class m{constructor(s,f,p,y,C){this.ref=s,this.parametroService=f,this.config=p,this.helperService=y,this.commonService=C,this.id=0,this.cantidadTotalCreditos=0,this.codigo="",this.nombreCurso="",this.ciclo={},this.ciclos=[],this.areaFormacion={},this.areasFormacion=[],this.moduloFormativo={},this.modulosFormativos=[],this.cantidadCreditos=0,this.porcentajeCreditos=0,this.cantidadHoras=0,this.syllabus="",this.tema="",this.asignacionDocentes={},this.asignacionesDocentes=[],this.estados=[],this.estado={},this.acciones="",this.domain_id=1,this.subscriptions=[],this.curso={}}ngOnInit(){this.id=this.config.data.id,this.cantidadTotalCreditos=this.config.data.total_creditos,this.acciones=this.config.data.acciones,this.domain_id=this.helperService.getDominioId(),Promise.all([this.obtenerDatosCurso(this.config.data.id),this.listarModulosFormativos(),this.listarAreasFormacion(),this.listarCiclos(),this.listarEstados(),this.listarDocentes(this.domain_id)]).then(()=>{("editar"===this.config.data.acciones||"ver"===this.config.data.acciones)&&(console.log(this.config.data.data),this.codigo=this.curso.codigo,this.nombreCurso=this.curso.nombre,this.ciclo=this.curso.ciclo_id,this.areaFormacion=this.curso.area_de_formacion_id,this.moduloFormativo=this.curso.modulo_formativo_id,this.cantidadCreditos=this.curso.cantidad_de_creditos,this.porcentajeCreditos=this.curso.porcentaje_de_creditos,this.cantidadHoras=this.curso.cantidad_de_horas,this.syllabus=this.curso.syllabus,this.tema=this.curso.tema,this.asignacionDocentes=this.curso.docente_id,this.estado=this.curso.estado_id)})}ngAfterViewInit(){}GuardarCurso(){console.log(this.asignacionDocentes);const s={codigo:this.codigo,nombreCurso:this.nombreCurso,cicloId:this.ciclo,areaFormacionId:this.areaFormacion,moduloFormativoId:this.moduloFormativo,cantidadCreditos:this.cantidadCreditos,porcentajeCreditos:this.porcentajeCreditos,cantidadHoras:this.cantidadHoras,syllabus:this.syllabus,tema:this.tema,asignacionDocentesId:this.asignacionDocentes,carreraId:this.id,estadoId:this.estado,domain_id:this.domain_id};s?this.parametroService.guardarCurso(s).subscribe(f=>{this.closeModal(),M().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},f=>{console.error("Error al guardar el parametro",f)}):console.error("Formulario inv\xe1lido")}editarCurso(){const s={codigo:this.codigo,nombreCurso:this.nombreCurso,cicloId:this.ciclo,areaFormacionId:this.areaFormacion,moduloFormativoId:this.moduloFormativo,cantidadCreditos:this.cantidadCreditos,porcentajeCreditos:this.porcentajeCreditos,cantidadHoras:this.cantidadHoras,syllabus:this.syllabus,tema:this.tema,asignacionDocentesId:this.asignacionDocentes?.code,carreraId:this.id,estadoId:this.estado,cursoId:this.config.data.data.id,domain_id:this.domain_id};console.log("Curso a guardar",s),s?this.parametroService.actualizarCurso(s).subscribe(f=>{this.closeModal(),M().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},f=>{console.error("Error al guardar el parametro",f)}):console.error("Formulario inv\xe1lido")}onCantidadCreditosChange(s){if(0===this.cantidadTotalCreditos||null==this.cantidadTotalCreditos)this.porcentajeCreditos=100;else{console.log("Cantidad de cr\xe9ditos ha cambiado:",s),console.log("Cantidad total de cr\xe9ditos:",this.cantidadTotalCreditos);const f=s/this.cantidadTotalCreditos*100;this.porcentajeCreditos=f,console.log("Resultado del c\xe1lculo:",f)}}obtenerDatosCurso(s){return console.log("Id curso:",s),new Promise((f,p)=>{this.parametroService.getCursoById(s).subscribe(y=>{console.log("Datos Curso",y.Datos),this.curso=y.Datos,f()},y=>p(y))})}listarModulosFormativos(){return new Promise((s,f)=>{this.parametroService.getModulosFormativos().subscribe(p=>{console.log("Lista de listarModulosFormativos",p),this.modulosFormativos=p,s()},p=>f(p))})}listarAreasFormacion(){return new Promise((s,f)=>{this.parametroService.getAreasDeFormacion().subscribe(p=>{console.log("Lista de listarAreasFormacion",p),this.areasFormacion=p,s()},p=>f(p))})}listarCiclos(){return new Promise((s,f)=>{this.parametroService.getCiclos().subscribe(p=>{console.log("Lista de listarCiclos",p),this.ciclos=p,s()},p=>f(p))})}listarEstados(){return new Promise((s,f)=>{this.parametroService.getEstadoDeCurso().subscribe(p=>{console.log("Lista de listarEstados",p),this.estados=p,s()},p=>f(p))})}listarDocentes(s){return new Promise((f,p)=>{this.commonService.getDocentesDropdown(this.domain_id).subscribe(y=>{console.log("Lista de listarDocentes",y),this.asignacionesDocentes=y.map(C=>({label:C.nombres,value:C.id})),f()},y=>p(y))})}closeModal(){this.ref.close({register:!1})}syllabusChange(s){console.log(s)}static#t=this.\u0275fac=function(f){return new(f||m)(e.Y36(H.E7),e.Y36(i.m),e.Y36(H.S),e.Y36(F.$),e.Y36(D.v))};static#e=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-reg-cursos"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[4,"ngIf"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","",3,"ngModel","disabled","ngModelChange"],[1,"required"],[1,"field","md:col-6"],["inputId","dropdownCiclo","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownCiclo"],[2,"color","brown"],["inputId","dropdownAreaFormacion","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownAreaFormacion"],["inputId","dropdownModuloFormativo","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownModuloFormativo"],[1,"row","mt-2"],[1,"field","col-12","md:col-12"],[3,"ngModel","readonly","ngModelChange"],["inputId","dropdownAsignacionDocentes","optionLabel","label","optionValue","value",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownAsignacionDocentes"],["inputId","dropdownEstado","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownEstado"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","class","p-button-success p-button-sm",3,"click",4,"ngIf"],["pButton","","icon","pi pi-pencil","label","Editar Curso","iconPos","right","class","p-button-warning p-button-sm",3,"click",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right",1,"p-button-success","p-button-sm",3,"click"],["pButton","","icon","pi pi-pencil","label","Editar Curso","iconPos","right",1,"p-button-warning","p-button-sm",3,"click"]],template:function(f,p){1&f&&(e.TgZ(0,"p-panel"),e.YNc(1,_,4,3,"ng-template",0),e.YNc(2,q,88,37,"ng-template",1),e.qZA())},dependencies:[O.O5,W.Fj,W.JJ,W.On,Q.Hq,z.jx,k.o,$.Lt,Y.s,I.ML]})}return m})()},3731:(ot,K,l)=>{l.d(K,{k:()=>U});var t=l(3519),M=l.n(t),e=l(8926),H=l(5118),i=l(5516),F=l(9862);let D=(()=>{class N{constructor(x){this.http=x,this.baseUrl=`${i.N.API_BASE}`,this.urlparametro=`${i.N.API_BASE}`}obtenerEvaluacionPorId(x){return this.http.get(`${this.baseUrl}evaluacion/${x}`)}crearEvaluacion(x){return this.http.post(`${this.baseUrl}evaluaciones`,x)}obtenerEvaluacionesPorGrupo(x){return this.http.get(`${this.baseUrl}/${x}`)}actualizarEvaluacion(x,m){return this.http.put(`${this.baseUrl}evaluacion/${x}`,m)}eliminarEvaluacion(x){return this.http.delete(`${this.baseUrl}/${x}`)}static#t=this.\u0275fac=function(m){return new(m||N)(e.LFG(F.eN))};static#e=this.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();var O=l(5219),W=l(6814),Q=l(6223),z=l(6760),k=l(707),$=l(3714),Y=l(6218),I=l(3965),J=l(1230);function v(N,q){if(1&N&&(e.TgZ(0,"span",2),e._uU(1),e.qZA()),2&N){const x=e.oxw();e.xp6(1),e.hij(" ","registrar"===x.acciones?"Registrar Evaluaci\xf3n":"Actualizar Evaluaci\xf3n"," ")}}function Z(N,q){if(1&N){const x=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(x);const T=e.oxw(2);return e.KtG(T.guardarEvaluacion())}),e.qZA()}}function _(N,q){if(1&N){const x=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(x);const T=e.oxw(2);return e.KtG(T.actualizarEvaluacion())}),e.qZA()}}function S(N,q){if(1&N){const x=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6)(4,"input",7),e.NdJ("ngModelChange",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.nombre=T)}),e.qZA(),e.TgZ(5,"label",8),e._uU(6,"Nombre"),e.qZA()()()()(),e.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"span",6)(11,"input",7),e.NdJ("ngModelChange",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.porcentajeEvaluacion=T)}),e.qZA(),e.TgZ(12,"label",8),e._uU(13,"Valor %"),e.qZA()()()()(),e.TgZ(14,"div",3)(15,"div",4)(16,"div",9)(17,"span",6)(18,"p-calendar",10),e.NdJ("ngModelChange",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.fechaRegistro=T)}),e.qZA(),e.TgZ(19,"label",11),e._uU(20,"Fecha de la noticia"),e.qZA()()(),e.TgZ(21,"div",9)(22,"span",6)(23,"p-calendar",12),e.NdJ("ngModelChange",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.horaprogramada=T)})("onSelect",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.capturarHora(T))}),e.qZA(),e.TgZ(24,"label",13),e._uU(25,"Hora programada"),e.qZA()(),e.TgZ(26,"small",14),e._uU(27,"Campo obligatorio *"),e.qZA()()(),e.TgZ(28,"div",3)(29,"div",4)(30,"div",15)(31,"span",6)(32,"textarea",16),e.NdJ("ngModelChange",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.observaciones=T)}),e.qZA(),e.TgZ(33,"label",17),e._uU(34,"Observaciones"),e.qZA()()()()()(),e.TgZ(35,"div",3)(36,"div",4)(37,"div",18)(38,"span",6)(39,"p-dropdown",19),e.NdJ("ngModelChange",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.tipoEvaluacion=T)}),e.qZA(),e.TgZ(40,"label",20),e._uU(41,"Tipo de Evaluaci\xf3n"),e.qZA()()(),e.TgZ(42,"div",18)(43,"span",6)(44,"p-dropdown",21),e.NdJ("ngModelChange",function(T){e.CHM(x);const s=e.oxw();return e.KtG(s.estado=T)}),e.qZA(),e.TgZ(45,"label",22),e._uU(46,"Estados"),e.qZA()()()()(),e.TgZ(47,"div",23)(48,"div",24)(49,"div",25),e.YNc(50,Z,1,0,"button",26),e.YNc(51,_,1,0,"button",27),e.TgZ(52,"button",28),e.NdJ("click",function(){e.CHM(x);const T=e.oxw();return e.KtG(T.closeModal())}),e.qZA()()()()}if(2&N){const x=e.oxw();e.xp6(4),e.Q6J("ngModel",x.nombre),e.xp6(7),e.Q6J("ngModel",x.porcentajeEvaluacion),e.xp6(7),e.Q6J("ngModel",x.fechaRegistro)("showTime",!1)("showSeconds",!1),e.xp6(5),e.Q6J("ngModel",x.horaprogramada)("showTime",!0)("showSeconds",!1)("timeOnly",!0),e.xp6(9),e.Q6J("ngModel",x.observaciones),e.xp6(7),e.Q6J("options",x.tipEvaluacion)("ngModel",x.tipoEvaluacion),e.xp6(5),e.Q6J("options",x.estados)("ngModel",x.estado),e.xp6(6),e.Q6J("ngIf","registrar"===x.acciones),e.xp6(1),e.Q6J("ngIf","actualizar"===x.acciones)}}let U=(()=>{class N{constructor(x,m,T,s){this.ref=x,this.evaluacionesService=m,this.messageService=T,this.config=s,this.loading=!1,this.tipEvaluacion=[{name:"Oral",value:65},{name:"Escrito",value:44},{name:"Recuperaci\xf3n",value:45}],this.estados=[{name:"Pendiente",value:1},{name:"En Proceso",value:2},{name:"Culminado",value:3},{name:"Desaprobado",value:4}]}ngOnInit(){this.config&&this.config.data&&(this.acciones=this.config.data.acciones,"registrar"===this.acciones&&(this.grupoDeEvaluacionesId=this.config.data.idGrupoEvaluaciones),"actualizar"===this.acciones)&&this.cargarDatosParaEditar(this.config.data.idEvaluacion)}capturarHora(x){if(x&&x instanceof Date){const m=x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});console.log("Hora seleccionada:",m),this.horaprogramada=x}}cargarDatosParaEditar(x){this.evaluacionesService.obtenerEvaluacionPorId(x).subscribe(m=>{console.log("Datos obtenidos del backend:",m);const T=m;this.nombre=T.nombre,this.tipoEvaluacion=T.tipo_evaluacion_id,this.porcentajeEvaluacion=T.porcentaje_evaluacion,this.estado=T.estado_id,this.observaciones=T.observaciones,this.fechaRegistro=new Date(T.fecha_y_hora_programo),this.grupoDeEvaluacionesId=T.grupo_de_evaluaciones_id;const s=new Date(T.fecha_y_hora_programo),f=new Date;f.setHours(s.getHours()),f.setMinutes(s.getMinutes()),f.setSeconds(0),this.horaprogramada=f},m=>{console.error("Error al obtener la evaluaci\xf3n:",m)})}guardarEvaluacion(){let x=null;this.fechaRegistro&&this.horaprogramada&&(x=`${this.fechaRegistro.toISOString().slice(0,10)} ${this.horaprogramada.toTimeString().slice(0,8)}`);const m={nombre:this.nombre,tipo_evaluacion_id:Number(this.tipoEvaluacion),porcentaje_evaluacion:Number(this.porcentajeEvaluacion),fecha_y_hora_programo:x,observaciones:this.observaciones||null,estado_id:Number(this.estado),domain_id:2,grupo_de_evaluaciones_id:this.grupoDeEvaluacionesId||null};console.log("Datos enviados:",m),this.loading=!0,this.evaluacionesService.crearEvaluacion(m).subscribe(T=>{this.loading=!1,M().fire({title:"Registrado",text:"La evaluaci\xf3n ha sido registrada exitosamente.",icon:"success",confirmButtonText:"Aceptar",showClass:{popup:"\n                            background-color: #78CBF2;\n                            color: white;\n                            z-index: 10000!important;\n                        "},didOpen:()=>{const s=document.querySelector(".swal2-container");s&&s.setAttribute("style","z-index: 2147483647 !important")}}).then(s=>{(s.isConfirmed||s.isDismissed)&&this.ref&&this.ref.close()})},T=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Error al registrar la evaluaci\xf3n. Por favor intenta de nuevo."})})}actualizarEvaluacion(){let x=null;this.fechaRegistro&&this.horaprogramada&&(x=`${this.fechaRegistro.toISOString().slice(0,10)} ${this.horaprogramada.toTimeString().slice(0,8)}`);const m={nombre:this.nombre,tipo_evaluacion_id:Number(this.tipoEvaluacion),porcentaje_evaluacion:Number(this.porcentajeEvaluacion),fecha_y_hora_programo:x,observaciones:this.observaciones||null,estado_id:Number(this.estado),domain_id:2,grupo_de_evaluaciones_id:this.grupoDeEvaluacionesId||null};console.log("Datos enviados para actualizar:",m),this.evaluacionesService.actualizarEvaluacion(this.config.data.idEvaluacion,m).subscribe(T=>{M().fire({title:"Actualizado",text:"La evaluaci\xf3n ha sido actualizada exitosamente.",icon:"success",confirmButtonText:"Aceptar"}),this.ref.close()},T=>{console.error("Error al actualizar la evaluaci\xf3n:",T)})}closeModal(){this.ref.close({register:!1})}static#t=this.\u0275fac=function(m){return new(m||N)(e.Y36(H.E7),e.Y36(D),e.Y36(O.ez),e.Y36(H.S))};static#e=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-reg-evaluacion-docente"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","",3,"ngModel","ngModelChange"],[1,"required"],[1,"field","md:col-3"],["inputId","calendar","dateFormat","dd-mm-yy",3,"ngModel","showTime","showSeconds","ngModelChange"],["for","calendar"],["inputId","horaprogramada","dateFormat","dd-mm-yy",3,"ngModel","showTime","showSeconds","timeOnly","ngModelChange","onSelect"],["for","horaprogramada"],[2,"color","brown"],[1,"field","col-12"],["pInputTextarea","","rows","3",3,"ngModel","ngModelChange"],["for","observaciones"],[1,"field","md:col-6"],["inputId","dropdownAula","optionLabel","name","optionValue","value",3,"options","ngModel","ngModelChange"],["for","dropdownAula"],["inputId","dropdownEstado","optionLabel","name","optionValue","value",3,"options","ngModel","ngModelChange"],["for","dropdownEstado"],[1,"row"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar Evaluaci\xf3n","iconPos","right","class","p-button-success p-button-sm",3,"click",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar Evaluaci\xf3n","iconPos","right","class","p-button-warning p-button-sm",3,"click",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","Guardar Evaluaci\xf3n","iconPos","right",1,"p-button-success","p-button-sm",3,"click"],["pButton","","icon","pi pi-refresh","label","Actualizar Evaluaci\xf3n","iconPos","right",1,"p-button-warning","p-button-sm",3,"click"]],template:function(m,T){1&m&&(e.TgZ(0,"p-panel"),e.YNc(1,v,2,1,"ng-template",0),e.YNc(2,S,53,16,"ng-template",1),e.qZA())},dependencies:[W.O5,Q.Fj,Q.JJ,Q.On,z.f,k.Hq,O.jx,$.o,Y.g,I.Lt,J.s],styles:[".p-inputtext[_ngcontent-%COMP%]{width:-1px}.grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-1rem;margin-left:-1rem;margin-top:-1rem;gap:6rem;row-gap:0rem}"]})}return N})()},73:(ot,K,l)=>{l.d(K,{fS:()=>F,v:()=>H,ym:()=>i});class H{constructor(){this.nuIdParametro=null,this.txNombre="",this.txAbreviatura="",this.nuItemNro=null,this.txItemDescripcion=null,this.isSelected=null,this.txUseCreado=null,this.txUseModificado=null}}class i{constructor(){this.id=null,this.codigo="",this.nombre="",this.descripcion="",this.costo=null,this.recursos=null,this.estado=null,this.txUseCreado=null,this.txUseModificado=null,this.domain_id=null,this.user_id=null}}class F{constructor(){this.id=null,this.codigo="",this.nombre="",this.horas=0,this.sylabus=null,this.temas=null,this.estado=null,this.fecha=null,this.idDocente=0,this.docente=null,this.idEstado=null,this.etapa=null,this.txUseCreado=null,this.txUseModificado=null}}},5700:(ot,K,l)=>{l.d(K,{e:()=>H});var t=l(9862),M=l(5516),e=l(8926);let H=(()=>{class i{constructor(D,O,W){this.http=D,this.httpClientFormData=O,this.handler=W,this.baseUrl=`${M.N.API_BASE}`,this.urlparametro=`${M.N.API_BASE}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})},this.httpClientFormData=new t.eN(this.handler)}saveAula(D){return this.http.post(`${this.baseUrl}aulas`,D)}getAulas(D){return this.http.get(`${this.baseUrl}aulas/${D}`)}deleteAula(D){return this.http.delete(`${this.baseUrl}aulas/${D}`)}saveDisponibilidad(D){return this.http.post(`${this.baseUrl}aulas/disponibilidad`,D)}getDisponibilidad(D){return this.http.get(`${this.baseUrl}aulas/disponibilidad/${D}`)}deleteDisponibilidad(D){return this.http.delete(`${this.baseUrl}aulas/disponibilidad/${D}`)}static#t=this.\u0275fac=function(O){return new(O||i)(e.LFG(t.eN),e.LFG(t.eN),e.LFG(t.jN))};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},4474:(ot,K,l)=>{l.d(K,{v:()=>H});var t=l(9862),M=l(5516),e=l(8926);let H=(()=>{class i{constructor(D,O,W){this.http=D,this.httpClientFormData=O,this.handler=W,this.baseUrl=`${M.N.API_BASE}`,this.urlparametro=`${M.N.API_BASE}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})},this.httpClientFormData=new t.eN(this.handler)}getCarrerasDropdown(D){return this.http.get(`${this.baseUrl}carreras-dropdown/${D}`)}getCiclosDropdown(D){return this.http.get(`${this.baseUrl}ciclos-dropdown/${D}`)}getRolesDropdown(){return this.http.get(`${this.baseUrl}roles-dropdown`)}getDocentesDropdown(D){return this.http.get(`${this.baseUrl}docentes-dropdown/${D}`)}getInstitutionsDropdown(){return this.http.get(`${this.baseUrl}institutions-dropdown`)}static#t=this.\u0275fac=function(O){return new(O||i)(e.LFG(t.eN),e.LFG(t.eN),e.LFG(t.jN))};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},7649:(ot,K,l)=>{l.d(K,{f:()=>H});var t=l(9862),M=l(5516),e=l(8926);let H=(()=>{class i{constructor(D,O,W){this.http=D,this.httpClientFormData=O,this.handler=W,this.baseUrl=`${M.N.API_BASE}`,this.urlparametro=`${M.N.API_BASE}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})},this.httpClientFormData=new t.eN(this.handler)}saveForo(D){return this.http.post(`${this.baseUrl}foros`,D)}getForos(D,O,W){return this.http.get(`${this.baseUrl}foros/${D}/${O}/${W}`)}sendResponse(D){return this.http.post(`${this.baseUrl}foros/message`,D)}static#t=this.\u0275fac=function(O){return new(O||i)(e.LFG(t.eN),e.LFG(t.eN),e.LFG(t.jN))};static#e=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},8672:(ot,K,l)=>{l.d(K,{Ro:()=>N,ef:()=>q,t2:()=>_});var t=l(8926),M=l(5619),e=l(8645),H=l(2181),i=l(9773),F=l(6825),D=l(6593),O=l(6814);const W=["overlay"];function Q(m,T){1&m&&t._UZ(0,"div")}function z(m,T){if(1&m&&(t.TgZ(0,"div"),t.YNc(1,Q,1,0,"div",6),t.qZA()),2&m){const s=t.oxw(2);t.Tol(s.spinner.class),t.Udp("color",s.spinner.color),t.xp6(1),t.Q6J("ngForOf",s.spinner.divArray)}}function k(m,T){if(1&m&&(t._UZ(0,"div",7),t.ALo(1,"safeHtml")),2&m){const s=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,s.template),t.oJD)}}function $(m,T){if(1&m&&(t.TgZ(0,"div",1,2),t.YNc(2,z,2,5,"div",3),t.YNc(3,k,2,3,"div",4),t.TgZ(4,"div",5),t.Hsn(5),t.qZA()()),2&m){const s=t.oxw();t.Udp("background-color",s.spinner.bdColor)("z-index",s.spinner.zIndex)("position",s.spinner.fullScreen?"fixed":"absolute"),t.Q6J("@.disabled",s.disableAnimation)("@fadeIn","in"),t.xp6(2),t.Q6J("ngIf",!s.template),t.xp6(1),t.Q6J("ngIf",s.template),t.xp6(1),t.Udp("z-index",s.spinner.zIndex)}}const Y=["*"],I={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},v="primary";class Z{constructor(T){Object.assign(this,T)}static create(T){return!T?.template&&!T?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Z(T)}}let _=(()=>{class m{constructor(){this.spinnerObservable=new M.X(null)}getSpinner(s){return this.spinnerObservable.asObservable().pipe((0,H.h)(f=>f&&f.name===s))}show(s=v,f){return new Promise((p,y)=>{setTimeout(()=>{f&&Object.keys(f).length?(f.name=s,this.spinnerObservable.next(new Z({...f,show:!0})),p(!0)):(this.spinnerObservable.next(new Z({name:s,show:!0})),p(!0))},10)})}hide(s=v,f=10){return new Promise((p,y)=>{setTimeout(()=>{this.spinnerObservable.next(new Z({name:s,show:!1})),p(!0)},f)})}static#t=this.\u0275fac=function(f){return new(f||m)};static#e=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();const S=new t.OlP("NGX_SPINNER_CONFIG");let U=(()=>{class m{constructor(s){this._sanitizer=s}transform(s){if(s)return this._sanitizer.bypassSecurityTrustHtml(s)}static#t=this.\u0275fac=function(f){return new(f||m)(t.Y36(D.H7,16))};static#e=this.\u0275pipe=t.Yjl({name:"safeHtml",type:m,pure:!0,standalone:!0})}return m})(),N=(()=>{class m{constructor(s,f,p,y){this.spinnerService=s,this.changeDetector=f,this.elementRef=p,this.globalConfig=y,this.disableAnimation=!1,this.spinner=new Z,this.ngUnsubscribe=new e.x,this.setDefaultOptions=()=>{const{type:C}=this.globalConfig??{};this.spinner=Z.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??C,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=v,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,i.R)(this.ngUnsubscribe)).subscribe(s=>{this.setDefaultOptions(),Object.assign(this.spinner,s),s.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(s){return s===this.elementRef.nativeElement.parentElement||s.parentNode&&this.isSpinnerZone(s.parentNode)}ngOnChanges(s){for(const f in s)if(f){const p=s[f];if(p.isFirstChange())return;typeof p.currentValue<"u"&&p.currentValue!==p.previousValue&&""!==p.currentValue&&(this.spinner[f]=p.currentValue,"showSpinner"===f&&(p.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===f&&this.initObservable())}}getClass(s,f){this.spinner.divCount=I[s],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((y,C)=>C);let p="";switch(f.toLowerCase()){case"small":p="la-sm";break;case"medium":p="la-2x";break;case"large":p="la-3x"}return"la-"+s+" "+p}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static#t=this.\u0275fac=function(f){return new(f||m)(t.Y36(_),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(S,8))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["ngx-spinner"]],viewQuery:function(f,p){if(1&f&&t.Gf(W,5),2&f){let y;t.iGM(y=t.CRH())&&(p.spinnerDOM=y.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[t.TTD,t.jDz],ngContentSelectors:Y,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(f,p){1&f&&(t.F$t(),t.YNc(0,$,6,12,"div",0)),2&f&&t.Q6J("ngIf",p.spinner.show)},dependencies:[U,O.O5,O.ax],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,F.X$)("fadeIn",[(0,F.SB)("in",(0,F.oB)({opacity:1})),(0,F.eR)(":enter",[(0,F.oB)({opacity:0}),(0,F.jt)(300)]),(0,F.eR)(":leave",(0,F.jt)(200,(0,F.oB)({opacity:0})))])]},changeDetection:0})}return m})(),q=(()=>{class m{static forRoot(s){return{ngModule:m,providers:[{provide:S,useValue:s}]}}static#t=this.\u0275fac=function(f){return new(f||m)};static#e=this.\u0275mod=t.oAB({type:m});static#n=this.\u0275inj=t.cJS({imports:[O.ez]})}return m})()}}]);