"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[1594],{1594:(ha,W,l)=>{l.r(W),l.d(W,{CarrerasTecnicasModule:()=>_a});var A=l(6814),Q=l(4104),c=l(6223),y=l(9552),v=l(707),C=l(3714),gt=l(6804),_t=l(4480),ht=l(4055),I=l(3965),f=l(1230),z=l(6760),ft=l(6651),bt=l(7902),vt=l(6022),K=l(3722),$=l(1494),R=l(6218),N=l(3259),xt=l(3904),Ct=l(9537),Tt=l(3530),p=l(5118),wt=l(3999),G=l(258),t=l(8926),T=l(73),Zt=l(3519),m=l.n(Zt),w=l(4067),b=l(5219);function yt(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Carreras T\xe9cnicas"),t.qZA())}function At(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarParametro())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"C\xf3digo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Nombre de Carrera"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",11)(15,"div",12),t._UZ(16,"button",13),t.TgZ(17,"button",14),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm)}}let X=(()=>{class o{constructor(e,a,n,i,s,u){this.fb=e,this.ref=a,this.cdr=n,this.config=i,this.parametroService=s,this.router=u,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:["",c.kI.required],nombres:["",c.kI.required],domain_id:1})}guardarParametro(){this.parametroForm.valid?(console.log("Formulario v\xe1lido",this.parametroForm.value),this.parametroService.guardarCarreraTecnica(this.parametroForm.value).subscribe(e=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},e=>{console.error("Error al guardar el parametro",e)})):console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(p.E7),t.Y36(t.sBO),t.Y36(p.S),t.Y36(w.m),t.Y36(G.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-reg-carrerastecnicas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo"],[1,"required"],["type","text","pInputText","","formControlName","nombres"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,yt,2,0,"ng-template",0),t.YNc(2,At,18,1,"ng-template",1),t.qZA())},dependencies:[c._Y,c.Fj,c.JJ,c.JL,v.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();var L=l(5924);function Et(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Editar Carrera T\xe9cnica"),t.qZA())}function qt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.editarParametro())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"C\xf3digo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Nombre de Carrera"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",11)(15,"div",12),t._UZ(16,"button",13),t.TgZ(17,"button",14),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm)}}let kt=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:[this.config.data.data.codigo,c.kI.required],nombres:[this.config.data.data.nombres,c.kI.required],domain_id:1,id:this.config.data.data.id})}editarParametro(){this.parametroForm.valid?(console.log("Formulario v\xe1lido",this.parametroForm.value),this.parametroService.editarCarreraTecnica(this.parametroForm.value).subscribe(e=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},e=>{console.error("Error al editar el parametro",e)})):console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(p.E7),t.Y36(p.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-editar-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo"],[1,"required"],["type","text","pInputText","","formControlName","nombres"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Et,2,0,"ng-template",0),t.YNc(2,qt,18,1,"ng-template",1),t.qZA())},dependencies:[c._Y,c.Fj,c.JJ,c.JL,v.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();function Ft(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Ver Carrera T\xe9cnica"),t.qZA())}function Dt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"C\xf3digo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Nombre de Carrera"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",11)(15,"div",12)(16,"button",13),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(5),t.Q6J("disabled",!0),t.xp6(5),t.Q6J("disabled",!0)}}let Pt=(()=>{class o{constructor(e,a,n){this.fb=e,this.ref=a,this.config=n,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:[{value:this.config.data.data.codigo,disabled:!0},c.kI.required],nombres:[{value:this.config.data.data.nombres,disabled:!0},c.kI.required],domain_id:[{value:1,disabled:!0}],id:[{value:this.config.data.data.id,disabled:!0}]})}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(p.E7),t.Y36(p.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo",3,"disabled"],[1,"required"],["type","text","pInputText","","formControlName","nombres",3,"disabled"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Ft,2,0,"ng-template",0),t.YNc(2,Dt,17,3,"ng-template",1),t.qZA())},dependencies:[c._Y,c.Fj,c.JJ,c.JL,v.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();var O=l(5516),F=l(9862);let Nt=(()=>{class o{constructor(e){this.http=e,this.baseUrl=`${O.N.API_BASE}`,this.urlparametro=`${O.N.API_BASE}`}saveHorario(e){return this.http.post(`${this.baseUrl}horario`,e)}getHorario(e){return this.http.get(`${this.baseUrl}horario/${e}`)}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(F.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Gt(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Seleccionar Horario ",e.curso.nombre,"")}}function St(o,r){if(1&o&&(t.TgZ(0,"div")(1,"label",14),t._uU(2,"Inicio:"),t.qZA(),t._UZ(3,"input",15),t.TgZ(4,"label",14),t._uU(5,"Fin:"),t.qZA(),t._UZ(6,"input",16),t.qZA()),2&o){const e=t.oxw().index;t.xp6(1),t.Q6J("for","inicio"+e),t.xp6(2),t.Q6J("id","inicio"+e),t.xp6(1),t.Q6J("for","fin"+e),t.xp6(2),t.Q6J("id","fin"+e)}}function Mt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"div",3)(2,"span",12),t.NdJ("click",function(){const i=t.CHM(e).index,s=t.oxw(2);return t.KtG(s.selectDay(s.days[i]))}),t._uU(3),t.qZA(),t.YNc(4,St,7,4,"div",13),t.qZA()()}if(2&o){const e=r.$implicit,a=t.oxw(2);let n,i;t.xp6(1),t.Q6J("formGroup",a.getDayGroup(e)),t.xp6(2),t.hij(" ",null==(n=a.getDayGroup(e).get("name"))?null:n.value," "),t.xp6(1),t.Q6J("ngIf",null==(i=a.getDayGroup(e).get("selected"))?null:i.value)}}function Yt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3)(1,"ul",4),t.YNc(2,Mt,5,3,"li",5),t.qZA(),t.TgZ(3,"div",6)(4,"label",7),t._uU(5,"Fecha Inicio:"),t.qZA(),t.TgZ(6,"label",8),t._uU(7,"Fecha Fin:"),t.qZA()(),t.TgZ(8,"div",6),t._UZ(9,"input",9)(10,"input",10),t.qZA(),t.TgZ(11,"button",11),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.saveHorario())}),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(2),t.Q6J("ngForOf",e.daysFormArray.controls)}}let Lt=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.horarioService=i,this.loading=!1,this.deselectedHorarios=[],this.days=[{name:"Lunes",value:1,inicio:"",fin:"",selected:!1,id:-1},{name:"Martes",value:2,inicio:"",fin:"",selected:!1,id:-1},{name:"Mi\xe9rcoles",value:3,inicio:"",fin:"",selected:!1,id:-1},{name:"Jueves",value:4,inicio:"",fin:"",selected:!1,id:-1},{name:"Viernes",value:5,inicio:"",fin:"",selected:!1,id:-1},{name:"S\xe1bado",value:6,inicio:"",fin:"",selected:!1,id:-1},{name:"Domingo",value:7,inicio:"",fin:"",selected:!1,id:-1}],this.curso=this.config.data.data,this.parametroForm=this.fb.group({domain_id:[1],days:this.fb.array(this.days.map(s=>this.createDayGroup(s))),fechaInicio:[""],fechaFin:[""]}),this.getHorario(this.curso.id)}createDayGroup(e){return this.fb.group({name:[e.name],value:[e.value],inicio:[e.inicio,c.kI.required],fin:[e.fin,c.kI.required],selected:[e.selected],id:[e.id]})}get daysFormArray(){return this.parametroForm.get("days")}getDayGroup(e){return e}selectDay(e){const a=this.days.findIndex(n=>n.value===e.value);if(-1!==a){const n=this.daysFormArray.at(a),i=!n.get("selected")?.value;n.patchValue({selected:i,inicio:i?"08:00":"",fin:i?"09:00":""}),i||this.deselectedHorarios.push(this.days[a].id)}}getHorario(e){this.horarioService.getHorario(e).subscribe(a=>{const n=a;let i=null,s=null;this.days.forEach(u=>{const g=n.find(x=>x.day_id==u.value);g&&(u.selected=!0,u.inicio=g.hora_inicio,u.fin=g.hora_fin,u.id=g.id,(!i||new Date(g.fecha_inicio)<i)&&(i=new Date(g.fecha_inicio)),(!s||new Date(g.fecha_fin)>s)&&(s=new Date(g.fecha_fin)))}),this.daysFormArray.patchValue(this.days),i&&this.parametroForm.patchValue({fechaInicio:this.formatDate(i)}),s&&this.parametroForm.patchValue({fechaFin:this.formatDate(s)})},a=>{console.error("Error al obtener el horario",a)})}formatDate(e){return`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`}saveHorario(){const e=this.parametroForm.value.days.filter(n=>n.selected);this.horarioService.saveHorario({curso_id:this.curso.id,domain_id:1,docente_id:1,horarios:e,deselectedHorarios:this.deselectedHorarios,fechaInicio:this.parametroForm.value.fechaInicio,fechaFin:this.parametroForm.value.fechaFin}).subscribe(n=>{console.log("Horario guardado",n),this.ref?.close()},n=>{console.error("Error al guardar el horario",n),this.ref?.close()}),this.loading=!0}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(p.E7),t.Y36(p.S),t.Y36(Nt))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-seleccionar-horario-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"flex","flex-row",2,"list-style-type","none","justify-content","space-between"],[4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-center"],["for","fechaInicio",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["for","fechaFin",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","date","id","fechaInicio","formControlName","fechaInicio",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","date","id","fechaFin","formControlName","fechaFin",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["pButton","","type","button","label","Guardar",1,"p-button-success","mt-2",3,"click"],[1,"py-2",3,"click"],[4,"ngIf"],[1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white",3,"for"],["type","time","formControlName","inicio","min","09:00","max","18:00",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"id"],["type","time","formControlName","fin","min","09:00","max","18:00",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"id"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Gt,2,1,"ng-template",0),t.YNc(2,Yt,12,2,"ng-template",1),t.qZA())},dependencies:[A.sg,A.O5,c._Y,c.Fj,c.JJ,c.JL,v.Hq,b.jx,f.s,c.sg,c.u]})}return o})();function Ot(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Seleccionar Alumnos para ",e.cursoNombre,"")}}function Ut(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",9),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",9),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",9),t._uU(6,"Celular"),t.qZA(),t.TgZ(7,"th",9),t._uU(8,"Correo"),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Seleccionar"),t.qZA()())}function Ht(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"input",10),t.NdJ("change",function(n){const s=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onSelectAlumno(n,s))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombres),t.xp6(2),t.Oqu(e.celular),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Q6J("checked",e.is_participant)}}function It(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Ut,11,0,"ng-template",0),t.YNc(6,Ht,11,5,"ng-template",8),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.cursoAlumnoList)("rows",10)("loading",e.loading)("rowHover",!0)}}let Jt=(()=>{class o{constructor(e,a,n){this.ref=e,this.config=a,this.alumnoService=n,this.loading=!1,this.cursoAlumnoList=[],this.cursoNombre="",this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.cursoNombre=this.config.data.cursoNombre,this.getAlumnosCurso(this.domainId??1,this.curso)}getAlumnosCurso(e,a){console.log("domainId",e),this.loading=!0,this.alumnoService.getAlumnosCurso(e,a).subscribe(n=>{this.cursoAlumnoList=n,this.loading=!1})}onSelectAlumno(e,a){this.alumnoService.updateAlumnoCurso({domain_id:this.domainId??1,curso_id:this.curso,alumno_id:a.id,is_participant:e.target.checked}).subscribe(i=>{this.getAlumnosCurso(this.domainId,this.curso)})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.E7),t.Y36(p.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-seleccionar-alumnos-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","body"],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"checked","change"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Ot,2,1,"ng-template",0),t.YNc(2,It,7,4,"ng-template",1),t.qZA())},dependencies:[b.jx,y.iA,f.s]})}return o})(),Bt=(()=>{class o{constructor(e,a,n){this.http=e,this.httpClientFormData=a,this.handler=n,this.baseUrl=`${O.N.API_BASE}`,this.urlparametro=`${O.N.API_BASE}`,this.httpOptions={headers:new F.WM({"Content-Type":"application/json"})},this.httpClientFormData=new F.eN(this.handler)}getAsistenciaCurso(e){return this.http.post(`${this.baseUrl}asistencia-curso`,e)}updateAsistenciaCurso(e){return this.http.post(`${this.baseUrl}asistencia-curso-marcar`,e)}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(F.eN),t.LFG(F.eN),t.LFG(F.jN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Vt(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Asistencia ",e.cursoNombre,"")}}function jt(o,r){if(1&o&&(t.TgZ(0,"option",12),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Wt(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",13),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",13),t._uU(6,"Asistio"),t.qZA()())}function Qt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"input",14),t.NdJ("change",function(n){const s=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onCheckAsistencia(n,s))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombres),t.xp6(2),t.Q6J("checked",e.is_marked)}}function zt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"Fecha:"),t.qZA(),t.TgZ(5,"select",7),t.NdJ("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.onFilterDateChange(n))}),t.YNc(6,jt,2,2,"option",8),t.qZA(),t.TgZ(7,"p-table",9,10),t.YNc(9,Wt,7,0,"ng-template",0),t.YNc(10,Qt,7,3,"ng-template",11),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.fechas),t.xp6(1),t.Q6J("value",e.asistenciaCursoList)("rows",10)("loading",e.loading)("rowHover",!0)}}let Kt=(()=>{class o{constructor(e,a,n){this.ref=e,this.config=a,this.asistenciaService=n,this.loading=!1,this.asistenciaCursoList=[],this.fechas=[],this.selectedFecha="",this.initialLoad=!0,this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.docente_id=this.config.data.docente_id,this.cursoNombre=this.config.data.cursoNombre,this.fechas=[],this.selectedFecha="2021-09-01",this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha,!0)}getAsistenciaCurso(e,a,n,i=!1){console.log("domainId",e),this.loading=!0,this.asistenciaService.getAsistenciaCurso({domain_id:e,curso_id:a,fecha:n}).subscribe(u=>{const g=new Date(u.horarios[0].fecha_inicio),x=new Date(u.horarios[0].fecha_fin),h=[];u.horarios.forEach(P=>{h.includes(P.day_id)||h.push(P.day_id)});const _=this.generateDatesWithDaysAndRange(g,x,h);this.fechas=_,i?this.fechas.length>0&&(this.selectedFecha=this.fechas[0],this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)):(this.loading=!1,this.asistenciaCursoList=u.participantes)})}onCheckAsistencia(e,a){const n={domain_id:this.domainId??1,curso_id:this.curso,alumno_id:a.alumno_id,fecha:this.selectedFecha,asistio:e.target.checked,docente_id:this.docente_id};console.log("data",n),this.asistenciaService.updateAsistenciaCurso(n).subscribe(()=>{})}generateDatesWithDaysAndRange(e,a,n){const i=[],s=new Date(e);for(;s<=a;)n.includes(s.getDay())&&i.push(s.toISOString().split("T")[0]),s.setDate(s.getDate()+1);return i}onFilterDateChange(e){this.selectedFecha=e.target.value,this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.E7),t.Y36(p.S),t.Y36(Bt))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-marcar-asistencia-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["for","fechaFilter"],["id","fechaFilter",3,"change"],[3,"value",4,"ngFor","ngForOf"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","body"],[3,"value"],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"checked","change"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Vt,2,1,"ng-template",0),t.YNc(2,zt,11,5,"ng-template",1),t.qZA())},dependencies:[A.sg,c.YN,c.Kr,b.jx,y.iA,f.s]})}return o})();function $t(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","ver"===e.acciones?"Ver Grupo de Evaluaciones":"actualizar"===e.acciones?"Actualizar Grupo de Evaluaciones":"A\xf1adir Grupo de Evaluaciones"," ")}}function Rt(o,r){1&o&&t._UZ(0,"button",15)}function Xt(o,r){1&o&&t._UZ(0,"button",16)}function te(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarGrupoEvaluaciones())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"Nombre de Grupo"),t.qZA()()()()(),t.TgZ(8,"div",4)(9,"div",10)(10,"div",11),t.YNc(11,Rt,1,0,"button",12),t.YNc(12,Xt,1,0,"button",13),t.TgZ(13,"button",14),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(6),t.Q6J("ngIf","add"===e.acciones),t.xp6(1),t.Q6J("ngIf","actualizar"===e.acciones)}}let J=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({nombreGrupo:["",c.kI.required]})}ngOnInit(){this.idCurso=this.config.data.idCurso,this.acciones=this.config.data.acciones,("ver"===this.acciones||"actualizar"===this.acciones)&&this.parametroForm.patchValue({nombreGrupo:this.config.data.data.nombre_del_grupo})}guardarGrupoEvaluaciones(){this.parametroForm.valid?"add"===this.acciones?this.parametroService.guardarGrupoEvaluaciones({nombre_del_grupo:this.parametroForm.value.nombreGrupo,curso_id:this.idCurso}).subscribe(a=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):"actualizar"===this.acciones&&this.parametroService.actualizarGrupoEvaluaciones({nombre_del_grupo:this.parametroForm.value.nombreGrupo,id:this.config.data.data.id}).subscribe(n=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},n=>{console.error("Error al actualizar el parametro",n)}):console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(p.E7),t.Y36(p.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-editar-grupo-evaluaciones"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12"],[1,"p-float-label"],["type","text","pInputText","","formControlName","nombreGrupo",3,"readonly"],[1,"required"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,$t,2,1,"ng-template",0),t.YNc(2,te,14,4,"ng-template",1),t.qZA())},dependencies:[A.O5,c._Y,c.Fj,c.JJ,c.JL,v.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();const ee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function B(o){return(r={})=>{const e=r.width?String(r.width):o.defaultWidth;return o.formats[e]||o.formats[o.defaultWidth]}}const ie={date:B({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:B({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:B({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},se={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function S(o){return(r,e)=>{let n;if("formatting"===(e?.context?String(e.context):"standalone")&&o.formattingValues){const s=o.defaultFormattingWidth||o.defaultWidth,u=e?.width?String(e.width):s;n=o.formattingValues[u]||o.formattingValues[s]}else{const s=o.defaultWidth,u=e?.width?String(e.width):o.defaultWidth;n=o.values[u]||o.values[s]}return n[o.argumentCallback?o.argumentCallback(r):r]}}function M(o){return(r,e={})=>{const a=e.width,i=r.match(a&&o.matchPatterns[a]||o.matchPatterns[o.defaultMatchWidth]);if(!i)return null;const s=i[0],u=a&&o.parsePatterns[a]||o.parsePatterns[o.defaultParseWidth],g=Array.isArray(u)?function fe(o,r){for(let e=0;e<o.length;e++)if(r(o[e]))return e}(u,_=>_.test(s)):function he(o,r){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)&&r(o[e]))return e}(u,_=>_.test(s));let x;return x=o.valueCallback?o.valueCallback(g):g,x=e.valueCallback?e.valueCallback(x):x,{value:x,rest:r.slice(s.length)}}}const Pe={code:"en-US",formatDistance:(o,r,e)=>{let a;const n=ee[o];return a="string"==typeof n?n:1===r?n.one:n.other.replace("{{count}}",r.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+a:a+" ago":a},formatLong:ie,formatRelative:(o,r,e,a)=>se[o],localize:{ordinalNumber:(o,r)=>{const e=Number(o),a=e%100;if(a>20||a<10)switch(a%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:S({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:S({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:o=>o-1}),month:S({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:S({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:S({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function be(o){return(r,e={})=>{const a=r.match(o.matchPattern);if(!a)return null;const n=a[0],i=r.match(o.parsePattern);if(!i)return null;let s=o.valueCallback?o.valueCallback(i[0]):i[0];return s=e.valueCallback?e.valueCallback(s):s,{value:s,rest:r.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:o=>parseInt(o,10)}),era:M({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:M({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:o=>o+1}),month:M({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:M({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:M({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let tt={};function U(){return tt}Math.pow(10,8);const et=6048e5;function Z(o){const r=Object.prototype.toString.call(o);return o instanceof Date||"object"==typeof o&&"[object Date]"===r?new o.constructor(+o):"number"==typeof o||"[object Number]"===r||"string"==typeof o||"[object String]"===r?new Date(o):new Date(NaN)}function at(o){const r=Z(o);return r.setHours(0,0,0,0),r}function nt(o){const r=Z(o),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+o-+e}function q(o,r){return o instanceof Date?new o.constructor(r):new Date(r)}function Y(o,r){const e=U(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,n=Z(o),i=n.getDay(),s=(i<a?7:0)+i-a;return n.setDate(n.getDate()-s),n.setHours(0,0,0,0),n}function H(o){return Y(o,{weekStartsOn:1})}function rt(o){const r=Z(o),e=r.getFullYear(),a=q(o,0);a.setFullYear(e+1,0,4),a.setHours(0,0,0,0);const n=H(a),i=q(o,0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);const s=H(i);return r.getTime()>=n.getTime()?e+1:r.getTime()>=s.getTime()?e:e-1}function it(o,r){const e=Z(o),a=e.getFullYear(),n=U(),i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=q(o,0);s.setFullYear(a+1,0,i),s.setHours(0,0,0,0);const u=Y(s,r),g=q(o,0);g.setFullYear(a,0,i),g.setHours(0,0,0,0);const x=Y(g,r);return e.getTime()>=u.getTime()?a+1:e.getTime()>=x.getTime()?a:a-1}function d(o,r){return(o<0?"-":"")+Math.abs(o).toString().padStart(r,"0")}const E={y(o,r){const e=o.getFullYear(),a=e>0?e:1-e;return d("yy"===r?a%100:a,r.length)},M(o,r){const e=o.getMonth();return"M"===r?String(e+1):d(e+1,2)},d:(o,r)=>d(o.getDate(),r.length),a(o,r){const e=o.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return"am"===e?"a.m.":"p.m."}},h:(o,r)=>d(o.getHours()%12||12,r.length),H:(o,r)=>d(o.getHours(),r.length),m:(o,r)=>d(o.getMinutes(),r.length),s:(o,r)=>d(o.getSeconds(),r.length),S(o,r){const e=r.length,a=o.getMilliseconds();return d(Math.trunc(a*Math.pow(10,e-3)),r.length)}},st={G:function(o,r,e){const a=o.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(a,{width:"abbreviated"});case"GGGGG":return e.era(a,{width:"narrow"});default:return e.era(a,{width:"wide"})}},y:function(o,r,e){if("yo"===r){const a=o.getFullYear();return e.ordinalNumber(a>0?a:1-a,{unit:"year"})}return E.y(o,r)},Y:function(o,r,e,a){const n=it(o,a),i=n>0?n:1-n;return"YY"===r?d(i%100,2):"Yo"===r?e.ordinalNumber(i,{unit:"year"}):d(i,r.length)},R:function(o,r){return d(rt(o),r.length)},u:function(o,r){return d(o.getFullYear(),r.length)},Q:function(o,r,e){const a=Math.ceil((o.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return d(a,2);case"Qo":return e.ordinalNumber(a,{unit:"quarter"});case"QQQ":return e.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(a,{width:"narrow",context:"formatting"});default:return e.quarter(a,{width:"wide",context:"formatting"})}},q:function(o,r,e){const a=Math.ceil((o.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return d(a,2);case"qo":return e.ordinalNumber(a,{unit:"quarter"});case"qqq":return e.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(a,{width:"narrow",context:"standalone"});default:return e.quarter(a,{width:"wide",context:"standalone"})}},M:function(o,r,e){const a=o.getMonth();switch(r){case"M":case"MM":return E.M(o,r);case"Mo":return e.ordinalNumber(a+1,{unit:"month"});case"MMM":return e.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(a,{width:"narrow",context:"formatting"});default:return e.month(a,{width:"wide",context:"formatting"})}},L:function(o,r,e){const a=o.getMonth();switch(r){case"L":return String(a+1);case"LL":return d(a+1,2);case"Lo":return e.ordinalNumber(a+1,{unit:"month"});case"LLL":return e.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(a,{width:"narrow",context:"standalone"});default:return e.month(a,{width:"wide",context:"standalone"})}},w:function(o,r,e,a){const n=function Ie(o,r){const e=Z(o),a=+Y(e,r)-+function He(o,r){const e=U(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,n=it(o,r),i=q(o,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Y(i,r)}(e,r);return Math.round(a/et)+1}(o,a);return"wo"===r?e.ordinalNumber(n,{unit:"week"}):d(n,r.length)},I:function(o,r,e){const a=function Ue(o){const r=Z(o),e=+H(r)-+function Oe(o){const r=rt(o),e=q(o,0);return e.setFullYear(r,0,4),e.setHours(0,0,0,0),H(e)}(r);return Math.round(e/et)+1}(o);return"Io"===r?e.ordinalNumber(a,{unit:"week"}):d(a,r.length)},d:function(o,r,e){return"do"===r?e.ordinalNumber(o.getDate(),{unit:"date"}):E.d(o,r)},D:function(o,r,e){const a=function Le(o){const r=Z(o);return function Me(o,r){const e=at(o),a=at(r),n=+e-nt(e),i=+a-nt(a);return Math.round((n-i)/864e5)}(r,function Ye(o){const r=Z(o),e=q(o,0);return e.setFullYear(r.getFullYear(),0,1),e.setHours(0,0,0,0),e}(r))+1}(o);return"Do"===r?e.ordinalNumber(a,{unit:"dayOfYear"}):d(a,r.length)},E:function(o,r,e){const a=o.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},e:function(o,r,e,a){const n=o.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return d(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(n,{width:"short",context:"formatting"});default:return e.day(n,{width:"wide",context:"formatting"})}},c:function(o,r,e,a){const n=o.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return d(i,r.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(n,{width:"narrow",context:"standalone"});case"cccccc":return e.day(n,{width:"short",context:"standalone"});default:return e.day(n,{width:"wide",context:"standalone"})}},i:function(o,r,e){const a=o.getDay(),n=0===a?7:a;switch(r){case"i":return String(n);case"ii":return d(n,r.length);case"io":return e.ordinalNumber(n,{unit:"day"});case"iii":return e.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},a:function(o,r,e){const n=o.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(n,{width:"narrow",context:"formatting"});default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(o,r,e){const a=o.getHours();let n;switch(n=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(n,{width:"narrow",context:"formatting"});default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(o,r,e){const a=o.getHours();let n;switch(n=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",r){case"B":case"BB":case"BBB":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(n,{width:"narrow",context:"formatting"});default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(o,r,e){if("ho"===r){let a=o.getHours()%12;return 0===a&&(a=12),e.ordinalNumber(a,{unit:"hour"})}return E.h(o,r)},H:function(o,r,e){return"Ho"===r?e.ordinalNumber(o.getHours(),{unit:"hour"}):E.H(o,r)},K:function(o,r,e){const a=o.getHours()%12;return"Ko"===r?e.ordinalNumber(a,{unit:"hour"}):d(a,r.length)},k:function(o,r,e){let a=o.getHours();return 0===a&&(a=24),"ko"===r?e.ordinalNumber(a,{unit:"hour"}):d(a,r.length)},m:function(o,r,e){return"mo"===r?e.ordinalNumber(o.getMinutes(),{unit:"minute"}):E.m(o,r)},s:function(o,r,e){return"so"===r?e.ordinalNumber(o.getSeconds(),{unit:"second"}):E.s(o,r)},S:function(o,r){return E.S(o,r)},X:function(o,r,e){const a=o.getTimezoneOffset();if(0===a)return"Z";switch(r){case"X":return lt(a);case"XXXX":case"XX":return k(a);default:return k(a,":")}},x:function(o,r,e){const a=o.getTimezoneOffset();switch(r){case"x":return lt(a);case"xxxx":case"xx":return k(a);default:return k(a,":")}},O:function(o,r,e){const a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+ct(a,":");default:return"GMT"+k(a,":")}},z:function(o,r,e){const a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+ct(a,":");default:return"GMT"+k(a,":")}},t:function(o,r,e){return d(Math.trunc(o.getTime()/1e3),r.length)},T:function(o,r,e){return d(o.getTime(),r.length)}};function ct(o,r=""){const e=o>0?"-":"+",a=Math.abs(o),n=Math.trunc(a/60),i=a%60;return 0===i?e+String(n):e+String(n)+r+d(i,2)}function lt(o,r){return o%60==0?(o>0?"-":"+")+d(Math.abs(o)/60,2):k(o,r)}function k(o,r=""){const e=o>0?"-":"+",a=Math.abs(o);return e+d(Math.trunc(a/60),2)+r+d(a%60,2)}const ut=(o,r)=>{switch(o){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});default:return r.date({width:"full"})}},dt=(o,r)=>{switch(o){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});default:return r.time({width:"full"})}},Je={p:dt,P:(o,r)=>{const e=o.match(/(P+)(p+)?/)||[],a=e[1],n=e[2];if(!n)return ut(o,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;default:i=r.dateTime({width:"full"})}return i.replace("{{date}}",ut(a,r)).replace("{{time}}",dt(n,r))}},Be=/^D+$/,Ve=/^Y+$/,je=["D","DD","YY","YYYY"];const Xe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,to=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eo=/^'([^]*?)'?$/,oo=/''/g,ao=/[a-zA-Z]/;function pt(o,r,e){const a=U(),n=e?.locale??a.locale??Pe,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=Z(o);if(!function Re(o){if(!function $e(o){return o instanceof Date||"object"==typeof o&&"[object Date]"===Object.prototype.toString.call(o)}(o)&&"number"!=typeof o)return!1;const r=Z(o);return!isNaN(Number(r))}(u))throw new RangeError("Invalid time value");let g=r.match(to).map(h=>{const _=h[0];return"p"===_||"P"===_?(0,Je[_])(h,n.formatLong):h}).join("").match(Xe).map(h=>{if("''"===h)return{isToken:!1,value:"'"};const _=h[0];if("'"===_)return{isToken:!1,value:no(h)};if(st[_])return{isToken:!0,value:h};if(_.match(ao))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:h}});n.localize.preprocessor&&(g=n.localize.preprocessor(u,g));const x={firstWeekContainsDate:i,weekStartsOn:s,locale:n};return g.map(h=>{if(!h.isToken)return h.value;const _=h.value;return(!e?.useAdditionalWeekYearTokens&&function Qe(o){return Ve.test(o)}(_)||!e?.useAdditionalDayOfYearTokens&&function We(o){return Be.test(o)}(_))&&function ze(o,r,e){const a=function Ke(o,r,e){const a="Y"===o[0]?"years":"days of the month";return`Use \`${o.toLowerCase()}\` instead of \`${o}\` (in \`${r}\`) for formatting ${a} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(o,r,e);if(console.warn(a),je.includes(o))throw new RangeError(a)}(_,r,String(o)),(0,st[_[0]])(u,_,n.localize,x)}).join("")}function no(o){const r=o.match(eo);return r?r[1].replace(oo,"'"):o}function ro(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","ver"===e.acciones?"Ver Evaluacion":"actualizar"===e.acciones?"Actualizar Evaluacion":"A\xf1adir Evaluacion"," ")}}function io(o,r){1&o&&t._UZ(0,"button",22)}function so(o,r){1&o&&t._UZ(0,"button",23)}function co(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarEvaluacion())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"Nombre de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"p-dropdown",10),t.TgZ(11,"label",11),t._uU(12,"Tipo de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(13,"div",6)(14,"span",7),t._UZ(15,"input",12),t.TgZ(16,"label",9),t._uU(17,"Porcentaje de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(18,"div",6)(19,"span",7),t._UZ(20,"p-calendar",13),t.TgZ(21,"label",9),t._uU(22,"Fecha y Hora de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(23,"div",6)(24,"span",7),t._UZ(25,"p-dropdown",14),t.TgZ(26,"label",15),t._uU(27,"Estado"),t.qZA()()(),t.TgZ(28,"div",6)(29,"span",7),t._UZ(30,"textarea",16),t.TgZ(31,"label"),t._uU(32,"Observaciones"),t.qZA()()()()(),t.TgZ(33,"div",4)(34,"div",17)(35,"div",18),t.YNc(36,io,1,0,"button",19),t.YNc(37,so,1,0,"button",20),t.TgZ(38,"button",21),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(5),t.Q6J("options",e.tiposEvaluacion)("disabled","ver"===e.acciones),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(5),t.Q6J("showTime",!0)("readonlyInput","ver"===e.acciones),t.xp6(5),t.Q6J("options",e.estados)("disabled","ver"===e.acciones),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(6),t.Q6J("ngIf","add"===e.acciones),t.xp6(1),t.Q6J("ngIf","actualizar"===e.acciones)}}let V=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({observaciones:["",c.kI.required],nombreEvaluacion:["",c.kI.required],tipoEvaluacion:["",c.kI.required],porcentajeEvaluacion:["",[c.kI.required,c.kI.min(0),c.kI.max(100)]],fechaHoraEvaluacion:["",c.kI.required],estado:["",c.kI.required]})}ngOnInit(){this.idCurso=this.config.data.idCurso,this.acciones=this.config.data.acciones,Promise.all([this.listarTipoEvaluacion(),this.listarEstados()]).then(()=>{if("ver"===this.acciones||"actualizar"===this.acciones){const e=pt(new Date(this.config.data.data.fecha_y_hora_programo),"yyyy-MM-dd'T'HH:mm:ss");this.parametroForm.patchValue({nombreEvaluacion:this.config.data.data.nombre,tipoEvaluacion:this.config.data.data.tipo_evaluacion_id,porcentajeEvaluacion:this.config.data.data.porcentaje_evaluacion,fechaHoraEvaluacion:e,estado:this.config.data.data.estado_id,observaciones:this.config.data.data.observaciones})}})}listarEstados(){return new Promise((e,a)=>{this.parametroService.getEstados().subscribe(n=>{console.log("Lista de listarEstados",n),this.estados=n,e()},n=>a(n))})}listarTipoEvaluacion(){return new Promise((e,a)=>{this.parametroService.getTipoEvaluacion().subscribe(n=>{console.log("Lista de TipoEvaluacion",n),this.tiposEvaluacion=n,e()},n=>a(n))})}guardarEvaluacion(){if(this.parametroForm.valid){const e={observaciones:this.parametroForm.value.observaciones,nombre:this.parametroForm.value.nombreEvaluacion,tipo_evaluacion_id:this.parametroForm.value.tipoEvaluacion,porcentaje_evaluacion:this.parametroForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.parametroForm.value.fechaHoraEvaluacion,estado_id:this.parametroForm.value.estado,grupo_de_evaluaciones_id:this.config.data.idGrupoEvaluaciones,domain_id:1};console.log(e),"add"===this.acciones?this.parametroService.guardarEvaluacion(e).subscribe(a=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):"actualizar"===this.acciones&&this.parametroService.actualizarListadoDeEvaluacionesPorGrupo({observaciones:this.parametroForm.value.observaciones,nombre:this.parametroForm.value.nombreEvaluacion,tipo_evaluacion_id:this.parametroForm.value.tipoEvaluacion,porcentaje_evaluacion:this.parametroForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.parametroForm.value.fechaHoraEvaluacion,estado_id:this.parametroForm.value.estado,id:this.config.data.data.id}).subscribe(n=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},n=>{console.error("Error al actualizar el parametro",n)})}else console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(p.E7),t.Y36(p.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-editar-lista-de-evaluaciones-por-grupo"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12"],[1,"p-float-label"],["type","text","pInputText","","formControlName","nombreEvaluacion",3,"readonly"],[1,"required"],["inputId","dropdownTipoEvaluacion","optionLabel","tx_item_description","formControlName","tipoEvaluacion","optionValue","nu_id_parametro",3,"options","disabled"],["for","dropdownTipoEvaluacion",1,"required"],["type","number","pInputText","","formControlName","porcentajeEvaluacion",3,"readonly"],["formControlName","fechaHoraEvaluacion",3,"showTime","readonlyInput"],["inputId","dropdownEstados","optionLabel","tx_item_description","formControlName","estado","optionValue","nu_id_parametro",3,"options","disabled"],["for","dropdownEstados",1,"required"],["pInputTextarea","","formControlName","observaciones",3,"readonly"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,ro,2,1,"ng-template",0),t.YNc(2,co,39,12,"ng-template",1),t.qZA())},dependencies:[A.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,z.f,v.Hq,b.jx,C.o,R.g,I.Lt,f.s,c.sg,c.u]})}return o})();function lo(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","ver"===e.acciones?"Ver Pregunta":"actualizar"===e.acciones?"Actualizar Pregunta":"A\xf1adir Pregunta"," ")}}function uo(o,r){if(1&o&&(t.TgZ(0,"div",16)(1,"span",7),t._UZ(2,"input",17),t.TgZ(3,"label",18),t._uU(4,"Formulaci\xf3n de Pregunta por Docente"),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("readonly","ver"===e.acciones)}}function po(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",21)(2,"input",22),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).index,u=t.oxw(3);return t.KtG(u.alternativas[s].texto=n)}),t.qZA(),t.TgZ(3,"label"),t._uU(4),t.qZA(),t.TgZ(5,"input",23),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.preguntaForm.value.correcta=n)}),t.qZA()()()}if(2&o){const e=r.index,a=t.oxw(3);t.xp6(2),t.Q6J("ngModel",a.alternativas[e].texto)("readonly","ver"===a.acciones),t.xp6(2),t.hij("Alternativa ",e+1,""),t.xp6(1),t.Q6J("value",e)("ngModel",a.preguntaForm.value.correcta)}}function mo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",16),t.YNc(1,po,6,5,"div",19),t.TgZ(2,"button",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.agregarAlternativa())}),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.alternativas)}}function go(o,r){1&o&&(t.TgZ(0,"div",16)(1,"span",7)(2,"label",18),t._uU(3,"Pregunta M\xe1gica"),t.qZA()()())}function _o(o,r){1&o&&t._UZ(0,"button",24)}function ho(o,r){1&o&&t._UZ(0,"button",25)}function fo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarPregunta())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7)(5,"p-dropdown",8),t.NdJ("onChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.onTipoPreguntaChange(n.value))}),t.qZA(),t.TgZ(6,"label",9),t._uU(7,"Tipo de Pregunta"),t.qZA()()(),t.YNc(8,uo,5,1,"div",10),t.YNc(9,mo,3,1,"div",10),t.YNc(10,go,4,0,"div",10),t.qZA()(),t.TgZ(11,"div",4)(12,"div",11)(13,"div",12),t.YNc(14,_o,1,0,"button",13),t.YNc(15,ho,1,0,"button",14),t.TgZ(16,"button",15),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();let a,n,i;t.Q6J("formGroup",e.preguntaForm),t.xp6(5),t.Q6J("options",e.tiposPregunta)("disabled","ver"===e.acciones),t.xp6(3),t.Q6J("ngIf",46===(null==e.preguntaForm||null==(a=e.preguntaForm.get("tipoPregunta"))?null:a.value)),t.xp6(1),t.Q6J("ngIf",46===(null==e.preguntaForm||null==(n=e.preguntaForm.get("tipoPregunta"))?null:n.value)),t.xp6(1),t.Q6J("ngIf",47===(null==e.preguntaForm||null==(i=e.preguntaForm.get("tipoPregunta"))?null:i.value)),t.xp6(4),t.Q6J("ngIf","add"===e.acciones),t.xp6(1),t.Q6J("ngIf","actualizar"===e.acciones)}}let j=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.tiposPregunta=[],this.alternativas=[{texto:""}],this.preguntaForm=this.fb.group({tipoPregunta:["",c.kI.required],formulacionPregunta:["",c.kI.required],descripcion:[""],correcta:[null]})}ngOnInit(){this.idCurso=this.config.data.idCurso,this.acciones=this.config.data.acciones,Promise.all([this.listarDePregunta()]).then(()=>{if("ver"===this.acciones||"actualizar"===this.acciones){const e=pt(new Date(this.config.data.data.fecha_y_hora_programo),"yyyy-MM-dd'T'HH:mm:ss");this.preguntaForm.patchValue({nombreEvaluacion:this.config.data.data.nombre,tipoEvaluacion:this.config.data.data.tipo_evaluacion_id,porcentajeEvaluacion:this.config.data.data.porcentaje_evaluacion,fechaHoraEvaluacion:e,estado:this.config.data.data.estado_id,observaciones:this.config.data.data.observaciones,preguntaMagica:this.config.data.data.pregunta_magica})}})}listarDePregunta(){return new Promise((e,a)=>{this.parametroService.getTipoDePregunta().subscribe(n=>{console.log("Lista de getTipoDePregunta",n),this.tiposPregunta=n,e()},n=>a(n))})}guardarPregunta(){if(console.log(this.preguntaForm?.get("descripcion")?.value),this.preguntaForm.valid){const e={observaciones:this.preguntaForm.value.observaciones,nombre:this.preguntaForm.value.nombreEvaluacion,tipo_evaluacion_id:this.preguntaForm.value.tipoEvaluacion,porcentaje_evaluacion:this.preguntaForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.preguntaForm.value.fechaHoraEvaluacion,estado_id:this.preguntaForm.value.estado,grupo_de_evaluaciones_id:this.config.data.idGrupoEvaluaciones,domain_id:1};console.log(e),"add"===this.acciones?this.parametroService.guardarEvaluacion(e).subscribe(a=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):"actualizar"===this.acciones&&this.parametroService.actualizarListadoDeEvaluacionesPorGrupo({observaciones:this.preguntaForm.value.observaciones,nombre:this.preguntaForm.value.nombreEvaluacion,tipo_evaluacion_id:this.preguntaForm.value.tipoEvaluacion,porcentaje_evaluacion:this.preguntaForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.preguntaForm.value.fechaHoraEvaluacion,estado_id:this.preguntaForm.value.estado,id:this.config.data.data.id}).subscribe(n=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},n=>{console.error("Error al actualizar el parametro",n)})}else console.error("Formulario inv\xe1lido")}agregarAlternativa(){this.alternativas.push({texto:""})}closeModal(e){e.preventDefault(),this.ref?.close()}onTipoPreguntaChange(e){console.log("Tipo de Pregunta changed to:",e)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(p.E7),t.Y36(p.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-editar-listado-de-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12"],[1,"p-float-label"],["inputId","dropdownTipoPregunta","optionLabel","tx_item_description","formControlName","tipoPregunta","optionValue","nu_id_parametro",3,"options","disabled","onChange"],["for","dropdownTipoPregunta",1,"required"],["class","col-12",4,"ngIf"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],[1,"col-12"],["type","text","pInputText","","formControlName","formulacionPregunta",3,"readonly"],[1,"required"],["class","col-12",4,"ngFor","ngForOf"],["type","button","pButton","","icon","pi pi-plus","label","A\xf1adir Alternativa",3,"click"],[1,"p-float-label","p-d-flex","p-ai-center"],["type","text","pInputText","",3,"ngModel","readonly","ngModelChange"],["type","radio","name","correcta",3,"value","ngModel","ngModelChange"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,lo,2,1,"ng-template",0),t.YNc(2,fo,17,8,"ng-template",1),t.qZA())},dependencies:[A.sg,A.O5,c._Y,c.Fj,c._,c.JJ,c.JL,c.On,v.Hq,b.jx,C.o,I.Lt,f.s,c.sg,c.u]})}return o})();const bo=["filter"],vo=["dt1"];function xo(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Listado de preguntas"),t.qZA())}function Co(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function To(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"Pregunta"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Valor de la pregunta"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Puntos de la pregunta"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Porcentaje de la pregunta"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"Corregir Pregunta"),t.qZA()())}function wo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(5,"td")(6,"span",23),t._uU(7),t.qZA()(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.corregirPregunta(i))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(7),t.Oqu(e.texto),t.xp6(2),t.Oqu(e.valor),t.xp6(2),t.Oqu(e.puntos),t.xp6(2),t.hij("",e.porcentaje,"%")}}function Zo(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"No se encontraron registros"),t.qZA()())}function yo(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function Ao(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Co,7,0,"ng-template",8),t.YNc(6,To,13,0,"ng-template",0),t.YNc(7,wo,16,4,"ng-template",9),t.YNc(8,Zo,3,0,"ng-template",10),t.YNc(9,yo,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let Eo=(()=>{class o{constructor(e,a,n){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=n,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getGrupoEvaluaciones({id:this.grupoEvaluaciones.id}).subscribe(e=>{this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]})}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(n=>{e+=n.promedio||0,a+=n.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(j,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idCurso:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarGrupoEvaluaciones()})}navigateToDetalle(e){this.ref=this.dialogService.open(j,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToEdit(e){this.ref=this.dialogService.open(j,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(e).subscribe(n=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},n=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(e){this.ref=this.dialogService.open(mt,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}corregirPregunta(e){}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.xA),t.Y36(w.m),t.Y36(p.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-listado-de-preguntas"]],viewQuery:function(a,n){if(1&a&&(t.Gf(bo,5),t.Gf(vo,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar listado de preguntas",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pTooltip","Responder pregunta","tooltipPosition","top"],["pButton","","label","Corregir",1,"p-button-rounded","p-button-info",3,"click"],["colspan","6"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,xo,2,0,"ng-template",0),t.YNc(2,Ao,10,5,"ng-template",1),t.qZA())},dependencies:[v.Hq,b.jx,y.iA,C.o,f.s,N.u]})}return o})();const qo=["filter"],ko=["dt1"];function Fo(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Listado de evaluaciones por grupo"),t.qZA())}function Do(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function Po(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"N Bloque"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Nombre del grupo"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Preguntas"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Nota"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"% Obtenido"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"Valor %"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"Fecha y Hora 1"),t.qZA(),t.TgZ(17,"th",19),t._uU(18,"Fecha y Hora 2"),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"Tipo de Evaluaci\xf3n"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"Observaciones"),t.qZA(),t.TgZ(23,"th",19),t._uU(24,"Estado"),t.qZA()())}function No(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.agregarPreguntas(i))}),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA()()}if(2&o){const e=r.$implicit;t.xp6(6),t.Oqu(e.id),t.xp6(2),t.Oqu(e.nombre),t.xp6(4),t.Oqu(e.nota),t.xp6(2),t.hij("",e.porcentaje_obtenido,"%"),t.xp6(2),t.hij("",e.porcentaje_evaluacion,"%"),t.xp6(2),t.Oqu(e.fecha_y_hora_programo),t.xp6(2),t.Oqu(e.fecha_hora_2),t.xp6(2),t.Oqu(e.tipo_evaluacion_nombre),t.xp6(2),t.Oqu(e.observaciones),t.xp6(2),t.Oqu(e.estado_nombre)}}function Go(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2,"No se encontraron registros"),t.qZA()())}function So(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function Mo(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Do,7,0,"ng-template",8),t.YNc(6,Po,25,0,"ng-template",0),t.YNc(7,No,27,10,"ng-template",9),t.YNc(8,Go,3,0,"ng-template",10),t.YNc(9,So,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let mt=(()=>{class o{constructor(e,a,n){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=n,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getListadoDeEvaluacionesPorGrupo({id:this.grupoEvaluaciones.id}).subscribe(e=>{this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]})}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(n=>{e+=n.promedio||0,a+=n.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(V,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idGrupoEvaluaciones:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarGrupoEvaluaciones()})}navigateToDetalle(e){this.ref=this.dialogService.open(V,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToEdit(e){this.ref=this.dialogService.open(V,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarListadoDeEvaluacionesPorGrupo(e).subscribe(n=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},n=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarPreguntas(e){this.ref=this.dialogService.open(Eo,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.xA),t.Y36(w.m),t.Y36(p.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-lis-eval-grupo"]],viewQuery:function(a,n){if(1&a&&(t.Gf(qo,5),t.Gf(ko,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar por listado de evaluaciones por grupo",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-plus","pTooltip","A\xf1adir pregunta","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","12"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Fo,2,0,"ng-template",0),t.YNc(2,Mo,10,5,"ng-template",1),t.qZA())},dependencies:[v.Hq,b.jx,y.iA,C.o,f.s,N.u]})}return o})();const Yo=["filter"],Lo=["dt1"];function Oo(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Grupos de evaluaciones"),t.qZA())}function Uo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"span",15)(3,"input",16,17),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",18)(6,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function Ho(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",20),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",20),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th",20),t._uU(6,"Nombre del grupo"),t.qZA(),t.TgZ(7,"th",20),t._uU(8,"Evaluaciones"),t.qZA(),t.TgZ(9,"th",20),t._uU(10,"Promedio"),t.qZA(),t.TgZ(11,"th",20),t._uU(12,"%"),t.qZA()())}function Io(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(3,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(4,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.agregarEvaluaciones(i))}),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()}if(2&o){const e=r.$implicit;t.xp6(6),t.Oqu(e.id),t.xp6(2),t.Oqu(e.nombre_del_grupo),t.xp6(4),t.Oqu(e.promedio),t.xp6(2),t.hij("",e.porcentaje,"%")}}function Jo(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"Promedio Total:"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t._UZ(5,"td"),t.qZA(),t.TgZ(6,"tr")(7,"td",25),t._uU(8,"Porcentaje Total:"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._UZ(11,"td"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.Oqu(e.promedioTotal),t.xp6(6),t.hij("",e.porcentajeTotal,"%")}}function Bo(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"No se encontraron registros"),t.qZA()())}function Vo(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function jo(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Uo,7,0,"ng-template",8),t.YNc(6,Ho,13,0,"ng-template",0),t.YNc(7,Io,15,4,"ng-template",9),t.YNc(8,Jo,12,2,"ng-template",10),t.YNc(9,Bo,3,0,"ng-template",11),t.YNc(10,Vo,3,0,"ng-template",12),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let Wo=(()=>{class o{constructor(e,a,n){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=n,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getGrupoEvaluaciones({id:this.grupoEvaluaciones.id}).subscribe(e=>{this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]})}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(n=>{e+=n.promedio||0,a+=n.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(J,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idCurso:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarGrupoEvaluaciones()})}navigateToDetalle(e){this.ref=this.dialogService.open(J,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToEdit(e){this.ref=this.dialogService.open(J,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(e).subscribe(n=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},n=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(e){this.ref=this.dialogService.open(mt,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.xA),t.Y36(w.m),t.Y36(p.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-g-ev"]],viewQuery:function(a,n){if(1&a&&(t.Gf(Yo,5),t.Gf(Lo,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar grupos de evaluaciones",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-plus","pTooltip","Agregar evaluaciones","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","4",1,"text-right","font-bold"],["colspan","6"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Oo,2,0,"ng-template",0),t.YNc(2,jo,11,5,"ng-template",1),t.qZA())},dependencies:[v.Hq,b.jx,y.iA,C.o,f.s,N.u]})}return o})();const Qo=["filter"],zo=["dt1"];function Ko(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Bandeja de Cursos"),t.qZA())}function $o(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function Ro(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"Nombre del curso"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Acciones"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Configuraci\xf3n"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Cr\xe9ditos"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"Ciclo"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"Carrera t\xe9cnica"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"\xc1rea de formaci\xf3n"),t.qZA(),t.TgZ(17,"th",19),t._uU(18,"M\xf3dulo formativo"),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"Docente"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"Foto"),t.qZA(),t.TgZ(23,"th",19),t._uU(24,"Estado (m16)"),t.qZA(),t.TgZ(25,"th",19),t._uU(26,"Modalidad (m18)"),t.qZA(),t.TgZ(27,"th",19),t._uU(28,"F. inicio"),t.qZA(),t.TgZ(29,"th",19),t._uU(30,"F. t\xe9rmino"),t.qZA()())}function Xo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",20)(7,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verSyllabus(i.syllabus))}),t._uU(8," Sy "),t.qZA(),t.TgZ(9,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verAlumnos(i))}),t._uU(10," Al "),t.qZA(),t.TgZ(11,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verHorarios(i))}),t._uU(12," Ho "),t.qZA(),t.TgZ(13,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verAsistencia(i))}),t._uU(14," As "),t.qZA(),t.TgZ(15,"button",25),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verTemas(i.temas))}),t._uU(16," Te "),t.qZA(),t.TgZ(17,"button",26),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verEvaluaciones(i))}),t._uU(18," Ev "),t.qZA(),t.TgZ(19,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verForos(i.foros))}),t._uU(20," Fo "),t.qZA()()(),t.TgZ(21,"td")(22,"button",28),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(23,"button",29),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(24,"button",30),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.qZA(),t.TgZ(37,"td"),t._UZ(38,"img",31),t.qZA(),t.TgZ(39,"td"),t._uU(40),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.qZA(),t.TgZ(43,"td"),t._uU(44),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.qZA()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombre),t.xp6(22),t.Oqu(e.cantidad_de_creditos),t.xp6(2),t.Oqu(e.ciclo_nombre),t.xp6(2),t.Oqu(e.carrera_nombre),t.xp6(2),t.Oqu(e.area_de_formacion_nombre),t.xp6(2),t.Oqu(e.modulo_formativo_nombre),t.xp6(2),t.Oqu(e.docente),t.xp6(2),t.Q6J("src",e.foto,t.LSH),t.xp6(2),t.Oqu(e.estado_m16),t.xp6(2),t.Oqu(e.modalidad_m18),t.xp6(2),t.Oqu(e.fecha_inicio),t.xp6(2),t.Oqu(e.fecha_termino)}}function ta(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",32),t._uU(2,"No se encontraron registros"),t.qZA()())}function ea(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",32),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function oa(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,$o,7,0,"ng-template",8),t.YNc(6,Ro,31,0,"ng-template",0),t.YNc(7,Xo,47,13,"ng-template",9),t.YNc(8,ta,3,0,"ng-template",10),t.YNc(9,ea,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.carrerastecnicasList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let aa=(()=>{class o{constructor(e,a,n,i){this.dialogService=e,this.cursosService=a,this.router=n,this.config=i,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){this.listarCursos()}listarCursos(){this.cursosService.getCursos(this.config.data.data.id).subscribe(e=>{console.log("Lista de Carreras T\xe9cnicas",e),this.carrerastecnicasList=e,this.originalCarrerastecnicasList=[...e]})}navigateToNuevo(){console.log("nuevo"),this.ref=this.dialogService.open(X,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(e=>{console.log("Cerrando dialogo"),this.listarCursos()})}navigateAddCurso(){this.ref=this.dialogService.open(L.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"add"}}),this.ref.onClose.subscribe(e=>{this.listarCursos()})}navigateToDetalle(e){this.ref=this.dialogService.open(L.V,{width:"80%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"ver",data:e}}),this.ref.onClose.subscribe(a=>{this.listarCursos()})}navigateToEdit(e){console.log("Editar",e),this.ref=this.dialogService.open(L.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"editar",data:e}}),this.ref.onClose.subscribe(a=>{this.listarCursos()})}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&(this.cursosService.eliminarCurso(e).subscribe(n=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}})},n=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")}),this.listarCursos())})}onGlobalFilter(e){const a=e.target.value.toLowerCase();console.log("Filtro Global",a),this.carrerastecnicasList=a?this.originalCarrerastecnicasList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalCarrerastecnicasList]}verSyllabus(e){console.log(e)}verAlumnos(e){this.ref=this.dialogService.open(Jt,{width:"80%",styleClass:"custom-dialog-header",data:{cursoId:e.id,domainId:e.domain_id,cursoNombre:e.nombre}})}verHorarios(e){this.ref=this.dialogService.open(Lt,{width:"80%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{console.log("Dialog cerrado",a)})}verAsistencia(e){this.ref=this.dialogService.open(Kt,{width:"80%",styleClass:"custom-dialog-header",data:{cursoId:e.id,domainId:e.domain_id,fecha:null,cursoNombre:e.nombre}})}verTemas(e){console.log(e)}verEvaluaciones(e){console.log("evaluaciones",e),this.ref=this.dialogService.open(Wo,{width:"60%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCursos()})}verForos(e){console.log(e)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.xA),t.Y36(w.m),t.Y36(G.F0),t.Y36(p.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-curso-de-carrera"]],viewQuery:function(a,n){if(1&a&&(t.Gf(Qo,5),t.Gf(zo,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar cursos",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],[1,"button-group"],["pButton","","pTooltip","Ver Syllabus","tooltipPosition","top",1,"p-button-rounded","p-button-info","button-custom",2,"background","gray",3,"click"],["pButton","","pTooltip","Ver Alumnos","tooltipPosition","top",1,"p-button-rounded","p-button-success","button-custom",2,"background","blue",3,"click"],["pButton","","pTooltip","Ver Horarios","tooltipPosition","top",1,"p-button-rounded","p-button-warning","button-custom",2,"background","yellow",3,"click"],["pButton","","pTooltip","Ver Asistencia","tooltipPosition","top",1,"p-button-rounded","p-button-primary","button-custom",2,"background","rgb(103, 87, 87)",3,"click"],["pButton","","pTooltip","Ver Temas","tooltipPosition","top",1,"p-button-rounded","p-button-secondary","button-custom",2,"background","green",3,"click"],["pButton","","pTooltip","Ver Evaluaciones","tooltipPosition","top",1,"p-button-rounded","p-button-help","button-custom",2,"background","rgb(24, 15, 67)",3,"click"],["pButton","","pTooltip","Ver Foros","tooltipPosition","top",1,"p-button-rounded","p-button-danger","button-custom",2,"background","rgb(15, 68, 110)",3,"click"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["alt","Foto","width","50",3,"src"],["colspan","23"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Ko,2,0,"ng-template",0),t.YNc(2,oa,10,5,"ng-template",1),t.qZA())},dependencies:[v.Hq,b.jx,y.iA,C.o,f.s,N.u],styles:['@charset "UTF-8";.button-custom[_ngcontent-%COMP%]{width:1rem;height:3rem;background-color:#f0f8ff;background:#2c5f8b;color:#faebd7;border:none;border-radius:inherit;display:flex;justify-content:center;align-items:center;text-align:center}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.custom-swal-popup[_ngcontent-%COMP%], .swal2-popup[_ngcontent-%COMP%]{z-index:2147483647!important}body.swal2-shown[_ngcontent-%COMP%]:not(.swal2-no-backdrop):not(.swal2-toast-shown){z-index:2147483647!important}']})}return o})();const na=["filter"],ra=["dt1"];function ia(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Bandeja de Carreras T\xe9cnicas"),t.qZA())}function sa(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateToNuevo())}),t.qZA()()()}}function ca(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19)(2,"div",20),t._uU(3," C\xf3digo "),t.qZA()(),t.TgZ(4,"th",19)(5,"div",20),t._uU(6," Nombre de Carrera t\xe9cnica "),t.qZA()(),t.TgZ(7,"th",19)(8,"div"),t._uU(9," Configuraciones "),t.qZA()()())}function la(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateTocurso(i))}),t.qZA(),t.TgZ(7,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(8,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(9,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombres)}}function ua(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"No se encontraron registros"),t.qZA()())}function da(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function pa(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,sa,7,0,"ng-template",8),t.YNc(6,ca,10,0,"ng-template",0),t.YNc(7,la,10,2,"ng-template",9),t.YNc(8,ua,3,0,"ng-template",10),t.YNc(9,da,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.carrerastecnicasList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let ma=(()=>{class o{constructor(e,a,n){this.dialogService=e,this.carrerasTecnicasService=a,this.router=n,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){this.listarCarrerasTecnicas()}listarCarrerasTecnicas(){this.carrerasTecnicasService.getCarrerasTecnicas().subscribe(e=>{console.log("Lista de Carreras T\xe9cnicas",e),this.carrerastecnicasList=e,this.originalCarrerastecnicasList=[...e]})}navigateToNuevo(){console.log("nuevo"),this.ref=this.dialogService.open(X,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(e=>{console.log("Cerrando dialogo"),this.listarCarrerasTecnicas()})}navigateAddCurso(e,a){this.ref=this.dialogService.open(L.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:e,total_creditos:a}}),this.ref.onClose.subscribe(n=>{this.listarCarrerasTecnicas()})}navigateTocurso(e){this.ref=this.dialogService.open(aa,{width:"80%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCarrerasTecnicas()})}navigateToDetalle(e){this.ref=this.dialogService.open(Pt,{width:"60%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCarrerasTecnicas()})}navigateToEdit(e){console.log("Editar",e),this.ref=this.dialogService.open(kt,{width:"60%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCarrerasTecnicas()})}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo"}).then(a=>{a.isConfirmed&&(this.carrerasTecnicasService.eliminarCarreraTecnica(e).subscribe(n=>{m().fire("Eliminado","La carrera t\xe9cnica ha sido eliminada.","success")},n=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")}),this.listarCarrerasTecnicas())})}onGlobalFilter(e){const a=e.target.value.toLowerCase();console.log("Filtro Global",a),this.carrerastecnicasList=a?this.originalCarrerastecnicasList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalCarrerastecnicasList]}editarMiembro(){}eliminarMiembro(){}agregarcurso(){}onRowSelect(e){console.log("Organo-colegaido-sect")}onRowUnselect(e){}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.xA),t.Y36(w.m),t.Y36(G.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-bandeja-carreratecnica"]],viewQuery:function(a,n){if(1&a&&(t.Gf(na,5),t.Gf(ra,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar carreras t\xe9cnicas",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],[1,"flex","justify-content-between","align-items-center"],["pButton","","icon","pi pi-briefcase","title","Agregar Curso",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-eye","title","Detalle",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["colspan","8"],["colspan","4"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,ia,2,0,"ng-template",0),t.YNc(2,pa,10,5,"ng-template",1),t.qZA())},dependencies:[v.Hq,b.jx,y.iA,C.o,f.s],styles:[".button-full-width[_ngcontent-%COMP%]{width:100%}"]})}return o})(),ga=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[G.Bz.forChild([{path:"",component:ma}]),G.Bz]})}return o})(),_a=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[A.ez,ga,c.u5,z._8,y.U$,vt.Xt,v.hJ,bt.JH,C.j,R.A,gt.KZ,_t.T,ht.q4,I.kW,f.Q,ft.q,Q.EV,$.n,K.O,N.z,Q.EV,f.Q,y.U$,$.n,xt.D,K.O,Ct.Z_,Tt.S,p.DL,wt.aw,c.UX]})}return o})()}}]);