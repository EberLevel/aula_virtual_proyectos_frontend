"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[7587],{7587:(y,M,i)=>{i.r(M),i.d(M,{MantenimientoMaestroModule:()=>rt});var p=i(6814),_=i(4104),c=i(6223),u=i(9552),g=i(707),m=i(3714),f=i(6804),h=i(4480),o=i(4055),s=i(3965),b=i(1230),C=i(6760),U=i(6651),E=i(7902),D=i(6022),Z=i(3722),A=i(1494),N=i(6218),R=i(3259),P=i(3904),F=i(1066),G=i(3530),x=i(5118),H=i(3999),T=i(1214),t=i(8926),w=i(73),I=i(9837),S=i(5219);function J(n,d){1&n&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Parametros"),t.qZA())}function B(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.guardarParametro())}),t.qZA()}}function z(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.updateParametros())}),t.qZA()}}function Y(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6)(4,"p-dropdown",7),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.itemSeleccionado=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.selecionarParametroItem())}),t.qZA(),t.TgZ(5,"label",8),t._uU(6,"Grupo"),t.qZA()()(),t.TgZ(7,"div",5)(8,"span",6)(9,"input",9),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.parametroDatos.nuItemNro=a)}),t.qZA(),t.TgZ(10,"label",8),t._uU(11,"Nro. Item"),t.qZA()()()()(),t.TgZ(12,"div",3)(13,"div",4)(14,"div",5)(15,"span",6)(16,"input",10),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.parametroDatos.txNombre=a)}),t.qZA(),t.TgZ(17,"label",8),t._uU(18,"Nombre"),t.qZA()()(),t.TgZ(19,"div",5)(20,"span",6)(21,"input",11),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.parametroDatos.txAbreviatura=a)}),t.qZA(),t.TgZ(22,"label",8),t._uU(23,"Abreviatura"),t.qZA()()()()(),t.TgZ(24,"div",3)(25,"div",4)(26,"div",12)(27,"span",6)(28,"textarea",13),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.descripcionParametro=a)}),t.qZA(),t.TgZ(29,"label",8),t._uU(30,"Descripci\xf3n"),t.qZA()()()()(),t.TgZ(31,"div",3)(32,"div",14)(33,"div",15),t.YNc(34,B,1,0,"button",16),t.YNc(35,z,1,0,"button",17),t.TgZ(36,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.closeModal())}),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("autoDisplayFirst",!1)("options",e.parametroGroupItemList)("showClear",!0)("ngModel",e.itemSeleccionado),t.xp6(5),t.Q6J("ngModel",e.parametroDatos.nuItemNro),t.xp6(7),t.Q6J("ngModel",e.parametroDatos.txNombre)("readonly",!e.esNuevo),t.xp6(5),t.Q6J("ngModel",e.parametroDatos.txAbreviatura)("readonly",!e.esNuevo),t.xp6(7),t.Q6J("ngModel",e.descripcionParametro),t.xp6(6),t.Q6J("ngIf","register"==e.acciones),t.xp6(1),t.Q6J("ngIf","edit"==e.acciones)}}let j=(()=>{class n{constructor(e,r,a,l){this.ref=e,this.cdr=r,this.config=a,this.parametroService=l,this.loading=!1,this.parametroDatos=new w.v,this.parametro=new w.v,this.parametroGroupItemList=[],this.acciones="register",this.mycheckbox=!1,this.esNuevo=!1,this.descripcionParametro=null}ngOnInit(){this.inicializar(),"edit"==this.acciones&&(this.descripcionParametro=this.parametroDatos.txItemDescripcion,setTimeout(()=>{this.itemSeleccionado=this.parametroGroupItemList.find(e=>e.nuItemNro===this.parametroDatos.nuItemNro)??{}},1700)),this.valorIdPersona=localStorage.getItem("consejo-idPersona"),console.log("iduser:",this.valorIdPersona)}inicializar(){this.listarPedidosGroupItem()}listarPedidosGroupItem(){this.parametroService.listarmiembros().subscribe(e=>{this.parametroGroupItemList=this.numeracion(e.response)})}selecionarParametroItem(){this.parametroDatos.txNombre=null,this.parametroDatos.txAbreviatura=null,this.parametroDatos.nuItemNro=null,this.itemSeleccionado&&"register"==this.acciones&&(this.parametroDatos=this.itemSeleccionado),"edit"==this.acciones&&(this.parametroDatos.txNombre=this.itemSeleccionado?.txNombre?this.itemSeleccionado?.txNombre:null,this.parametroDatos.txAbreviatura=this.itemSeleccionado?.txAbreviatura?this.itemSeleccionado?.txAbreviatura:null,this.parametroDatos.nuItemNro=this.itemSeleccionado?.nuItemNro?this.itemSeleccionado?.nuItemNro:null,this.parametroDatos.txUseCreado=this.valorIdPersona)}numeracion(e){for(let r=0;r<e.length;r++)e[r].numeracion=r+1,e[r].feFechaAtencion1=new Date(e[r].feFechaAtencion);return e}guardarParametro(){}updateParametros(){}closeModal(){this.ref.close({register:!1})}reject(){}accept(){}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(x.E7),t.Y36(t.sBO),t.Y36(x.S),t.Y36(I.m))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-reg-maestros"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["inputId","responsable","optionLabel","txAbreviatura",3,"autoDisplayFirst","options","showClear","ngModel","ngModelChange"],[1,"required"],["type","number","pInputText","",3,"ngModel","ngModelChange"],["type","text","pInputText","",3,"ngModel","readonly","ngModelChange"],["type","text","id","inputtext","pInputText","",3,"ngModel","readonly","ngModelChange"],[1,"field","col-12","md:col-12"],["rows","2","cols","30","pInputTextarea","",2,"font-size","13px","width","100%",3,"ngModel","ngModelChange"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","class","p-button-success p-button-sm",3,"click",4,"ngIf"],["pButton","","icon","pi pi-pencil","label","Guardar Cambios","iconPos","right","class","p-button-success p-button-sm",3,"click",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right",1,"p-button-success","p-button-sm",3,"click"],["pButton","","icon","pi pi-pencil","label","Guardar Cambios","iconPos","right",1,"p-button-success","p-button-sm",3,"click"]],template:function(r,a){1&r&&(t.TgZ(0,"p-panel"),t.YNc(1,J,2,0,"ng-template",0),t.YNc(2,Y,37,12,"ng-template",1),t.qZA())},dependencies:[p.O5,c.Fj,c.wV,c.JJ,c.On,g.Hq,S.jx,m.o,N.g,s.Lt,b.s]})}return n})();const K=["filter"],L=["dt1"];function O(n,d){1&n&&(t.TgZ(0,"span",2),t._uU(1,"Bandeja de Maestro"),t.qZA())}function $(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(a){t.CHM(e),t.oxw();const l=t.MAs(4),v=t.oxw();return t.KtG(v.onGlobalFilter(l,a))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.navigateToNuevo())}),t.qZA()()()}}function Q(n,d){1&n&&(t.TgZ(0,"tr")(1,"th",19)(2,"div",20),t._uU(3," Item "),t.qZA()(),t.TgZ(4,"th",19)(5,"div",20),t._uU(6," Nombre "),t.qZA()(),t.TgZ(7,"th",19)(8,"div",20),t._uU(9," Abreviatura "),t.qZA()(),t.TgZ(10,"th",19)(11,"div",20),t._uU(12," Grupo "),t.qZA()(),t.TgZ(13,"th",21)(14,"div",20),t._uU(15," Dominio "),t.qZA()(),t.TgZ(16,"th",21)(17,"div",20),t._uU(18," Acciones "),t.qZA()()())}function k(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(a){t.CHM(e);const l=t.oxw().$implicit,v=t.oxw(2);return t.KtG(v.eliminarMiembro(a,l))}),t._UZ(1,"span",29),t.qZA()}2&n&&(t.xp6(1),t.Udp("color","red"))}const q=function(){return{color:"var(--primary-color)","font-size":"1.5rem"}},V=function(){return{color:"var(--error-color)","font-size":"1.5rem"}};function W(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",22)(12,"button",23),t.NdJ("click",function(){const l=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.editarMiembro(l))}),t._UZ(13,"i",24),t.qZA(),t.TgZ(14,"button",25),t.NdJ("click",function(a){const v=t.CHM(e).$implicit,at=t.oxw(2);return t.KtG(at.eliminarMiembro(a,v))}),t._UZ(15,"i",26),t.qZA(),t.YNc(16,k,2,2,"button",27),t.qZA()()}if(2&n){const e=d.$implicit;t.xp6(2),t.hij(" ",e.txNumeroDoc," "),t.xp6(2),t.hij(" ",e.tx_abreviatura," "),t.xp6(2),t.hij(" ",e.nu_item," "),t.xp6(2),t.hij(" ",e.tx_item_description," "),t.xp6(2),t.hij(" ",e.dominio," "),t.xp6(3),t.Akn(t.DdM(9,q)),t.xp6(2),t.Q6J("ngStyle",t.DdM(10,V)),t.xp6(1),t.Q6J("ngIf",e.historico)}}function X(n,d){1&n&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2,"No se encontraron registros"),t.qZA()())}function tt(n,d){1&n&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}const et=function(){return["nuIdMiembro","txnombre","txitemdescription","nu_item","dominio","created_at"]};function ot(n,d){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,$,7,0,"ng-template",8),t.YNc(6,Q,19,0,"ng-template",0),t.YNc(7,W,17,11,"ng-template",9),t.YNc(8,X,3,0,"ng-template",10),t.YNc(9,tt,3,0,"ng-template",11),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("value",e.miembrosList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",t.DdM(6,et))}}let nt=(()=>{class n{constructor(e,r,a){this.dialogService=e,this.maestroService=r,this.router=a,this.loading=!1,this.miembrosList=[],this.miembro=[],this.miembrosActualizados=new t.vpe}ngOnInit(){this.listarmiembros()}listarmiembros(){this.maestroService.listarmiembros().subscribe(e=>{console.log("Lista de Miembros creados",e),this.miembrosList=e})}navigateToNuevo(){this.ref=this.dialogService.open(j,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(e=>{this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload"})}onGlobalFilter(e,r){e.filterGlobal(r.target.value,"contains")}editarMiembro(e){}eliminarMiembro(e,r){}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(x.xA),t.Y36(I.m),t.Y36(T.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-mantenimiento-maestro"]],viewQuery:function(r,a){if(1&r&&(t.Gf(K,5),t.Gf(L,5)),2&r){let l;t.iGM(l=t.CRH())&&(a.filter=l.first),t.iGM(l=t.CRH())&&(a.tabledt1=l.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["dataKey","nuIdMiembro","styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"w-full","custom-search-input",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar miembro",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],[1,"flex","justify-content-between","align-items-center"],["scope","col3",2,"min-width","10rem"],[1,"text-center"],["pButton","","title","Editar miembro",1,"p-button-rounded","p-button-text","custom-edit-button",3,"click"],["aria-hidden","true",1,"pi","pi-user-edit"],["pButton","","title","Eliminar miembro",1,"p-button-danger","p-button-rounded",3,"click"],["aria-hidden","true",1,"pi","pi-trash",3,"ngStyle"],["pButton","","class","p-button-rounded p-button-text","title","Eliminar",3,"click",4,"ngIf"],["pButton","","title","Eliminar",1,"p-button-rounded","p-button-text",3,"click"],[1,"pi","pi-circle-fill"],["colspan","8"]],template:function(r,a){1&r&&(t.TgZ(0,"p-panel"),t.YNc(1,O,2,0,"ng-template",0),t.YNc(2,ot,10,7,"ng-template",1),t.qZA())},dependencies:[p.O5,p.PC,g.Hq,S.jx,u.iA,m.o,b.s]})}return n})(),it=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[T.Bz.forChild([{path:"",component:nt}]),T.Bz]})}return n})(),rt=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[p.ez,it,c.u5,C._8,u.U$,D.Xt,g.hJ,E.JH,m.j,N.A,f.KZ,h.T,o.q4,s.kW,b.Q,U.q,_.EV,A.n,Z.O,R.z,_.EV,b.Q,u.U$,A.n,P.D,Z.O,F.Z_,G.S,x.DL,H.aw]})}return n})()},9837:(y,M,i)=>{i.d(M,{m:()=>m});var p=i(9862);const __API_BASE="http://127.0.0.1:8000/test/api/";var c=i(7398),u=i(9397),g=i(8926);let m=(()=>{class f{constructor(o,s,b){this.http=o,this.httpClientFormData=s,this.handler=b,this.baseUrl=`${__API_BASE}`,this.urlparametro=`${__API_BASE}`,this.httpClientFormData=new p.eN(this.handler)}getAllParametro(){return this.http.get(`${this.urlparametro}parametros`).pipe((0,c.U)(o=>{if("0"===o.responseCode)return o.response;throw new Error(o.responseMessage)}))}listarmiembros(){return this.http.get(`${this.baseUrl}parametros`).pipe((0,c.U)(o=>{if(0===o.responseCode)return o.response;throw new Error(o.msgResultado)}))}getCarrerasTecnicas(){return this.http.get(`${this.baseUrl}carreras`,{observe:"response"}).pipe((0,u.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,c.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}guardarCarreraTecnica(o){return this.http.post(`${this.baseUrl}carreras`,o,{observe:"response"}).pipe((0,u.b)(s=>{console.log("HTTP Status Code:",s.status)}),(0,c.U)(s=>{if(console.log("Response body:",s.body),201===s.status&&s.body)return s.body;throw new Error(s.body?s.body.responseMessage:"Unknown error")}))}guardarCurso(o){return this.http.post(`${this.baseUrl}cursos`,o,{observe:"response"}).pipe((0,u.b)(s=>{console.log("HTTP Status Code:",s.status)}),(0,c.U)(s=>{if(console.log("Response body:",s.body),201===s.status&&s.body)return s.body;throw new Error(s.body?s.body.responseMessage:"Unknown error")}))}getAreaDeFormacion(){return this.http.get(`${this.baseUrl}parametros?tx_nombre=area_de_formacion`,{observe:"response"}).pipe((0,u.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,c.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}getCiclo(){return this.http.get(`${this.baseUrl}parametros?tx_nombre=ciclo`,{observe:"response"}).pipe((0,u.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,c.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}getModuloFormativo(){return this.http.get(`${this.baseUrl}parametros?tx_nombre=modulo_formativo`,{observe:"response"}).pipe((0,u.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,c.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}static#t=this.\u0275fac=function(s){return new(s||f)(g.LFG(p.eN),g.LFG(p.eN),g.LFG(p.jN))};static#e=this.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},6218:(y,M,i)=>{i.d(M,{A:()=>g,g:()=>u});var p=i(8926),_=i(6814),c=i(6223);let u=(()=>{class m{el;ngModel;control;cd;autoResize;onResize=new p.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(h,o,s,b){this.el=h,this.ngModel=o,this.control=s,this.cd=b}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(h){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(h){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(h||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(o){return new(o||m)(p.Y36(p.SBq),p.Y36(c.On,8),p.Y36(c.a5,8),p.Y36(p.sBO))};static \u0275dir=p.lG2({type:m,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(o,s){1&o&&p.NdJ("input",function(C){return s.onInput(C)}),2&o&&p.ekj("p-filled",s.filled)("p-inputtextarea-resizable",s.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return m})(),g=(()=>{class m{static \u0275fac=function(o){return new(o||m)};static \u0275mod=p.oAB({type:m});static \u0275inj=p.cJS({imports:[_.ez]})}return m})()}}]);