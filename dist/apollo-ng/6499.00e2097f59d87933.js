"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[6499],{3749:(b,C,i)=>{i.d(C,{V:()=>y});var l=i(3519),h=i.n(l),t=i(8926),c=i(3859),p=i(1214),d=i(5219),_=i(3999),u=i(5118),o=i(9837),n=i(6223),m=i(707),M=i(3714),v=i(3965),f=i(1230),T=i(1066);function E(g,D){1&g&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Cursos"),t.qZA())}const x=function(){return{height:"90px"}};function A(g,D){if(1&g){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6)(4,"input",7),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.codigo=s)}),t.qZA(),t.TgZ(5,"label",8),t._uU(6,"C\xf3digo"),t.qZA()()(),t.TgZ(7,"div",5)(8,"span",6)(9,"input",7),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.nombreCurso=s)}),t.qZA(),t.TgZ(10,"label",8),t._uU(11,"Nombre de curso"),t.qZA()()()()(),t.TgZ(12,"div",3)(13,"div",4)(14,"div",9)(15,"span",6)(16,"p-dropdown",10),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.ciclo=s)}),t.qZA(),t.TgZ(17,"label",11),t._uU(18,"Ciclo "),t.qZA(),t.TgZ(19,"small",12),t._uU(20,"Campo obligatorio * "),t.qZA()()(),t.TgZ(21,"div",5)(22,"span",6)(23,"p-dropdown",13),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.areaFormacion=s)}),t.qZA(),t.TgZ(24,"label",14),t._uU(25,"\xc1reas de formaci\xf3n "),t.qZA(),t.TgZ(26,"small",12),t._uU(27,"Campo obligatorio * "),t.qZA()()()()(),t.TgZ(28,"div",3)(29,"div",4)(30,"div",9)(31,"span",6)(32,"p-dropdown",15),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.moduloFormativo=s)}),t.qZA(),t.TgZ(33,"label",16),t._uU(34,"M\xf3dulo formativo "),t.qZA(),t.TgZ(35,"small",12),t._uU(36,"Campo obligatorio * "),t.qZA()()(),t.TgZ(37,"div",5)(38,"span",6)(39,"input",7),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.cantidadCreditos=s)})("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.onCantidadCreditosChange(s))}),t.qZA(),t.TgZ(40,"label",8),t._uU(41,"Cantidad de cr\xe9ditos"),t.qZA()()()()(),t.TgZ(42,"div",3)(43,"div",4)(44,"div",5)(45,"span",6)(46,"input",7),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.porcentajeCreditos=s)}),t.qZA(),t.TgZ(47,"label",8),t._uU(48,"% de cr\xe9ditos"),t.qZA()()(),t.TgZ(49,"div",5)(50,"span",6)(51,"input",7),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.cantidadHoras=s)}),t.qZA(),t.TgZ(52,"label",8),t._uU(53,"Cantidad de horas"),t.qZA()()()()(),t.TgZ(54,"div",17)(55,"div",4)(56,"div",18)(57,"label",19),t._uU(58,"Digite el syllabus"),t.qZA(),t.TgZ(59,"p-editor",20),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.syllabus=s)}),t.qZA()()()(),t.TgZ(60,"div",3)(61,"div",4)(62,"div",9)(63,"span",6)(64,"p-dropdown",21),t.NdJ("ngModelChange",function(s){t.CHM(e);const r=t.oxw();return t.KtG(r.asignacionDocentes=s)}),t.qZA(),t.TgZ(65,"label",22),t._uU(66,"Asignaci\xf3n de docentes "),t.qZA(),t.TgZ(67,"small",12),t._uU(68,"Campo obligatorio * "),t.qZA()()()()(),t.TgZ(69,"div",3)(70,"div",23)(71,"div",24)(72,"button",25),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.GuardarCurso())}),t.qZA(),t.TgZ(73,"button",26),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.closeModal())}),t.qZA()()()()}if(2&g){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.codigo),t.xp6(5),t.Q6J("ngModel",e.nombreCurso),t.xp6(7),t.Q6J("options",e.ciclos)("ngModel",e.ciclo),t.xp6(7),t.Q6J("options",e.areasFormacion)("ngModel",e.areaFormacion),t.xp6(9),t.Q6J("options",e.modulosFormativos)("ngModel",e.moduloFormativo),t.xp6(7),t.Q6J("ngModel",e.cantidadCreditos),t.xp6(7),t.Q6J("ngModel",e.porcentajeCreditos),t.xp6(5),t.Q6J("ngModel",e.cantidadHoras),t.xp6(8),t.Akn(t.DdM(16,x)),t.Q6J("ngModel",e.syllabus),t.xp6(5),t.Q6J("options",e.asignacionesDocentes)("ngModel",e.asignacionDocentes)}}let y=(()=>{class g{constructor(e,a,s,r,Z,U,R,w){this.layoutService=e,this.router=a,this.primengConfig=s,this.translate=r,this.ref=Z,this.translateService=U,this.parametroService=R,this.config=w,this.id=0,this.cantidadTotalCreditos=0,this.codigo="",this.nombreCurso="",this.ciclo=null,this.ciclos=[],this.areaFormacion=null,this.areasFormacion=[],this.moduloFormativo=null,this.modulosFormativos=[],this.cantidadCreditos=0,this.porcentajeCreditos=0,this.cantidadHoras=0,this.syllabus="",this.asignacionDocentes=null,this.asignacionesDocentes=[]}ngOnInit(){this.id=this.config.data.id,this.cantidadTotalCreditos=this.config.data.total_creditos,this.listarModulosFormativos(),this.listarAreasFormacion(),this.listarCiclos()}GuardarCurso(){const e={codigo:this.codigo,nombreCurso:this.nombreCurso,cicloId:this.ciclo?.nu_id_parametro,areaFormacionId:this.areaFormacion?.nu_id_parametro,moduloFormativoId:this.moduloFormativo?.nu_id_parametro,cantidadCreditos:this.cantidadCreditos,porcentajeCreditos:this.porcentajeCreditos,cantidadHoras:this.cantidadHoras,syllabus:this.syllabus,asignacionDocentesId:this.asignacionDocentes?.code,carreraId:this.id};console.log("Curso a guardar",e),e?this.parametroService.guardarCurso(e).subscribe(a=>{this.closeModal(),h().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):console.error("Formulario inv\xe1lido")}onCantidadCreditosChange(e){if(0===this.cantidadTotalCreditos||null==this.cantidadTotalCreditos)this.porcentajeCreditos=100;else{console.log("Cantidad de cr\xe9ditos ha cambiado:",e),console.log("Cantidad total de cr\xe9ditos:",this.cantidadTotalCreditos);const a=e/this.cantidadTotalCreditos*100;this.porcentajeCreditos=a,console.log("Resultado del c\xe1lculo:",a)}}listarModulosFormativos(){this.parametroService.getModuloFormativo().subscribe(e=>{console.log("Lista de listarAreasFormacion",e),this.modulosFormativos=e})}listarAreasFormacion(){this.parametroService.getAreaDeFormacion().subscribe(e=>{console.log("Lista de listarAreasFormacion",e),this.areasFormacion=e})}listarCiclos(){this.parametroService.getCiclo().subscribe(e=>{console.log("Lista de listarCiclos",e),this.ciclos=e})}closeModal(){this.ref.close({register:!1})}static#t=this.\u0275fac=function(a){return new(a||g)(t.Y36(c.P),t.Y36(p.F0),t.Y36(d.b4),t.Y36(_.sK),t.Y36(u.E7),t.Y36(_.sK),t.Y36(o.m),t.Y36(u.S))};static#o=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-reg-cursos"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","",3,"ngModel","ngModelChange"],[1,"required"],[1,"field","md:col-6"],["inputId","dropdownCiclo","optionLabel","tx_abreviatura",3,"options","ngModel","ngModelChange"],["for","dropdownCiclo"],[2,"color","brown"],["inputId","dropdownAreaFormacion","optionLabel","tx_abreviatura",3,"options","ngModel","ngModelChange"],["for","dropdownAreaFormacion"],["inputId","dropdownModuloFormativo","optionLabel","tx_abreviatura",3,"options","ngModel","ngModelChange"],["for","dropdownModuloFormativo"],[1,"row","mt-2"],[1,"field","col-12","md:col-12"],["for",""],[3,"ngModel","ngModelChange"],["inputId","dropdownAsignacionDocentes","optionLabel","name",3,"options","ngModel","ngModelChange"],["for","dropdownAsignacionDocentes"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right",1,"p-button-success","p-button-sm",3,"click"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(a,s){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,E,2,0,"ng-template",0),t.YNc(2,A,74,17,"ng-template",1),t.qZA())},dependencies:[n.Fj,n.JJ,n.On,m.Hq,d.jx,M.o,v.Lt,f.s,T.ML]})}return g})()},9837:(b,C,i)=>{i.d(C,{m:()=>d});var l=i(9862);const h_API_BASE="http://143.198.161.217/api/test/";var t=i(7398),c=i(9397),p=i(8926);let d=(()=>{class _{constructor(o,n,m){this.http=o,this.httpClientFormData=n,this.handler=m,this.baseUrl=`${h_API_BASE}`,this.urlparametro=`${h_API_BASE}`,this.httpClientFormData=new l.eN(this.handler)}getAllParametro(){return this.http.get(`${this.urlparametro}parametros`).pipe((0,t.U)(o=>{if("0"===o.responseCode)return o.response;throw new Error(o.responseMessage)}))}listarmiembros(){return this.http.get(`${this.baseUrl}parametros`).pipe((0,t.U)(o=>{if(0===o.responseCode)return o.response;throw new Error(o.msgResultado)}))}getCarrerasTecnicas(){return this.http.get(`${this.baseUrl}carreras`,{observe:"response"}).pipe((0,c.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,t.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}guardarCarreraTecnica(o){return this.http.post(`${this.baseUrl}carreras`,o,{observe:"response"}).pipe((0,c.b)(n=>{console.log("HTTP Status Code:",n.status)}),(0,t.U)(n=>{if(console.log("Response body:",n.body),201===n.status&&n.body)return n.body;throw new Error(n.body?n.body.responseMessage:"Unknown error")}))}guardarCurso(o){return this.http.post(`${this.baseUrl}cursos`,o,{observe:"response"}).pipe((0,c.b)(n=>{console.log("HTTP Status Code:",n.status)}),(0,t.U)(n=>{if(console.log("Response body:",n.body),201===n.status&&n.body)return n.body;throw new Error(n.body?n.body.responseMessage:"Unknown error")}))}getAreaDeFormacion(){return this.http.get(`${this.baseUrl}parametros?tx_nombre=area_de_formacion`,{observe:"response"}).pipe((0,c.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,t.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}getCiclo(){return this.http.get(`${this.baseUrl}parametros?tx_nombre=ciclo`,{observe:"response"}).pipe((0,c.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,t.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}getModuloFormativo(){return this.http.get(`${this.baseUrl}parametros?tx_nombre=modulo_formativo`,{observe:"response"}).pipe((0,c.b)(o=>{console.log("HTTP Status Code:",o.status)}),(0,t.U)(o=>{if(console.log("Response body:",o.body),200===o.status&&o.body)return o.body;throw new Error(o.body?o.body.responseMessage:"Unknown error")}))}static#t=this.\u0275fac=function(n){return new(n||_)(p.LFG(l.eN),p.LFG(l.eN),p.LFG(l.jN))};static#o=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},6218:(b,C,i)=>{i.d(C,{A:()=>p,g:()=>c});var l=i(8926),h=i(6814),t=i(6223);let c=(()=>{class d{el;ngModel;control;cd;autoResize;onResize=new l.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(u,o,n,m){this.el=u,this.ngModel=o,this.control=n,this.cd=m}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(u){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(u){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(u||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(o){return new(o||d)(l.Y36(l.SBq),l.Y36(t.On,8),l.Y36(t.a5,8),l.Y36(l.sBO))};static \u0275dir=l.lG2({type:d,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(o,n){1&o&&l.NdJ("input",function(M){return n.onInput(M)}),2&o&&l.ekj("p-filled",n.filled)("p-inputtextarea-resizable",n.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return d})(),p=(()=>{class d{static \u0275fac=function(o){return new(o||d)};static \u0275mod=l.oAB({type:d});static \u0275inj=l.cJS({imports:[h.ez]})}return d})()}}]);