"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[7354],{7354:(Sa,$,u)=>{u.r($),u.d($,{CarrerasTecnicasModule:()=>Fa});var E=u(6814),z=u(4104),c=u(6223),y=u(9552),x=u(707),C=u(3714),vt=u(6804),xt=u(4480),Ct=u(4055),O=u(3965),f=u(1230),B=u(6760),Tt=u(6651),wt=u(7902),Zt=u(6022),K=u(3722),R=u(1494),X=u(6218),M=u(3259),yt=u(3904),tt=u(9537),et=u(3530),d=u(5118),At=u(3999),k=u(8007),t=u(8926),T=u(73),Et=u(3519),g=u.n(Et),w=u(4067),N=u(375),b=u(5219);function Dt(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Carreras T\xe9cnicas"),t.qZA())}function qt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarParametro())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"C\xf3digo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Nombre de Carrera"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",11)(15,"div",12),t._UZ(16,"button",13),t.TgZ(17,"button",14),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm)}}let ot=(()=>{class o{constructor(e,a,n,i,s,l,m){this.fb=e,this.ref=a,this.cdr=n,this.config=i,this.parametroService=s,this.router=l,this.helpersService=m,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:["",c.kI.required],nombres:["",c.kI.required],domain_id:[this.helpersService.getDominioId()]})}guardarParametro(){this.parametroForm.valid?(console.log("Formulario v\xe1lido",this.parametroForm.value),this.parametroService.guardarCarreraTecnica(this.parametroForm.value).subscribe(e=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},e=>{console.error("Error al guardar el parametro",e)})):console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(d.E7),t.Y36(t.sBO),t.Y36(d.S),t.Y36(w.m),t.Y36(k.F0),t.Y36(N.$))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-reg-carrerastecnicas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo"],[1,"required"],["type","text","pInputText","","formControlName","nombres"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Dt,2,0,"ng-template",0),t.YNc(2,qt,18,1,"ng-template",1),t.qZA())},dependencies:[c._Y,c.Fj,c.JJ,c.JL,x.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();var U=u(5924);function Ft(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Editar Carrera T\xe9cnica"),t.qZA())}function St(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.editarParametro())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"C\xf3digo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Nombre de Carrera"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",11)(15,"div",12),t._UZ(16,"button",13),t.TgZ(17,"button",14),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm)}}let Pt=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:[this.config.data.data.codigo,c.kI.required],nombres:[this.config.data.data.nombres,c.kI.required],domain_id:1,id:this.config.data.data.id})}editarParametro(){this.parametroForm.valid?(console.log("Formulario v\xe1lido",this.parametroForm.value),this.parametroService.editarCarreraTecnica(this.parametroForm.value).subscribe(e=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},e=>{console.error("Error al editar el parametro",e)})):console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(d.E7),t.Y36(d.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-editar-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo"],[1,"required"],["type","text","pInputText","","formControlName","nombres"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Ft,2,0,"ng-template",0),t.YNc(2,St,18,1,"ng-template",1),t.qZA())},dependencies:[c._Y,c.Fj,c.JJ,c.JL,x.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();function Mt(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Ver Carrera T\xe9cnica"),t.qZA())}function kt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"C\xf3digo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Nombre de Carrera"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",11)(15,"div",12)(16,"button",13),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(5),t.Q6J("disabled",!0),t.xp6(5),t.Q6J("disabled",!0)}}let Nt=(()=>{class o{constructor(e,a,n){this.fb=e,this.ref=a,this.config=n,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:[{value:this.config.data.data.codigo,disabled:!0},c.kI.required],nombres:[{value:this.config.data.data.nombres,disabled:!0},c.kI.required],domain_id:[{value:1,disabled:!0}],id:[{value:this.config.data.data.id,disabled:!0}]})}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(d.E7),t.Y36(d.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo",3,"disabled"],[1,"required"],["type","text","pInputText","","formControlName","nombres",3,"disabled"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Mt,2,0,"ng-template",0),t.YNc(2,kt,17,3,"ng-template",1),t.qZA())},dependencies:[c._Y,c.Fj,c.JJ,c.JL,x.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();var Gt=u(5932),Yt=u(3023),Lt=u(6111),H=u(5516),F=u(9862);let Ot=(()=>{class o{constructor(e){this.http=e,this.baseUrl=`${H.N.API_BASE}`,this.urlparametro=`${H.N.API_BASE}`}saveHorario(e){return this.http.post(`${this.baseUrl}horario`,e)}getHorario(e){return this.http.get(`${this.baseUrl}horario/${e}`)}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(F.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Ut=u(5700),at=u(2495),nt=u(8057);function Ht(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Seleccionar Horario ",e.curso.nombre,"")}}function It(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"p-checkbox",23),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).index,l=t.oxw(3);return t.KtG(l.selectedDays[s]=n)}),t.qZA()()}if(2&o){const e=r.$implicit,a=r.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngModel",n.selectedDays[a])("binary",!0)("label",e)}}function Jt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"label",16),t._uU(3,"Fecha de inicio:"),t.qZA(),t.TgZ(4,"p-calendar",17),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.replicateStartDate=n)}),t.qZA()(),t.TgZ(5,"div",15)(6,"label",18),t._uU(7,"Fecha de fin:"),t.qZA(),t.TgZ(8,"p-calendar",19),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.replicateEndDate=n)}),t.qZA()(),t.TgZ(9,"div",20)(10,"label"),t._uU(11,"D\xedas de la semana a replicar:"),t.qZA(),t.TgZ(12,"div",21),t.YNc(13,It,2,3,"div",22),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.replicateStartDate),t.xp6(4),t.Q6J("ngModel",e.replicateEndDate),t.xp6(5),t.Q6J("ngForOf",e.daysOfWeek)}}function Bt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.replicateHorario())}),t.qZA(),t.TgZ(1,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.showReplicateDialog=!1)}),t.qZA()}}const Vt=function(){return{width:"100%"}},jt=function(){return{width:"50vw",height:"auto"}};function Wt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3)(1,"div",4)(2,"label",5),t._uU(3,"Seleccionar Aula:"),t.qZA(),t.TgZ(4,"p-dropdown",6),t.NdJ("onChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.onAulaChange(n))}),t.qZA()(),t.TgZ(5,"div",4),t._UZ(6,"full-calendar",7),t.qZA(),t.TgZ(7,"div",8)(8,"button",9),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.saveHorario())}),t.qZA(),t.TgZ(9,"button",10),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()(),t.TgZ(10,"p-dialog",11,12),t.NdJ("visibleChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.showReplicateDialog=n)})("onHide",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.showReplicateDialog=!1)}),t.YNc(12,Jt,14,3,"ng-template",1),t.YNc(13,Bt,2,0,"ng-template",13),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(4),t.Akn(t.DdM(12,Vt)),t.Q6J("options",e.aulas),t.xp6(2),t.Q6J("options",e.calendarOptions),t.xp6(2),t.Q6J("disabled",!e.parametroForm.valid),t.xp6(2),t.Akn(t.DdM(13,jt)),t.Q6J("draggable",!1)("visible",e.showReplicateDialog)("modal",!0)("header","Replicar Horario")}}let Qt=(()=>{class o{constructor(e,a,n,i,s,l){this.fb=e,this.ref=a,this.config=n,this.horarioService=i,this.aulaService=s,this.helpersService=l,this.loading=!1,this.aulas=[],this.aulaDisponibilidad=[],this.cursoHorarios=[],this.domain_id=1,this.showReplicateDialog=!1,this.replicateStartDate=new Date,this.replicateEndDate=new Date,this.daysOfWeek=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],this.selectedDays=[!0,!0,!0,!0,!0,!1,!1],this.domain_id=this.helpersService.getDominioId(),this.curso=this.config.data.data,this.parametroForm=this.fb.group({aula_id:["",c.kI.required]}),this.calendarOptions={plugins:[Gt.Z,Yt.Z,Lt.ZP],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:this.handleDateSelect.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this)}}ngOnInit(){this.getAulas(),this.getCursoHorarios()}getAulas(){this.aulaService.getAulas(this.domain_id).subscribe(e=>{this.aulas=Array.isArray(e.data)?e.data:[]},e=>{this.helpersService.showErrorMessage("Error al obtener las aulas")})}onAulaChange(e){this.getAulaDisponibilidad(e.value),this.getCursoHorarios()}getAulaDisponibilidad(e){this.aulaService.getDisponibilidad(e).subscribe(a=>{this.aulaDisponibilidad=a.data,this.updateCalendar()},a=>{this.helpersService.showErrorMessage("Error al obtener la disponibilidad del aula")})}getCursoHorarios(){this.horarioService.getHorario(this.curso.id).subscribe(e=>{this.cursoHorarios=e,this.updateCalendar()},e=>{this.helpersService.showErrorMessage("Error al obtener los horarios del curso")})}updateCalendar(){const e=[...this.aulaDisponibilidad.map(a=>{let n=new Date(`${a.fecha}T${a.hora_inicio}`),i=new Date(`${a.fecha}T${a.hora_fin}`);return console.log("Disponibilidad:",n,"-",i,a.id,"aula_id:",a.aula_id),{start:n,end:i,title:"Disponibilidad",backendId:a.id,backgroundColor:"green",borderColor:"green",display:"background",allDay:!1,aula_id:a.aula_id,availability_id:a.id}}),...this.cursoHorarios.map(a=>({title:"Horario del curso",start:new Date(`${a.fecha_inicio}T${a.hora_inicio}`),end:new Date(`${a.fecha_fin}T${a.hora_fin}`),backgroundColor:"blue",allDay:!1}))];this.calendarOptions={...this.calendarOptions,events:e},console.log("Events:",e)}handleDateSelect(e){const{start:a,end:n}=e;if(console.log("Fecha seleccionada:",a,n),this.isWithinAulaDisponibilidad(a,n)){const m={title:"Nuevo horario",start:a,end:n,backgroundColor:"blue",extendedProps:{aula_id:this.parametroForm.value.aula_id,availability_id:this.getAvailabilityId(a,n)}};console.log("Nuevo evento creado:",m),this.calendarOptions.events=[...this.calendarOptions.events,m]}else this.helpersService.showErrorMessage("El horario seleccionado no est\xe1 dentro de la disponibilidad del aula")}getAvailabilityId(e,a){const n=this.aulaDisponibilidad.find(i=>e>=new Date(`${i.fecha}T${i.hora_inicio}`)&&a<=new Date(`${i.fecha}T${i.hora_fin}`));return console.log("Disponibilidad encontrada:",n),n?.id}handleEventClick(e){this.selectedEvent=e.event,this.replicateStartDate=new Date(this.selectedEvent.start),this.replicateEndDate=new Date(this.selectedEvent.start),this.replicateEndDate.setMonth(this.replicateEndDate.getMonth()+1),this.showReplicateDialog=!0}handleEvents(e){}isWithinAulaDisponibilidad(e,a){const n=e.toISOString().split("T")[0];return this.aulaDisponibilidad.filter(s=>s.fecha===n).some(s=>{const l=new Date(`${s.fecha}T${s.hora_inicio}`),m=new Date(`${s.fecha}T${s.hora_fin}`);return console.log("Disponibilidad:",l,"-",m),console.log("Nuevo horario:",e,"-",a),e>=l&&a<=m})}replicateHorario(){if(this.selectedEvent&&this.replicateStartDate&&this.replicateEndDate){console.log("Evento seleccionado para replicar:",this.selectedEvent);const e=[],a=this.selectedEvent.end.getTime()-this.selectedEvent.start.getTime();for(let i=new Date(this.replicateStartDate);i<=this.replicateEndDate;i.setDate(i.getDate()+1)){const s=i.getDay();if(this.selectedDays[0===s?6:s-1]){const l=new Date(i);l.setHours(this.selectedEvent.start.getHours(),this.selectedEvent.start.getMinutes(),0,0);const m=new Date(l.getTime()+a);if(this.isWithinAulaDisponibilidad(l,m)){const v={id:Math.floor(1e4*Math.random()),title:"Horario replicado",start:l,end:m,backgroundColor:"blue",extendedProps:{aula_id:this.selectedEvent.extendedProps?.aula_id,availability_id:this.getAvailabilityId(l,m)}};console.log("Nuevo evento replicado:",v),e.push(v)}}}const n=[...this.calendarOptions.events.filter(i=>"Disponibilidad"===i.title||"background"===i.display),...e];console.log("Eventos actualizados:",n),this.calendarOptions={...this.calendarOptions,events:n},this.showReplicateDialog=!1}}saveHorario(){if(this.parametroForm.valid){const e=this.calendarOptions.events.filter(n=>"Horario del curso"!==n.title&&!n.display).map(n=>({day_id:n.start.getDay(),fecha_inicio:n.start.toISOString().split("T")[0],fecha_fin:n.end.toISOString().split("T")[0],hora_inicio:n.start.toTimeString().split(" ")[0],hora_fin:n.end.toTimeString().split(" ")[0],aula_id:n.aula_id,availability_id:n.extendedProps.availability_id,curso_id:this.curso.id,docente_id:this.curso.docente_id,domain_id:this.domain_id})),a={curso_id:this.curso.id,aula_id:this.parametroForm.value.aula_id,horarios:e};this.loading=!0,this.horarioService.saveHorario(a).subscribe(n=>{this.helpersService.showSuccessMessage("Horario guardado correctamente"),this.ref?.close()},n=>{this.helpersService.showErrorMessage("Error al guardar el horario")}).add(()=>{this.loading=!1})}else this.helpersService.showErrorMessage("Por favor, complete todos los campos requeridos")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(d.E7),t.Y36(d.S),t.Y36(Ot),t.Y36(Ut.e),t.Y36(N.$))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-seleccionar-horario-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"mb-4"],["for","aula",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","aula_id","optionLabel","nombre","optionValue","id","placeholder","Seleccione un aula",3,"options","onChange"],[3,"options"],[1,"flex","justify-center","mt-4"],["pButton","","type","button","label","Guardar",1,"p-button-success","mr-2",3,"disabled","click"],["pButton","","type","button","label","Cancelar",1,"p-button-secondary",3,"click"],[3,"draggable","visible","modal","header","visibleChange","onHide"],["dd",""],["pTemplate","footer"],[1,"grid"],[1,"col-6"],["for","start",1,"block","mb-2"],["dateFormat","dd-mm-yy","inputId","start","appendTo","body",3,"ngModel","ngModelChange"],["for","end",1,"block","mb-2"],["dateFormat","dd-mm-yy","inputId","end","appendTo","body",3,"ngModel","ngModelChange"],[1,"col-12","mt-3"],[1,"flex","flex-wrap","gap-3","mt-2"],[4,"ngFor","ngForOf"],[3,"ngModel","binary","label","ngModelChange"],["pButton","","label","Replicar","icon","pi pi-check",3,"click"],["pButton","","label","Cancelar","icon","pi pi-times",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Ht,2,1,"ng-template",0),t.YNc(2,Wt,14,14,"ng-template",1),t.qZA())},dependencies:[E.sg,c._Y,c.JJ,c.JL,c.On,B.f,x.Hq,b.jx,O.Lt,f.s,et.V,c.sg,c.u,at.w,nt.XZ]})}return o})();function $t(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Seleccionar Alumnos para ",e.cursoNombre,"")}}function zt(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",9),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",9),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",9),t._uU(6,"Celular"),t.qZA(),t.TgZ(7,"th",9),t._uU(8,"Correo"),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Seleccionar"),t.qZA()())}function Kt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"input",10),t.NdJ("change",function(n){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onSelectAlumno(n,s))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombres),t.xp6(2),t.Oqu(e.celular),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Q6J("checked",e.is_participant)}}function Rt(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,zt,11,0,"ng-template",0),t.YNc(6,Kt,11,5,"ng-template",8),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.cursoAlumnoList)("rows",10)("loading",e.loading)("rowHover",!0)}}let Xt=(()=>{class o{constructor(e,a,n){this.ref=e,this.config=a,this.alumnoService=n,this.loading=!1,this.cursoAlumnoList=[],this.cursoNombre="",this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.cursoNombre=this.config.data.cursoNombre,this.getAlumnosCurso(this.domainId??1,this.curso)}getAlumnosCurso(e,a){console.log("domainId",e),this.loading=!0,this.alumnoService.getAlumnosCurso(e,a).subscribe(n=>{this.cursoAlumnoList=n,this.loading=!1})}onSelectAlumno(e,a){this.alumnoService.updateAlumnoCurso({domain_id:this.domainId??1,curso_id:this.curso,alumno_id:a.id,is_participant:e.target.checked}).subscribe(i=>{this.getAlumnosCurso(this.domainId,this.curso)})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.E7),t.Y36(d.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-seleccionar-alumnos-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","body"],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"checked","change"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,$t,2,1,"ng-template",0),t.YNc(2,Rt,7,4,"ng-template",1),t.qZA())},dependencies:[b.jx,y.iA,f.s]})}return o})(),te=(()=>{class o{constructor(e,a,n){this.http=e,this.httpClientFormData=a,this.handler=n,this.baseUrl=`${H.N.API_BASE}`,this.urlparametro=`${H.N.API_BASE}`,this.httpOptions={headers:new F.WM({"Content-Type":"application/json"})},this.httpClientFormData=new F.eN(this.handler)}getAsistenciaCurso(e){return this.http.post(`${this.baseUrl}asistencia-curso`,e)}updateAsistenciaCurso(e){return this.http.post(`${this.baseUrl}asistencia-curso-marcar`,e)}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(F.eN),t.LFG(F.eN),t.LFG(F.jN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function ee(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Asistencia ",e.cursoNombre,"")}}function oe(o,r){if(1&o&&(t.TgZ(0,"option",12),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function ae(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",13),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",13),t._uU(6,"Asistio"),t.qZA()())}function ne(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"input",14),t.NdJ("change",function(n){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onCheckAsistencia(n,s))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombres),t.xp6(2),t.Q6J("checked",e.is_marked)}}function re(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"Fecha:"),t.qZA(),t.TgZ(5,"select",7),t.NdJ("change",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.onFilterDateChange(n))}),t.YNc(6,oe,2,2,"option",8),t.qZA(),t.TgZ(7,"p-table",9,10),t.YNc(9,ae,7,0,"ng-template",0),t.YNc(10,ne,7,3,"ng-template",11),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.fechas),t.xp6(1),t.Q6J("value",e.asistenciaCursoList)("rows",10)("loading",e.loading)("rowHover",!0)}}let ie=(()=>{class o{constructor(e,a,n){this.ref=e,this.config=a,this.asistenciaService=n,this.loading=!1,this.asistenciaCursoList=[],this.fechas=[],this.selectedFecha="",this.initialLoad=!0,this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.docente_id=this.config.data.docente_id,this.cursoNombre=this.config.data.cursoNombre,this.fechas=[],this.selectedFecha="2021-09-01",this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha,!0)}getAsistenciaCurso(e,a,n,i=!1){console.log("domainId",e),this.loading=!0,this.asistenciaService.getAsistenciaCurso({domain_id:e,curso_id:a,fecha:n}).subscribe(l=>{const m=new Date(l.horarios[0].fecha_inicio),v=new Date(l.horarios[0].fecha_fin),h=[];l.horarios.forEach(P=>{h.includes(P.day_id)||h.push(P.day_id)});const _=this.generateDatesWithDaysAndRange(m,v,h);this.fechas=_,i?this.fechas.length>0&&(this.selectedFecha=this.fechas[0],this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)):(this.loading=!1,this.asistenciaCursoList=l.participantes)})}onCheckAsistencia(e,a){const n={domain_id:this.domainId??1,curso_id:this.curso,alumno_id:a.alumno_id,fecha:this.selectedFecha,asistio:e.target.checked,docente_id:this.docente_id};console.log("data",n),this.asistenciaService.updateAsistenciaCurso(n).subscribe(()=>{})}generateDatesWithDaysAndRange(e,a,n){const i=[],s=new Date(e);for(;s<=a;)n.includes(s.getDay())&&i.push(s.toISOString().split("T")[0]),s.setDate(s.getDate()+1);return i}onFilterDateChange(e){this.selectedFecha=e.target.value,this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.E7),t.Y36(d.S),t.Y36(te))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-marcar-asistencia-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["for","fechaFilter"],["id","fechaFilter",3,"change"],[3,"value",4,"ngFor","ngForOf"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","body"],[3,"value"],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"checked","change"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,ee,2,1,"ng-template",0),t.YNc(2,re,11,5,"ng-template",1),t.qZA())},dependencies:[E.sg,c.YN,c.Kr,b.jx,y.iA,f.s]})}return o})();function se(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","ver"===e.acciones?"Ver Grupo de Evaluaciones":"actualizar"===e.acciones?"Actualizar Grupo de Evaluaciones":"A\xf1adir Grupo de Evaluaciones"," ")}}function ce(o,r){1&o&&t._UZ(0,"button",15)}function le(o,r){1&o&&t._UZ(0,"button",16)}function ue(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarGrupoEvaluaciones())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"Nombre de Grupo"),t.qZA()()()()(),t.TgZ(8,"div",4)(9,"div",10)(10,"div",11),t.YNc(11,ce,1,0,"button",12),t.YNc(12,le,1,0,"button",13),t.TgZ(13,"button",14),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(6),t.Q6J("ngIf","add"===e.acciones),t.xp6(1),t.Q6J("ngIf","actualizar"===e.acciones)}}let V=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({nombreGrupo:["",c.kI.required]})}ngOnInit(){this.idCurso=this.config.data.idCurso,this.acciones=this.config.data.acciones,("ver"===this.acciones||"actualizar"===this.acciones)&&this.parametroForm.patchValue({nombreGrupo:this.config.data.data.nombre_del_grupo})}guardarGrupoEvaluaciones(){this.parametroForm.valid?"add"===this.acciones?this.parametroService.guardarGrupoEvaluaciones({nombre_del_grupo:this.parametroForm.value.nombreGrupo,curso_id:this.idCurso}).subscribe(a=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):"actualizar"===this.acciones&&this.parametroService.actualizarGrupoEvaluaciones({nombre_del_grupo:this.parametroForm.value.nombreGrupo,id:this.config.data.data.id}).subscribe(n=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},n=>{console.error("Error al actualizar el parametro",n)}):console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(d.E7),t.Y36(d.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-editar-grupo-evaluaciones"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12"],[1,"p-float-label"],["type","text","pInputText","","formControlName","nombreGrupo",3,"readonly"],[1,"required"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,se,2,1,"ng-template",0),t.YNc(2,ue,14,4,"ng-template",1),t.qZA())},dependencies:[E.O5,c._Y,c.Fj,c.JJ,c.JL,x.Hq,b.jx,C.o,f.s,c.sg,c.u]})}return o})();const de={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function j(o){return(r={})=>{const e=r.width?String(r.width):o.defaultWidth;return o.formats[e]||o.formats[o.defaultWidth]}}const he={date:j({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:j({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:j({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},fe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function G(o){return(r,e)=>{let n;if("formatting"===(e?.context?String(e.context):"standalone")&&o.formattingValues){const s=o.defaultFormattingWidth||o.defaultWidth,l=e?.width?String(e.width):s;n=o.formattingValues[l]||o.formattingValues[s]}else{const s=o.defaultWidth,l=e?.width?String(e.width):o.defaultWidth;n=o.values[l]||o.values[s]}return n[o.argumentCallback?o.argumentCallback(r):r]}}function Y(o){return(r,e={})=>{const a=e.width,i=r.match(a&&o.matchPatterns[a]||o.matchPatterns[o.defaultMatchWidth]);if(!i)return null;const s=i[0],l=a&&o.parsePatterns[a]||o.parsePatterns[o.defaultParseWidth],m=Array.isArray(l)?function Ee(o,r){for(let e=0;e<o.length;e++)if(r(o[e]))return e}(l,_=>_.test(s)):function Ae(o,r){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)&&r(o[e]))return e}(l,_=>_.test(s));let v;return v=o.valueCallback?o.valueCallback(m):m,v=e.valueCallback?e.valueCallback(v):v,{value:v,rest:r.slice(s.length)}}}const Ie={code:"en-US",formatDistance:(o,r,e)=>{let a;const n=de[o];return a="string"==typeof n?n:1===r?n.one:n.other.replace("{{count}}",r.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+a:a+" ago":a},formatLong:he,formatRelative:(o,r,e,a)=>fe[o],localize:{ordinalNumber:(o,r)=>{const e=Number(o),a=e%100;if(a>20||a<10)switch(a%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:G({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:G({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:o=>o-1}),month:G({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:G({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:G({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function De(o){return(r,e={})=>{const a=r.match(o.matchPattern);if(!a)return null;const n=a[0],i=r.match(o.parsePattern);if(!i)return null;let s=o.valueCallback?o.valueCallback(i[0]):i[0];return s=e.valueCallback?e.valueCallback(s):s,{value:s,rest:r.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:o=>parseInt(o,10)}),era:Y({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Y({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:o=>o+1}),month:Y({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Y({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Y({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let rt={};function I(){return rt}Math.pow(10,8);const it=6048e5;function Z(o){const r=Object.prototype.toString.call(o);return o instanceof Date||"object"==typeof o&&"[object Date]"===r?new o.constructor(+o):"number"==typeof o||"[object Number]"===r||"string"==typeof o||"[object String]"===r?new Date(o):new Date(NaN)}function ct(o){const r=Z(o);return r.setHours(0,0,0,0),r}function lt(o){const r=Z(o),e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),+o-+e}function D(o,r){return o instanceof Date?new o.constructor(r):new Date(r)}function L(o,r){const e=I(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,n=Z(o),i=n.getDay(),s=(i<a?7:0)+i-a;return n.setDate(n.getDate()-s),n.setHours(0,0,0,0),n}function J(o){return L(o,{weekStartsOn:1})}function ut(o){const r=Z(o),e=r.getFullYear(),a=D(o,0);a.setFullYear(e+1,0,4),a.setHours(0,0,0,0);const n=J(a),i=D(o,0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);const s=J(i);return r.getTime()>=n.getTime()?e+1:r.getTime()>=s.getTime()?e:e-1}function dt(o,r){const e=Z(o),a=e.getFullYear(),n=I(),i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=D(o,0);s.setFullYear(a+1,0,i),s.setHours(0,0,0,0);const l=L(s,r),m=D(o,0);m.setFullYear(a,0,i),m.setHours(0,0,0,0);const v=L(m,r);return e.getTime()>=l.getTime()?a+1:e.getTime()>=v.getTime()?a:a-1}function p(o,r){return(o<0?"-":"")+Math.abs(o).toString().padStart(r,"0")}const A={y(o,r){const e=o.getFullYear(),a=e>0?e:1-e;return p("yy"===r?a%100:a,r.length)},M(o,r){const e=o.getMonth();return"M"===r?String(e+1):p(e+1,2)},d:(o,r)=>p(o.getDate(),r.length),a(o,r){const e=o.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return"am"===e?"a.m.":"p.m."}},h:(o,r)=>p(o.getHours()%12||12,r.length),H:(o,r)=>p(o.getHours(),r.length),m:(o,r)=>p(o.getMinutes(),r.length),s:(o,r)=>p(o.getSeconds(),r.length),S(o,r){const e=r.length,a=o.getMilliseconds();return p(Math.trunc(a*Math.pow(10,e-3)),r.length)}},pt={G:function(o,r,e){const a=o.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(a,{width:"abbreviated"});case"GGGGG":return e.era(a,{width:"narrow"});default:return e.era(a,{width:"wide"})}},y:function(o,r,e){if("yo"===r){const a=o.getFullYear();return e.ordinalNumber(a>0?a:1-a,{unit:"year"})}return A.y(o,r)},Y:function(o,r,e,a){const n=dt(o,a),i=n>0?n:1-n;return"YY"===r?p(i%100,2):"Yo"===r?e.ordinalNumber(i,{unit:"year"}):p(i,r.length)},R:function(o,r){return p(ut(o),r.length)},u:function(o,r){return p(o.getFullYear(),r.length)},Q:function(o,r,e){const a=Math.ceil((o.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return p(a,2);case"Qo":return e.ordinalNumber(a,{unit:"quarter"});case"QQQ":return e.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(a,{width:"narrow",context:"formatting"});default:return e.quarter(a,{width:"wide",context:"formatting"})}},q:function(o,r,e){const a=Math.ceil((o.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return p(a,2);case"qo":return e.ordinalNumber(a,{unit:"quarter"});case"qqq":return e.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(a,{width:"narrow",context:"standalone"});default:return e.quarter(a,{width:"wide",context:"standalone"})}},M:function(o,r,e){const a=o.getMonth();switch(r){case"M":case"MM":return A.M(o,r);case"Mo":return e.ordinalNumber(a+1,{unit:"month"});case"MMM":return e.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(a,{width:"narrow",context:"formatting"});default:return e.month(a,{width:"wide",context:"formatting"})}},L:function(o,r,e){const a=o.getMonth();switch(r){case"L":return String(a+1);case"LL":return p(a+1,2);case"Lo":return e.ordinalNumber(a+1,{unit:"month"});case"LLL":return e.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(a,{width:"narrow",context:"standalone"});default:return e.month(a,{width:"wide",context:"standalone"})}},w:function(o,r,e,a){const n=function Re(o,r){const e=Z(o),a=+L(e,r)-+function Ke(o,r){const e=I(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,n=dt(o,r),i=D(o,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),L(i,r)}(e,r);return Math.round(a/it)+1}(o,a);return"wo"===r?e.ordinalNumber(n,{unit:"week"}):p(n,r.length)},I:function(o,r,e){const a=function ze(o){const r=Z(o),e=+J(r)-+function $e(o){const r=ut(o),e=D(o,0);return e.setFullYear(r,0,4),e.setHours(0,0,0,0),J(e)}(r);return Math.round(e/it)+1}(o);return"Io"===r?e.ordinalNumber(a,{unit:"week"}):p(a,r.length)},d:function(o,r,e){return"do"===r?e.ordinalNumber(o.getDate(),{unit:"date"}):A.d(o,r)},D:function(o,r,e){const a=function Qe(o){const r=Z(o);return function je(o,r){const e=ct(o),a=ct(r),n=+e-lt(e),i=+a-lt(a);return Math.round((n-i)/864e5)}(r,function We(o){const r=Z(o),e=D(o,0);return e.setFullYear(r.getFullYear(),0,1),e.setHours(0,0,0,0),e}(r))+1}(o);return"Do"===r?e.ordinalNumber(a,{unit:"dayOfYear"}):p(a,r.length)},E:function(o,r,e){const a=o.getDay();switch(r){case"E":case"EE":case"EEE":return e.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},e:function(o,r,e,a){const n=o.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return p(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(n,{width:"short",context:"formatting"});default:return e.day(n,{width:"wide",context:"formatting"})}},c:function(o,r,e,a){const n=o.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return p(i,r.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(n,{width:"narrow",context:"standalone"});case"cccccc":return e.day(n,{width:"short",context:"standalone"});default:return e.day(n,{width:"wide",context:"standalone"})}},i:function(o,r,e){const a=o.getDay(),n=0===a?7:a;switch(r){case"i":return String(n);case"ii":return p(n,r.length);case"io":return e.ordinalNumber(n,{unit:"day"});case"iii":return e.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},a:function(o,r,e){const n=o.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(n,{width:"narrow",context:"formatting"});default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(o,r,e){const a=o.getHours();let n;switch(n=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(n,{width:"narrow",context:"formatting"});default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(o,r,e){const a=o.getHours();let n;switch(n=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",r){case"B":case"BB":case"BBB":return e.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(n,{width:"narrow",context:"formatting"});default:return e.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(o,r,e){if("ho"===r){let a=o.getHours()%12;return 0===a&&(a=12),e.ordinalNumber(a,{unit:"hour"})}return A.h(o,r)},H:function(o,r,e){return"Ho"===r?e.ordinalNumber(o.getHours(),{unit:"hour"}):A.H(o,r)},K:function(o,r,e){const a=o.getHours()%12;return"Ko"===r?e.ordinalNumber(a,{unit:"hour"}):p(a,r.length)},k:function(o,r,e){let a=o.getHours();return 0===a&&(a=24),"ko"===r?e.ordinalNumber(a,{unit:"hour"}):p(a,r.length)},m:function(o,r,e){return"mo"===r?e.ordinalNumber(o.getMinutes(),{unit:"minute"}):A.m(o,r)},s:function(o,r,e){return"so"===r?e.ordinalNumber(o.getSeconds(),{unit:"second"}):A.s(o,r)},S:function(o,r){return A.S(o,r)},X:function(o,r,e){const a=o.getTimezoneOffset();if(0===a)return"Z";switch(r){case"X":return gt(a);case"XXXX":case"XX":return q(a);default:return q(a,":")}},x:function(o,r,e){const a=o.getTimezoneOffset();switch(r){case"x":return gt(a);case"xxxx":case"xx":return q(a);default:return q(a,":")}},O:function(o,r,e){const a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+mt(a,":");default:return"GMT"+q(a,":")}},z:function(o,r,e){const a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+mt(a,":");default:return"GMT"+q(a,":")}},t:function(o,r,e){return p(Math.trunc(o.getTime()/1e3),r.length)},T:function(o,r,e){return p(o.getTime(),r.length)}};function mt(o,r=""){const e=o>0?"-":"+",a=Math.abs(o),n=Math.trunc(a/60),i=a%60;return 0===i?e+String(n):e+String(n)+r+p(i,2)}function gt(o,r){return o%60==0?(o>0?"-":"+")+p(Math.abs(o)/60,2):q(o,r)}function q(o,r=""){const e=o>0?"-":"+",a=Math.abs(o);return e+p(Math.trunc(a/60),2)+r+p(a%60,2)}const _t=(o,r)=>{switch(o){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});default:return r.date({width:"full"})}},ht=(o,r)=>{switch(o){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});default:return r.time({width:"full"})}},Xe={p:ht,P:(o,r)=>{const e=o.match(/(P+)(p+)?/)||[],a=e[1],n=e[2];if(!n)return _t(o,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;default:i=r.dateTime({width:"full"})}return i.replace("{{date}}",_t(a,r)).replace("{{time}}",ht(n,r))}},to=/^D+$/,eo=/^Y+$/,oo=["D","DD","YY","YYYY"];const lo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,po=/^'([^]*?)'?$/,mo=/''/g,go=/[a-zA-Z]/;function ft(o,r,e){const a=I(),n=e?.locale??a.locale??Ie,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=Z(o);if(!function co(o){if(!function so(o){return o instanceof Date||"object"==typeof o&&"[object Date]"===Object.prototype.toString.call(o)}(o)&&"number"!=typeof o)return!1;const r=Z(o);return!isNaN(Number(r))}(l))throw new RangeError("Invalid time value");let m=r.match(uo).map(h=>{const _=h[0];return"p"===_||"P"===_?(0,Xe[_])(h,n.formatLong):h}).join("").match(lo).map(h=>{if("''"===h)return{isToken:!1,value:"'"};const _=h[0];if("'"===_)return{isToken:!1,value:_o(h)};if(pt[_])return{isToken:!0,value:h};if(_.match(go))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:h}});n.localize.preprocessor&&(m=n.localize.preprocessor(l,m));const v={firstWeekContainsDate:i,weekStartsOn:s,locale:n};return m.map(h=>{if(!h.isToken)return h.value;const _=h.value;return(!e?.useAdditionalWeekYearTokens&&function no(o){return eo.test(o)}(_)||!e?.useAdditionalDayOfYearTokens&&function ao(o){return to.test(o)}(_))&&function ro(o,r,e){const a=function io(o,r,e){const a="Y"===o[0]?"years":"days of the month";return`Use \`${o.toLowerCase()}\` instead of \`${o}\` (in \`${r}\`) for formatting ${a} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(o,r,e);if(console.warn(a),oo.includes(o))throw new RangeError(a)}(_,r,String(o)),(0,pt[_[0]])(l,_,n.localize,v)}).join("")}function _o(o){const r=o.match(po);return r?r[1].replace(mo,"'"):o}function ho(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","ver"===e.acciones?"Ver Evaluacion":"actualizar"===e.acciones?"Actualizar Evaluacion":"A\xf1adir Evaluacion"," ")}}function fo(o,r){1&o&&t._UZ(0,"button",22)}function bo(o,r){1&o&&t._UZ(0,"button",23)}function vo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarEvaluacion())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"Nombre de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"p-dropdown",10),t.TgZ(11,"label",11),t._uU(12,"Tipo de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(13,"div",6)(14,"span",7),t._UZ(15,"input",12),t.TgZ(16,"label",9),t._uU(17,"Porcentaje de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(18,"div",6)(19,"span",7),t._UZ(20,"p-calendar",13),t.TgZ(21,"label",9),t._uU(22,"Fecha y Hora de Evaluaci\xf3n"),t.qZA()()(),t.TgZ(23,"div",6)(24,"span",7),t._UZ(25,"p-dropdown",14),t.TgZ(26,"label",15),t._uU(27,"Estado"),t.qZA()()(),t.TgZ(28,"div",6)(29,"span",7),t._UZ(30,"textarea",16),t.TgZ(31,"label"),t._uU(32,"Observaciones"),t.qZA()()()()(),t.TgZ(33,"div",4)(34,"div",17)(35,"div",18),t.YNc(36,fo,1,0,"button",19),t.YNc(37,bo,1,0,"button",20),t.TgZ(38,"button",21),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.parametroForm),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(5),t.Q6J("options",e.tiposEvaluacion)("disabled","ver"===e.acciones),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(5),t.Q6J("showTime",!0)("readonlyInput","ver"===e.acciones),t.xp6(5),t.Q6J("options",e.estados)("disabled","ver"===e.acciones),t.xp6(5),t.Q6J("readonly","ver"===e.acciones),t.xp6(6),t.Q6J("ngIf","add"===e.acciones),t.xp6(1),t.Q6J("ngIf","actualizar"===e.acciones)}}let W=(()=>{class o{constructor(e,a,n,i){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({observaciones:["",c.kI.required],nombreEvaluacion:["",c.kI.required],tipoEvaluacion:["",c.kI.required],porcentajeEvaluacion:["",[c.kI.required,c.kI.min(0),c.kI.max(100)]],fechaHoraEvaluacion:["",c.kI.required],estado:["",c.kI.required]})}ngOnInit(){this.idCurso=this.config.data.idCurso,this.acciones=this.config.data.acciones,Promise.all([this.listarTipoEvaluacion(),this.listarEstados()]).then(()=>{if("ver"===this.acciones||"actualizar"===this.acciones){const e=ft(new Date(this.config.data.data.fecha_y_hora_programo),"yyyy-MM-dd'T'HH:mm:ss");this.parametroForm.patchValue({nombreEvaluacion:this.config.data.data.nombre,tipoEvaluacion:this.config.data.data.tipo_evaluacion_id,porcentajeEvaluacion:this.config.data.data.porcentaje_evaluacion,fechaHoraEvaluacion:e,estado:this.config.data.data.estado_id,observaciones:this.config.data.data.observaciones})}})}listarEstados(){return new Promise((e,a)=>{this.parametroService.getEstados().subscribe(n=>{console.log("Lista de listarEstados",n),this.estados=n,e()},n=>a(n))})}listarTipoEvaluacion(){return new Promise((e,a)=>{this.parametroService.getTipoEvaluacion().subscribe(n=>{console.log("Lista de TipoEvaluacion",n),this.tiposEvaluacion=n,e()},n=>a(n))})}guardarEvaluacion(){if(this.parametroForm.valid){const e={observaciones:this.parametroForm.value.observaciones,nombre:this.parametroForm.value.nombreEvaluacion,tipo_evaluacion_id:this.parametroForm.value.tipoEvaluacion,porcentaje_evaluacion:this.parametroForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.parametroForm.value.fechaHoraEvaluacion,estado_id:this.parametroForm.value.estado,grupo_de_evaluaciones_id:this.config.data.idGrupoEvaluaciones,domain_id:1};console.log(e),"add"===this.acciones?this.parametroService.guardarEvaluacion(e).subscribe(a=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):"actualizar"===this.acciones&&this.parametroService.actualizarListadoDeEvaluacionesPorGrupo({observaciones:this.parametroForm.value.observaciones,nombre:this.parametroForm.value.nombreEvaluacion,tipo_evaluacion_id:this.parametroForm.value.tipoEvaluacion,porcentaje_evaluacion:this.parametroForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.parametroForm.value.fechaHoraEvaluacion,estado_id:this.parametroForm.value.estado,id:this.config.data.data.id}).subscribe(n=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},n=>{console.error("Error al actualizar el parametro",n)})}else console.error("Formulario inv\xe1lido")}closeModal(e){e.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(d.E7),t.Y36(d.S),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-editar-lista-de-evaluaciones-por-grupo"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12"],[1,"p-float-label"],["type","text","pInputText","","formControlName","nombreEvaluacion",3,"readonly"],[1,"required"],["inputId","dropdownTipoEvaluacion","optionLabel","tx_item_description","formControlName","tipoEvaluacion","optionValue","nu_id_parametro",3,"options","disabled"],["for","dropdownTipoEvaluacion",1,"required"],["type","number","pInputText","","formControlName","porcentajeEvaluacion",3,"readonly"],["formControlName","fechaHoraEvaluacion",3,"showTime","readonlyInput"],["inputId","dropdownEstados","optionLabel","tx_item_description","formControlName","estado","optionValue","nu_id_parametro",3,"options","disabled"],["for","dropdownEstados",1,"required"],["pInputTextarea","","formControlName","observaciones",3,"readonly"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,ho,2,1,"ng-template",0),t.YNc(2,vo,39,12,"ng-template",1),t.qZA())},dependencies:[E.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,B.f,x.Hq,b.jx,C.o,X.g,O.Lt,f.s,c.sg,c.u]})}return o})();function xo(o,r){if(1&o&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","ver"===e.acciones?"Ver Pregunta":"actualizar"===e.acciones?"Actualizar Pregunta":"A\xf1adir Pregunta"," ")}}function Co(o,r){if(1&o&&(t.TgZ(0,"div",18)(1,"span",7),t._UZ(2,"input",19),t.TgZ(3,"label",20),t._uU(4,"Formulaci\xf3n de Pregunta por Docente"),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("readonly","ver"===e.acciones)}}function To(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",11)(2,"input",23),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).index,l=t.oxw(3);return t.KtG(l.alternativas[s].texto=n)}),t.qZA(),t.TgZ(3,"label"),t._uU(4),t.qZA(),t.TgZ(5,"input",24),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.preguntaForm.value.correcta=n)}),t.qZA()()()}if(2&o){const e=r.index,a=t.oxw(3);t.xp6(2),t.Q6J("ngModel",a.alternativas[e].texto)("readonly","ver"===a.acciones),t.xp6(2),t.hij("Alternativa ",e+1,""),t.xp6(1),t.Q6J("value",e)("ngModel",a.preguntaForm.value.correcta)}}function wo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",18),t.YNc(1,To,6,5,"div",21),t.TgZ(2,"button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.agregarAlternativa())}),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.alternativas)}}const Zo=function(){return{height:"90px"}};function yo(o,r){if(1&o&&(t.TgZ(0,"div",18)(1,"span",7)(2,"div",5)(3,"div",25)(4,"label",26),t._uU(5,"Ingrese la pregunta"),t.qZA(),t._UZ(6,"p-editor",27),t.qZA()()()()),2&o){const e=t.oxw(2);t.xp6(6),t.Akn(t.DdM(3,Zo)),t.Q6J("disabled","ver"===e.acciones)}}function Ao(o,r){1&o&&t._UZ(0,"button",28)}function Eo(o,r){1&o&&t._UZ(0,"button",29)}function Do(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.guardarPregunta())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7)(5,"p-dropdown",8),t.NdJ("onChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.onTipoPreguntaChange(n.value))}),t.qZA(),t.TgZ(6,"label",9),t._uU(7,"Tipo de Pregunta"),t.qZA()()(),t.YNc(8,Co,5,1,"div",10),t.YNc(9,wo,3,1,"div",10),t.YNc(10,yo,7,4,"div",10),t.TgZ(11,"div",11),t._UZ(12,"input",12),t.TgZ(13,"label"),t._uU(14,"Valor de la Pregunta"),t.qZA()()()(),t.TgZ(15,"div",4)(16,"div",13)(17,"div",14),t.YNc(18,Ao,1,0,"button",15),t.YNc(19,Eo,1,0,"button",16),t.TgZ(20,"button",17),t.NdJ("click",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.closeModal(n))}),t.qZA()()()()()}if(2&o){const e=t.oxw();let a,n,i;t.Q6J("formGroup",e.preguntaForm),t.xp6(5),t.Q6J("options",e.tiposPregunta)("disabled","ver"===e.acciones),t.xp6(3),t.Q6J("ngIf",66===(null==e.preguntaForm||null==(a=e.preguntaForm.get("tipoPregunta"))?null:a.value)),t.xp6(1),t.Q6J("ngIf",66===(null==e.preguntaForm||null==(n=e.preguntaForm.get("tipoPregunta"))?null:n.value)),t.xp6(1),t.Q6J("ngIf",67===(null==e.preguntaForm||null==(i=e.preguntaForm.get("tipoPregunta"))?null:i.value)),t.xp6(2),t.Q6J("readonly","ver"===e.acciones),t.xp6(6),t.Q6J("ngIf","add"===e.acciones),t.xp6(1),t.Q6J("ngIf","actualizar"===e.acciones)}}let Q=(()=>{class o{constructor(e,a,n,i,s){this.fb=e,this.ref=a,this.config=n,this.parametroService=i,this.helpersService=s,this.loading=!1,this.parametroDatos=new T.v,this.parametro=new T.v,this.mostrarCursos=!1,this.tiposPregunta=[],this.alternativas=[{texto:""}],this.preguntaForm=this.fb.group({tipoPregunta:[""],formulacionPregunta:[""],descripcion:[""],correcta:[null],valor_pregunta:[null],pregunta_docente:[null]})}ngOnInit(){this.idEvaluacion=this.config.data.idEvaluacion,this.acciones=this.config.data.acciones,Promise.all([this.listarDePregunta()]).then(()=>{if("ver"===this.acciones||"actualizar"===this.acciones){const e=ft(new Date(this.config.data.data.fecha_y_hora_programo),"yyyy-MM-dd'T'HH:mm:ss");this.preguntaForm.patchValue({nombreEvaluacion:this.config.data.data.nombre,tipoEvaluacion:this.config.data.data.tipo_evaluacion_id,porcentajeEvaluacion:this.config.data.data.porcentaje_evaluacion,fechaHoraEvaluacion:e,estado:this.config.data.data.estado_id,observaciones:this.config.data.data.observaciones,preguntaMagica:this.config.data.data.pregunta_magica})}})}listarDePregunta(){return new Promise((e,a)=>{this.parametroService.getTipoDePregunta().subscribe(n=>{console.log("Lista de getTipoDePregunta",n),this.tiposPregunta=n,e()},n=>a(n))})}guardarPregunta(){if(this.preguntaForm.valid){const e={evaluacion_id:this.idEvaluacion,tipo_de_evaluacion_id:this.preguntaForm.value.tipoPregunta,pregunta_docente:this.preguntaForm.value.pregunta_docente,descripcion:this.preguntaForm.value.descripcion,respuesta_correcta:this.preguntaForm.value.correcta,domain_id:this.helpersService.getDominioId(),valor_pregunta:this.preguntaForm.value.valor_pregunta};console.log(e),"add"===this.acciones?this.parametroService.guardarPreguntas(e).subscribe(a=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):"actualizar"===this.acciones&&this.parametroService.actualizarListadoDeEvaluacionesPorGrupo({observaciones:this.preguntaForm.value.observaciones,nombre:this.preguntaForm.value.nombreEvaluacion,tipo_evaluacion_id:this.preguntaForm.value.tipoEvaluacion,porcentaje_evaluacion:this.preguntaForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.preguntaForm.value.fechaHoraEvaluacion,estado_id:this.preguntaForm.value.estado,id:this.config.data.data.id}).subscribe(n=>{this.ref?.close(),g().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},n=>{console.error("Error al actualizar el parametro",n)})}else console.error("Formulario inv\xe1lido")}agregarAlternativa(){this.alternativas.push({texto:""})}closeModal(e){e.preventDefault(),this.ref?.close()}onTipoPreguntaChange(e){console.log("Tipo de Pregunta changed to:",e)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(d.E7),t.Y36(d.S),t.Y36(w.m),t.Y36(N.$))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-editar-listado-de-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12"],[1,"p-float-label"],["inputId","dropdownTipoPregunta","optionLabel","tx_item_description","formControlName","tipoPregunta","optionValue","nu_id_parametro",3,"options","disabled","onChange"],["for","dropdownTipoPregunta",1,"required"],["class","col-12",4,"ngIf"],[1,"p-float-label","p-d-flex","p-ai-center"],["type","number","pInputText","","formControlName","valor_pregunta",3,"readonly"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],[1,"col-12"],["type","text","pInputText","","formControlName","formulacionPregunta",3,"readonly"],[1,"required"],["class","col-12",4,"ngFor","ngForOf"],["type","button","pButton","","icon","pi pi-plus","label","A\xf1adir Alternativa",3,"click"],["type","text","pInputText","",3,"ngModel","readonly","ngModelChange"],["type","radio","name","correcta",3,"value","ngModel","ngModelChange"],[1,"field","col-12","md:col-12"],["for",""],["formControlName","pregunta_docente",3,"disabled"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,xo,2,1,"ng-template",0),t.YNc(2,Do,21,9,"ng-template",1),t.qZA())},dependencies:[E.sg,E.O5,c._Y,c.Fj,c.wV,c._,c.JJ,c.JL,c.On,x.Hq,b.jx,C.o,O.Lt,f.s,tt.ML,c.sg,c.u]})}return o})();const qo=["filter"],Fo=["dt1"];function So(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Listado de preguntas"),t.qZA())}function Po(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function Mo(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"Pregunta"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Valor de la pregunta"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Puntos de la pregunta"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Porcentaje de la pregunta"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"Corregir Pregunta"),t.qZA()())}function ko(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(5,"td")(6,"span",23),t._uU(7),t.qZA()(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.corregirPregunta(i))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(7),t.Oqu(e.pregunta_docente),t.xp6(2),t.Oqu(e.valor_pregunta),t.xp6(2),t.Oqu(e.puntos),t.xp6(2),t.hij("",e.porcentaje,"%")}}function No(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"No se encontraron registros"),t.qZA()())}function Go(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function Yo(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Po,7,0,"ng-template",8),t.YNc(6,Mo,13,0,"ng-template",0),t.YNc(7,ko,16,4,"ng-template",9),t.YNc(8,No,3,0,"ng-template",10),t.YNc(9,Go,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let Lo=(()=>{class o{constructor(e,a,n){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=n,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.evaluaciones=this.config.data.data,console.log(this.evaluaciones,"car"),this.listarPreguntas()}listarPreguntas(){this.grupoEvaluacionesService.getPreguntas({id:this.evaluaciones.id}).subscribe(e=>{e.forEach((a,n)=>{a.puntos=Math.floor(20*Math.random())+1,a.porcentaje=20*a.puntos/100}),this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]})}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(n=>{e+=n.promedio||0,a+=n.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(Q,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idEvaluacion:this.evaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarPreguntas()})}navigateToDetalle(e){this.ref=this.dialogService.open(Q,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.evaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarPreguntas()})}navigateToEdit(e){this.ref=this.dialogService.open(Q,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.evaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarPreguntas()})}navigateToDelete(e){g().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(e).subscribe(n=>{g().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarPreguntas()},n=>{g().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(e){this.ref=this.dialogService.open(bt,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.evaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarPreguntas()})}corregirPregunta(e){}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.xA),t.Y36(w.m),t.Y36(d.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-listado-de-preguntas"]],viewQuery:function(a,n){if(1&a&&(t.Gf(qo,5),t.Gf(Fo,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar listado de preguntas",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pTooltip","Responder pregunta","tooltipPosition","top"],["pButton","","label","Corregir",1,"p-button-rounded","p-button-info",3,"click"],["colspan","6"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,So,2,0,"ng-template",0),t.YNc(2,Yo,10,5,"ng-template",1),t.qZA())},dependencies:[x.Hq,b.jx,y.iA,C.o,f.s,M.u]})}return o})();const Oo=["filter"],Uo=["dt1"];function Ho(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Listado de evaluaciones por grupo"),t.qZA())}function Io(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function Jo(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"N Bloque"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Nombre del grupo"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Preguntas"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Nota"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"% Obtenido"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"Valor %"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"Fecha y Hora 1"),t.qZA(),t.TgZ(17,"th",19),t._uU(18,"Fecha y Hora 2"),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"Tipo de Evaluaci\xf3n"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"Observaciones"),t.qZA(),t.TgZ(23,"th",19),t._uU(24,"Estado"),t.qZA()())}function Bo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.agregarPreguntas(i))}),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA()()}if(2&o){const e=r.$implicit;t.xp6(6),t.Oqu(e.id),t.xp6(2),t.Oqu(e.nombre),t.xp6(4),t.Oqu(e.nota),t.xp6(2),t.hij("",e.porcentaje_obtenido,"%"),t.xp6(2),t.hij("",e.porcentaje_evaluacion,"%"),t.xp6(2),t.Oqu(e.fecha_y_hora_programo),t.xp6(2),t.Oqu(e.fecha_hora_2),t.xp6(2),t.Oqu(e.tipo_evaluacion_nombre),t.xp6(2),t.Oqu(e.observaciones),t.xp6(2),t.Oqu(e.estado_nombre)}}function Vo(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2,"No se encontraron registros"),t.qZA()())}function jo(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function Wo(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Io,7,0,"ng-template",8),t.YNc(6,Jo,25,0,"ng-template",0),t.YNc(7,Bo,27,10,"ng-template",9),t.YNc(8,Vo,3,0,"ng-template",10),t.YNc(9,jo,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let bt=(()=>{class o{constructor(e,a,n){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=n,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getListadoDeEvaluacionesPorGrupo({id:this.grupoEvaluaciones.id}).subscribe(e=>{this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]})}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(n=>{e+=n.promedio||0,a+=n.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(W,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idGrupoEvaluaciones:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarGrupoEvaluaciones()})}navigateToDetalle(e){this.ref=this.dialogService.open(W,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToEdit(e){this.ref=this.dialogService.open(W,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToDelete(e){g().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarListadoDeEvaluacionesPorGrupo(e).subscribe(n=>{g().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},n=>{g().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarPreguntas(e){this.ref=this.dialogService.open(Lo,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",grupoEvaluacionesId:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.xA),t.Y36(w.m),t.Y36(d.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-lis-eval-grupo"]],viewQuery:function(a,n){if(1&a&&(t.Gf(Oo,5),t.Gf(Uo,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar por listado de evaluaciones por grupo",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-plus","pTooltip","A\xf1adir pregunta","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","12"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Ho,2,0,"ng-template",0),t.YNc(2,Wo,10,5,"ng-template",1),t.qZA())},dependencies:[x.Hq,b.jx,y.iA,C.o,f.s,M.u]})}return o})();const Qo=["filter"],$o=["dt1"];function zo(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Grupos de evaluaciones"),t.qZA())}function Ko(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"span",15)(3,"input",16,17),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",18)(6,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function Ro(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",20),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",20),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th",20),t._uU(6,"Nombre del grupo"),t.qZA(),t.TgZ(7,"th",20),t._uU(8,"Evaluaciones"),t.qZA(),t.TgZ(9,"th",20),t._uU(10,"Promedio"),t.qZA(),t.TgZ(11,"th",20),t._uU(12,"%"),t.qZA()())}function Xo(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(3,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(4,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.agregarEvaluaciones(i))}),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()}if(2&o){const e=r.$implicit;t.xp6(6),t.Oqu(e.id),t.xp6(2),t.Oqu(e.nombre_del_grupo),t.xp6(4),t.Oqu(e.promedio),t.xp6(2),t.hij("",e.porcentaje,"%")}}function ta(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"Promedio Total:"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t._UZ(5,"td"),t.qZA(),t.TgZ(6,"tr")(7,"td",25),t._uU(8,"Porcentaje Total:"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._UZ(11,"td"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(4),t.Oqu(e.promedioTotal),t.xp6(6),t.hij("",e.porcentajeTotal,"%")}}function ea(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"No se encontraron registros"),t.qZA()())}function oa(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function aa(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Ko,7,0,"ng-template",8),t.YNc(6,Ro,13,0,"ng-template",0),t.YNc(7,Xo,15,4,"ng-template",9),t.YNc(8,ta,12,2,"ng-template",10),t.YNc(9,ea,3,0,"ng-template",11),t.YNc(10,oa,3,0,"ng-template",12),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let na=(()=>{class o{constructor(e,a,n){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=n,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getGrupoEvaluaciones({id:this.grupoEvaluaciones.id}).subscribe(e=>{this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]})}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(n=>{e+=n.promedio||0,a+=n.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(V,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idCurso:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarGrupoEvaluaciones()})}navigateToDetalle(e){this.ref=this.dialogService.open(V,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToEdit(e){this.ref=this.dialogService.open(V,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToDelete(e){g().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(e).subscribe(n=>{g().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},n=>{g().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(e){this.ref=this.dialogService.open(bt,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.xA),t.Y36(w.m),t.Y36(d.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-g-ev"]],viewQuery:function(a,n){if(1&a&&(t.Gf(Qo,5),t.Gf($o,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar grupos de evaluaciones",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-plus","pTooltip","Agregar evaluaciones","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","4",1,"text-right","font-bold"],["colspan","6"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,zo,2,0,"ng-template",0),t.YNc(2,aa,11,5,"ng-template",1),t.qZA())},dependencies:[x.Hq,b.jx,y.iA,C.o,f.s,M.u]})}return o})();var ra=u(7649);function ia(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Foro"),t.qZA())}function sa(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.saveForo())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"Titulo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Descripcion"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",5)(15,"div",11)(16,"span",7),t._UZ(17,"input",12),t.TgZ(18,"label",9),t._uU(19,"Fecha Inicio"),t.qZA()()(),t.TgZ(20,"div",11)(21,"span",7),t._UZ(22,"input",13),t.TgZ(23,"label",9),t._uU(24,"Fecha Fin"),t.qZA()()()()(),t.TgZ(25,"div",14)(26,"button",15),t._uU(27,"Guardar"),t.qZA()()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.foroForm)}}let ca=(()=>{class o{constructor(e,a,n,i,s){this.ref=e,this.fb=a,this.config=n,this.helperService=i,this.foroService=s,this.foroForm=this.fb.group({titulo:[""],descripcion:[""],fechaInicio:[""],fechaFin:[""]})}saveForo(){if(this.foroForm.valid){console.log(this.config.data),this.ref.close(this.foroForm.value);const e={nombre:this.foroForm.get("titulo")?.value,descripcion:this.foroForm.get("descripcion")?.value,fecha_inicio:this.helperService.formatDate(this.foroForm.get("fechaInicio")?.value),fecha_fin:this.helperService.formatDate(this.foroForm.get("fechaFin")?.value),id_curso:this.config.data.data.id,domain_id:this.helperService.getDominioId()};this.foroService.saveForo(e).subscribe(a=>{console.log(a)})}}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.E7),t.Y36(c.qu),t.Y36(d.S),t.Y36(N.$),t.Y36(ra.f))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-crear-foro-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","titulo"],[1,"required"],["type","text","pInputText","","formControlName","descripcion"],[1,"field","col-12","md:6"],["type","date","pInputText","","formControlName","fechaInicio"],["type","date","pInputText","","formControlName","fechaFin"],[1,"grid","grid-cols-1","gap-4"],["type","submit",1,"btn","btn-primary"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,ia,2,0,"ng-template",0),t.YNc(2,sa,28,1,"ng-template",1),t.qZA())},dependencies:[c._Y,c.Fj,c.JJ,c.JL,b.jx,C.o,f.s,c.sg,c.u]})}return o})();const la=["filter"],ua=["dt1"];function da(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Bandeja de Cursos"),t.qZA())}function pa(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateAddCurso())}),t.qZA()()()}}function ma(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"Nombre del curso"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Acciones"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Configuraci\xf3n"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Cr\xe9ditos"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"Ciclo"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"Carrera t\xe9cnica"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"\xc1rea de formaci\xf3n"),t.qZA(),t.TgZ(17,"th",19),t._uU(18,"M\xf3dulo formativo"),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"Docente"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"Foto"),t.qZA(),t.TgZ(23,"th",19),t._uU(24,"Estado (m16)"),t.qZA(),t.TgZ(25,"th",19),t._uU(26,"Modalidad (m18)"),t.qZA(),t.TgZ(27,"th",19),t._uU(28,"F. inicio"),t.qZA(),t.TgZ(29,"th",19),t._uU(30,"F. t\xe9rmino"),t.qZA()())}function ga(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",20)(7,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verSyllabus(i.syllabus))}),t._uU(8," Sy "),t.qZA(),t.TgZ(9,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verAlumnos(i))}),t._uU(10," Al "),t.qZA(),t.TgZ(11,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verHorarios(i))}),t._uU(12," Ho "),t.qZA(),t.TgZ(13,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verAsistencia(i))}),t._uU(14," As "),t.qZA(),t.TgZ(15,"button",25),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verTemas(i.temas))}),t._uU(16," Te "),t.qZA(),t.TgZ(17,"button",26),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verEvaluaciones(i))}),t._uU(18," Ev "),t.qZA(),t.TgZ(19,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.verForos(i))}),t._uU(20," Fo "),t.qZA()()(),t.TgZ(21,"td")(22,"button",28),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(23,"button",29),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(24,"button",30),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.qZA(),t.TgZ(37,"td"),t._UZ(38,"img",31),t.qZA(),t.TgZ(39,"td"),t._uU(40),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.qZA(),t.TgZ(43,"td"),t._uU(44),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.qZA()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombre),t.xp6(22),t.Oqu(e.cantidad_de_creditos),t.xp6(2),t.Oqu(e.ciclo_nombre),t.xp6(2),t.Oqu(e.carrera_nombre),t.xp6(2),t.Oqu(e.area_de_formacion_nombre),t.xp6(2),t.Oqu(e.modulo_formativo_nombre),t.xp6(2),t.Oqu(e.docente),t.xp6(2),t.Q6J("src",e.foto,t.LSH),t.xp6(2),t.Oqu(e.estado_m16),t.xp6(2),t.Oqu(e.modalidad_m18),t.xp6(2),t.Oqu(e.fecha_inicio),t.xp6(2),t.Oqu(e.fecha_termino)}}function _a(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",32),t._uU(2,"No se encontraron registros"),t.qZA()())}function ha(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",32),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function fa(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,pa,7,0,"ng-template",8),t.YNc(6,ma,31,0,"ng-template",0),t.YNc(7,ga,47,13,"ng-template",9),t.YNc(8,_a,3,0,"ng-template",10),t.YNc(9,ha,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.carrerastecnicasList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let ba=(()=>{class o{constructor(e,a,n,i){this.dialogService=e,this.cursosService=a,this.router=n,this.config=i,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){this.listarCursos()}listarCursos(){this.cursosService.getCursos(this.config.data.data.id).subscribe(e=>{this.carrerastecnicasList=e,this.originalCarrerastecnicasList=[...e]})}navigateToNuevo(){console.log("nuevo"),this.ref=this.dialogService.open(ot,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(e=>{console.log("Cerrando dialogo"),this.listarCursos()})}navigateAddCurso(){this.ref=this.dialogService.open(U.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"add"}}),this.ref.onClose.subscribe(e=>{this.listarCursos()})}navigateToDetalle(e){this.ref=this.dialogService.open(U.V,{width:"80%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"ver",data:e}}),this.ref.onClose.subscribe(a=>{this.listarCursos()})}navigateToEdit(e){console.log("Editar",e),this.ref=this.dialogService.open(U.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"editar",data:e}}),this.ref.onClose.subscribe(a=>{this.listarCursos()})}navigateToDelete(e){g().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&(this.cursosService.eliminarCurso(e).subscribe(n=>{g().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}})},n=>{g().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")}),this.listarCursos())})}onGlobalFilter(e){const a=e.target.value.toLowerCase();console.log("Filtro Global",a),this.carrerastecnicasList=a?this.originalCarrerastecnicasList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalCarrerastecnicasList]}verSyllabus(e){console.log(e)}verAlumnos(e){this.ref=this.dialogService.open(Xt,{width:"80%",styleClass:"custom-dialog-header",data:{cursoId:e.id,domainId:e.domain_id,cursoNombre:e.nombre}})}verHorarios(e){this.ref=this.dialogService.open(Qt,{width:"80%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{console.log("Dialog cerrado",a)})}verAsistencia(e){this.ref=this.dialogService.open(ie,{width:"80%",styleClass:"custom-dialog-header",data:{cursoId:e.id,domainId:e.domain_id,fecha:null,cursoNombre:e.nombre}})}verTemas(e){console.log(e)}verEvaluaciones(e){console.log("evaluaciones",e),this.ref=this.dialogService.open(na,{width:"60%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCursos()})}verForos(e){this.ref=this.dialogService.open(ca,{width:"60%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCursos()})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.xA),t.Y36(w.m),t.Y36(k.F0),t.Y36(d.S))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ver-curso-de-carrera"]],viewQuery:function(a,n){if(1&a&&(t.Gf(la,5),t.Gf(ua,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar cursos",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],[1,"button-group"],["pButton","","pTooltip","Ver Syllabus","tooltipPosition","top",1,"p-button-rounded","p-button-info","button-custom",2,"background","gray",3,"click"],["pButton","","pTooltip","Ver Alumnos","tooltipPosition","top",1,"p-button-rounded","p-button-success","button-custom",2,"background","blue",3,"click"],["pButton","","pTooltip","Ver Horarios","tooltipPosition","top",1,"p-button-rounded","p-button-warning","button-custom",2,"background","yellow",3,"click"],["pButton","","pTooltip","Ver Asistencia","tooltipPosition","top",1,"p-button-rounded","p-button-primary","button-custom",2,"background","rgb(103, 87, 87)",3,"click"],["pButton","","pTooltip","Ver Temas","tooltipPosition","top",1,"p-button-rounded","p-button-secondary","button-custom",2,"background","green",3,"click"],["pButton","","pTooltip","Ver Evaluaciones","tooltipPosition","top",1,"p-button-rounded","p-button-help","button-custom",2,"background","rgb(24, 15, 67)",3,"click"],["pButton","","pTooltip","Ver Foros","tooltipPosition","top",1,"p-button-rounded","p-button-danger","button-custom",2,"background","rgb(15, 68, 110)",3,"click"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["alt","Foto","width","50",3,"src"],["colspan","23"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,da,2,0,"ng-template",0),t.YNc(2,fa,10,5,"ng-template",1),t.qZA())},dependencies:[x.Hq,b.jx,y.iA,C.o,f.s,M.u],styles:['@charset "UTF-8";.button-custom[_ngcontent-%COMP%]{width:1rem;height:3rem;background-color:#f0f8ff;background:#2c5f8b;color:#faebd7;border:none;border-radius:inherit;display:flex;justify-content:center;align-items:center;text-align:center}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.custom-swal-popup[_ngcontent-%COMP%], .swal2-popup[_ngcontent-%COMP%]{z-index:2147483647!important}body.swal2-shown[_ngcontent-%COMP%]:not(.swal2-no-backdrop):not(.swal2-toast-shown){z-index:2147483647!important}']})}return o})();const va=["filter"],xa=["dt1"];function Ca(o,r){1&o&&(t.TgZ(0,"span",2),t._uU(1,"Bandeja de Carreras T\xe9cnicas"),t.qZA())}function Ta(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(n){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(n))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.navigateToNuevo())}),t.qZA()()()}}function wa(o,r){1&o&&(t.TgZ(0,"tr")(1,"th",19)(2,"div",20),t._uU(3," C\xf3digo "),t.qZA()(),t.TgZ(4,"th",19)(5,"div",20),t._uU(6," Nombre de Carrera t\xe9cnica "),t.qZA()(),t.TgZ(7,"th",19)(8,"div"),t._uU(9," Configuraciones "),t.qZA()()())}function Za(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateTocurso(i))}),t.qZA(),t.TgZ(7,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDetalle(i))}),t.qZA(),t.TgZ(8,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToEdit(i))}),t.qZA(),t.TgZ(9,"button",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.navigateToDelete(i.id))}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.nombres)}}function ya(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"No se encontraron registros"),t.qZA()())}function Aa(o,r){1&o&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function Ea(o,r){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Ta,7,0,"ng-template",8),t.YNc(6,wa,10,0,"ng-template",0),t.YNc(7,Za,10,2,"ng-template",9),t.YNc(8,ya,3,0,"ng-template",10),t.YNc(9,Aa,3,0,"ng-template",11),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.carrerastecnicasList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let Da=(()=>{class o{constructor(e,a,n,i){this.dialogService=e,this.carrerasTecnicasService=a,this.router=n,this.helpersService=i,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){this.listarCarrerasTecnicas()}listarCarrerasTecnicas(){const e=this.helpersService.getDominioId();this.carrerasTecnicasService.getCarrerasTecnicas(e).subscribe(a=>{this.carrerastecnicasList=a,this.originalCarrerastecnicasList=[...a]})}navigateToNuevo(){console.log("nuevo"),this.ref=this.dialogService.open(ot,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(e=>{console.log("Cerrando dialogo"),this.listarCarrerasTecnicas()})}navigateAddCurso(e,a){this.ref=this.dialogService.open(U.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:e,total_creditos:a}}),this.ref.onClose.subscribe(n=>{this.listarCarrerasTecnicas()})}navigateTocurso(e){this.ref=this.dialogService.open(ba,{width:"80%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCarrerasTecnicas()})}navigateToDetalle(e){this.ref=this.dialogService.open(Nt,{width:"60%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCarrerasTecnicas()})}navigateToEdit(e){console.log("Editar",e),this.ref=this.dialogService.open(Pt,{width:"60%",styleClass:"custom-dialog-header",data:{data:e}}),this.ref.onClose.subscribe(a=>{this.listarCarrerasTecnicas()})}navigateToDelete(e){g().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo"}).then(a=>{a.isConfirmed&&(this.carrerasTecnicasService.eliminarCarreraTecnica(e).subscribe(n=>{g().fire("Eliminado","La carrera t\xe9cnica ha sido eliminada.","success")},n=>{g().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")}),this.listarCarrerasTecnicas())})}onGlobalFilter(e){const a=e.target.value.toLowerCase();console.log("Filtro Global",a),this.carrerastecnicasList=a?this.originalCarrerastecnicasList.filter(n=>n.codigo&&n.codigo.toLowerCase().includes(a)||n.nombres&&n.nombres.toLowerCase().includes(a)||n.cursos&&n.cursos.toLowerCase().includes(a)):[...this.originalCarrerastecnicasList]}editarMiembro(){}eliminarMiembro(){}agregarcurso(){}onRowSelect(e){console.log("Organo-colegaido-sect")}onRowUnselect(e){}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.xA),t.Y36(w.m),t.Y36(k.F0),t.Y36(N.$))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-bandeja-carreratecnica"]],viewQuery:function(a,n){if(1&a&&(t.Gf(va,5),t.Gf(xa,5)),2&a){let i;t.iGM(i=t.CRH())&&(n.filter=i.first),t.iGM(i=t.CRH())&&(n.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar carreras t\xe9cnicas",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],[1,"flex","justify-content-between","align-items-center"],["pButton","","icon","pi pi-briefcase","title","Agregar Curso",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-eye","title","Detalle",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["colspan","8"],["colspan","4"]],template:function(a,n){1&a&&(t.TgZ(0,"p-panel"),t.YNc(1,Ca,2,0,"ng-template",0),t.YNc(2,Ea,10,5,"ng-template",1),t.qZA())},dependencies:[x.Hq,b.jx,y.iA,C.o,f.s],styles:[".button-full-width[_ngcontent-%COMP%]{width:100%}"]})}return o})(),qa=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[k.Bz.forChild([{path:"",component:Da}]),k.Bz]})}return o})(),Fa=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[E.ez,qa,c.u5,B._8,y.U$,Zt.Xt,x.hJ,wt.JH,C.j,X.A,vt.KZ,xt.T,Ct.q4,O.kW,f.Q,Tt.q,z.EV,R.n,K.O,M.z,z.EV,f.Q,y.U$,R.n,yt.D,K.O,tt.Z_,et.S,d.DL,At.aw,c.UX,at.z,nt.nD]})}return o})()}}]);