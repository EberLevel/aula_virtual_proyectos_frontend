"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[8786],{6834:(it,B,s)=>{s.d(B,{j:()=>z});var t=s(8926),E=s(5118),n=s(6223),H=s(375),i=s(7649),P=s(5219),x=s(3714),Z=s(1230);function G(O,K){1&O&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Foro"),t.qZA())}function V(O,K){if(1&O){const w=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(w);const L=t.oxw();return t.KtG(L.saveForo())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"input",8),t.TgZ(6,"label",9),t._uU(7,"Titulo"),t.qZA()()(),t.TgZ(8,"div",6)(9,"span",7),t._UZ(10,"input",10),t.TgZ(11,"label",9),t._uU(12,"Descripcion"),t.qZA()()()()(),t.TgZ(13,"div",4)(14,"div",5)(15,"div",11)(16,"span",7),t._UZ(17,"input",12),t.TgZ(18,"label",9),t._uU(19,"Fecha Inicio"),t.qZA()()(),t.TgZ(20,"div",11)(21,"span",7),t._UZ(22,"input",13),t.TgZ(23,"label",9),t._uU(24,"Fecha Fin"),t.qZA()()()()(),t.TgZ(25,"div",14)(26,"button",15),t._uU(27,"Guardar"),t.qZA()()()}if(2&O){const w=t.oxw();t.Q6J("formGroup",w.foroForm)}}let z=(()=>{class O{constructor(w,I,L,A,R){this.ref=w,this.fb=I,this.config=L,this.helperService=A,this.foroService=R,this.foroForm=this.fb.group({titulo:[""],descripcion:[""],fechaInicio:[""],fechaFin:[""]})}saveForo(){if(this.foroForm.valid){console.log(this.config.data),this.ref.close(this.foroForm.value);const w={nombre:this.foroForm.get("titulo")?.value,descripcion:this.foroForm.get("descripcion")?.value,fecha_inicio:this.helperService.formatDate(this.foroForm.get("fechaInicio")?.value),fecha_fin:this.helperService.formatDate(this.foroForm.get("fechaFin")?.value),id_curso:this.config.data.data.id,domain_id:this.helperService.getDominioId()};this.foroService.saveForo(w).subscribe(I=>{console.log(I)})}}static#t=this.\u0275fac=function(I){return new(I||O)(t.Y36(E.E7),t.Y36(n.qu),t.Y36(E.S),t.Y36(H.$),t.Y36(i.f))};static#e=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-crear-foro-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","titulo"],[1,"required"],["type","text","pInputText","","formControlName","descripcion"],[1,"field","col-12","md:6"],["type","date","pInputText","","formControlName","fechaInicio"],["type","date","pInputText","","formControlName","fechaFin"],[1,"grid","grid-cols-1","gap-4"],["type","submit",1,"btn","btn-primary"]],template:function(I,L){1&I&&(t.TgZ(0,"p-panel"),t.YNc(1,G,2,0,"ng-template",0),t.YNc(2,V,28,1,"ng-template",1),t.qZA())},dependencies:[P.jx,n._Y,n.Fj,n.JJ,n.JL,x.o,Z.s,n.sg,n.u]})}return O})()},4617:(it,B,s)=>{s.d(B,{M:()=>_});var t=s(6223),E=s(5932),n=s(3023),H=s(6111),i=s(8926),P=s(5118),x=s(5516),Z=s(9862);let G=(()=>{class p{constructor(h){this.http=h,this.baseUrl=`${x.N.API_BASE}`,this.urlparametro=`${x.N.API_BASE}`}saveHorario(h){return this.http.post(`${this.baseUrl}horario`,h)}getHorario(h){return this.http.get(`${this.baseUrl}horario/${h}`)}static#t=this.\u0275fac=function(y){return new(y||p)(i.LFG(Z.eN))};static#e=this.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var V=s(5700),z=s(375),O=s(6814),K=s(8057),w=s(5219),I=s(6760),L=s(707),A=s(3965),R=s(1230),b=s(3530),S=s(2495);function Y(p,M){if(1&p&&(i.TgZ(0,"span",2),i._uU(1),i.qZA()),2&p){const h=i.oxw();i.xp6(1),i.hij("Seleccionar Horario ",h.curso.nombre,"")}}function j(p,M){if(1&p){const h=i.EpF();i.TgZ(0,"div")(1,"p-checkbox",23),i.NdJ("ngModelChange",function(T){const Q=i.CHM(h).index,$=i.oxw(3);return i.KtG($.selectedDays[Q]=T)}),i.qZA()()}if(2&p){const h=M.$implicit,y=M.index,T=i.oxw(3);i.xp6(1),i.Q6J("ngModel",T.selectedDays[y])("binary",!0)("label",h)}}function k(p,M){if(1&p){const h=i.EpF();i.TgZ(0,"div",14)(1,"div",15)(2,"label",16),i._uU(3,"Fecha de inicio:"),i.qZA(),i.TgZ(4,"p-calendar",17),i.NdJ("ngModelChange",function(T){i.CHM(h);const F=i.oxw(2);return i.KtG(F.replicateStartDate=T)}),i.qZA()(),i.TgZ(5,"div",15)(6,"label",18),i._uU(7,"Fecha de fin:"),i.qZA(),i.TgZ(8,"p-calendar",19),i.NdJ("ngModelChange",function(T){i.CHM(h);const F=i.oxw(2);return i.KtG(F.replicateEndDate=T)}),i.qZA()(),i.TgZ(9,"div",20)(10,"label"),i._uU(11,"D\xedas de la semana a replicar:"),i.qZA(),i.TgZ(12,"div",21),i.YNc(13,j,2,3,"div",22),i.qZA()()()}if(2&p){const h=i.oxw(2);i.xp6(4),i.Q6J("ngModel",h.replicateStartDate),i.xp6(4),i.Q6J("ngModel",h.replicateEndDate),i.xp6(5),i.Q6J("ngForOf",h.daysOfWeek)}}function tt(p,M){if(1&p){const h=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(h);const T=i.oxw(2);return i.KtG(T.replicateHorario())}),i.qZA(),i.TgZ(1,"button",25),i.NdJ("click",function(){i.CHM(h);const T=i.oxw(2);return i.KtG(T.showReplicateDialog=!1)}),i.qZA()}}const v=function(){return{width:"100%"}},J=function(){return{width:"50vw",height:"auto"}};function l(p,M){if(1&p){const h=i.EpF();i.TgZ(0,"form",3)(1,"div",4)(2,"label",5),i._uU(3,"Seleccionar Aula:"),i.qZA(),i.TgZ(4,"p-dropdown",6),i.NdJ("onChange",function(T){i.CHM(h);const F=i.oxw();return i.KtG(F.onAulaChange(T))}),i.qZA()(),i.TgZ(5,"div",4),i._UZ(6,"full-calendar",7),i.qZA(),i.TgZ(7,"div",8)(8,"button",9),i.NdJ("click",function(){i.CHM(h);const T=i.oxw();return i.KtG(T.saveHorario())}),i.qZA(),i.TgZ(9,"button",10),i.NdJ("click",function(T){i.CHM(h);const F=i.oxw();return i.KtG(F.closeModal(T))}),i.qZA()()(),i.TgZ(10,"p-dialog",11,12),i.NdJ("visibleChange",function(T){i.CHM(h);const F=i.oxw();return i.KtG(F.showReplicateDialog=T)})("onHide",function(){i.CHM(h);const T=i.oxw();return i.KtG(T.showReplicateDialog=!1)}),i.YNc(12,k,14,3,"ng-template",1),i.YNc(13,tt,2,0,"ng-template",13),i.qZA()}if(2&p){const h=i.oxw();i.Q6J("formGroup",h.parametroForm),i.xp6(4),i.Akn(i.DdM(12,v)),i.Q6J("options",h.aulas),i.xp6(2),i.Q6J("options",h.calendarOptions),i.xp6(2),i.Q6J("disabled",!h.parametroForm.valid),i.xp6(2),i.Akn(i.DdM(13,J)),i.Q6J("draggable",!1)("visible",h.showReplicateDialog)("modal",!0)("header","Replicar Horario")}}let _=(()=>{class p{constructor(h,y,T,F,Q,$){this.fb=h,this.ref=y,this.config=T,this.horarioService=F,this.aulaService=Q,this.helpersService=$,this.loading=!1,this.aulas=[],this.aulaDisponibilidad=[],this.cursoHorarios=[],this.domain_id=1,this.showReplicateDialog=!1,this.replicateStartDate=new Date,this.replicateEndDate=new Date,this.daysOfWeek=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],this.selectedDays=[!0,!0,!0,!0,!0,!1,!1],this.domain_id=this.helpersService.getDominioId(),this.curso=this.config.data.data,this.parametroForm=this.fb.group({aula_id:["",t.kI.required]}),this.calendarOptions={plugins:[E.Z,n.Z,H.ZP],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:this.handleDateSelect.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this)}}ngOnInit(){this.getAulas(),this.getCursoHorarios()}getAulas(){this.aulaService.getAulas(this.domain_id).subscribe(h=>{this.aulas=Array.isArray(h.data)?h.data:[]},h=>{this.helpersService.showErrorMessage("Error al obtener las aulas")})}onAulaChange(h){this.getAulaDisponibilidad(h.value),this.getCursoHorarios()}getAulaDisponibilidad(h){this.aulaService.getDisponibilidad(h).subscribe(y=>{this.aulaDisponibilidad=y.data,this.updateCalendar()},y=>{this.helpersService.showErrorMessage("Error al obtener la disponibilidad del aula")})}getCursoHorarios(){this.horarioService.getHorario(this.curso.id).subscribe(h=>{this.cursoHorarios=h,this.updateCalendar()},h=>{this.helpersService.showErrorMessage("Error al obtener los horarios del curso")})}updateCalendar(){const h=[...this.aulaDisponibilidad.map(y=>{let T=new Date(`${y.fecha}T${y.hora_inicio}`),F=new Date(`${y.fecha}T${y.hora_fin}`);return console.log("Disponibilidad:",T,"-",F,y.id,"aula_id:",y.aula_id),{start:T,end:F,title:"Disponibilidad",backendId:y.id,backgroundColor:"green",borderColor:"green",display:"background",allDay:!1,aula_id:y.aula_id,availability_id:y.id}}),...this.cursoHorarios.map(y=>({title:"Horario del curso",start:new Date(`${y.fecha_inicio}T${y.hora_inicio}`),end:new Date(`${y.fecha_fin}T${y.hora_fin}`),backgroundColor:"blue",allDay:!1}))];this.calendarOptions={...this.calendarOptions,events:h},console.log("Events:",h)}handleDateSelect(h){const{start:y,end:T}=h;if(console.log("Fecha seleccionada:",y,T),this.isWithinAulaDisponibilidad(y,T)){const at={title:"Nuevo horario",start:y,end:T,backgroundColor:"blue",extendedProps:{aula_id:this.parametroForm.value.aula_id,availability_id:this.getAvailabilityId(y,T)}};console.log("Nuevo evento creado:",at),this.calendarOptions.events=[...this.calendarOptions.events,at]}else this.helpersService.showErrorMessage("El horario seleccionado no est\xe1 dentro de la disponibilidad del aula")}getAvailabilityId(h,y){const T=this.aulaDisponibilidad.find(F=>h>=new Date(`${F.fecha}T${F.hora_inicio}`)&&y<=new Date(`${F.fecha}T${F.hora_fin}`));return console.log("Disponibilidad encontrada:",T),T?.id}handleEventClick(h){this.selectedEvent=h.event,this.replicateStartDate=new Date(this.selectedEvent.start),this.replicateEndDate=new Date(this.selectedEvent.start),this.replicateEndDate.setMonth(this.replicateEndDate.getMonth()+1),this.showReplicateDialog=!0}handleEvents(h){}isWithinAulaDisponibilidad(h,y){const T=h.toISOString().split("T")[0];return this.aulaDisponibilidad.filter(Q=>Q.fecha===T).some(Q=>{const $=new Date(`${Q.fecha}T${Q.hora_inicio}`),at=new Date(`${Q.fecha}T${Q.hora_fin}`);return console.log("Disponibilidad:",$,"-",at),console.log("Nuevo horario:",h,"-",y),h>=$&&y<=at})}replicateHorario(){if(this.selectedEvent&&this.replicateStartDate&&this.replicateEndDate){console.log("Evento seleccionado para replicar:",this.selectedEvent);const h=[],y=this.selectedEvent.end.getTime()-this.selectedEvent.start.getTime();for(let F=new Date(this.replicateStartDate);F<=this.replicateEndDate;F.setDate(F.getDate()+1)){const Q=F.getDay();if(this.selectedDays[0===Q?6:Q-1]){const $=new Date(F);$.setHours(this.selectedEvent.start.getHours(),this.selectedEvent.start.getMinutes(),0,0);const at=new Date($.getTime()+y);if(this.isWithinAulaDisponibilidad($,at)){const dt={id:Math.floor(1e4*Math.random()),title:"Horario replicado",start:$,end:at,backgroundColor:"blue",extendedProps:{aula_id:this.selectedEvent.extendedProps?.aula_id,availability_id:this.getAvailabilityId($,at)}};console.log("Nuevo evento replicado:",dt),h.push(dt)}}}const T=[...this.calendarOptions.events.filter(F=>"Disponibilidad"===F.title||"background"===F.display),...h];console.log("Eventos actualizados:",T),this.calendarOptions={...this.calendarOptions,events:T},this.showReplicateDialog=!1}}saveHorario(){if(this.parametroForm.valid){const h=this.calendarOptions.events.filter(T=>"Horario del curso"!==T.title&&!T.display).map(T=>({day_id:T.start.getDay(),fecha_inicio:T.start.toISOString().split("T")[0],fecha_fin:T.end.toISOString().split("T")[0],hora_inicio:T.start.toTimeString().split(" ")[0],hora_fin:T.end.toTimeString().split(" ")[0],aula_id:T.aula_id,availability_id:T.extendedProps.availability_id,curso_id:this.curso.id,docente_id:this.curso.docente_id,domain_id:this.domain_id})),y={curso_id:this.curso.id,aula_id:this.parametroForm.value.aula_id,horarios:h};this.loading=!0,this.horarioService.saveHorario(y).subscribe(T=>{this.helpersService.showSuccessMessage("Horario guardado correctamente"),this.ref?.close()},T=>{this.helpersService.showErrorMessage("Error al guardar el horario")}).add(()=>{this.loading=!1})}else this.helpersService.showErrorMessage("Por favor, complete todos los campos requeridos")}closeModal(h){h.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(y){return new(y||p)(i.Y36(t.qu),i.Y36(P.E7),i.Y36(P.S),i.Y36(G),i.Y36(V.e),i.Y36(z.$))};static#e=this.\u0275cmp=i.Xpm({type:p,selectors:[["app-seleccionar-horario-carrera-tecnica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"mb-4"],["for","aula",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","aula_id","optionLabel","nombre","optionValue","id","placeholder","Seleccione un aula",3,"options","onChange"],[3,"options"],[1,"flex","justify-center","mt-4"],["pButton","","type","button","label","Guardar",1,"p-button-success","mr-2",3,"disabled","click"],["pButton","","type","button","label","Cancelar",1,"p-button-secondary",3,"click"],[3,"draggable","visible","modal","header","visibleChange","onHide"],["dd",""],["pTemplate","footer"],[1,"grid"],[1,"col-6"],["for","start",1,"block","mb-2"],["dateFormat","dd-mm-yy","inputId","start","appendTo","body",3,"ngModel","ngModelChange"],["for","end",1,"block","mb-2"],["dateFormat","dd-mm-yy","inputId","end","appendTo","body",3,"ngModel","ngModelChange"],[1,"col-12","mt-3"],[1,"flex","flex-wrap","gap-3","mt-2"],[4,"ngFor","ngForOf"],[3,"ngModel","binary","label","ngModelChange"],["pButton","","label","Replicar","icon","pi pi-check",3,"click"],["pButton","","label","Cancelar","icon","pi pi-times",3,"click"]],template:function(y,T){1&y&&(i.TgZ(0,"p-panel"),i.YNc(1,Y,2,1,"ng-template",0),i.YNc(2,l,14,14,"ng-template",1),i.qZA())},dependencies:[O.sg,K.XZ,w.jx,t._Y,t.JJ,t.JL,t.On,I.f,L.Hq,A.Lt,R.s,b.V,t.sg,t.u,S.w]})}return p})()},9062:(it,B,s)=>{s.d(B,{B:()=>L});var t=s(8926),E=s(5118),n=s(9862),H=s(5516);let i=(()=>{class A{constructor(b,S,Y){this.http=b,this.httpClientFormData=S,this.handler=Y,this.baseUrl=`${H.N.API_BASE}`,this.urlparametro=`${H.N.API_BASE}`,this.httpOptions={headers:new n.WM({"Content-Type":"application/json"})},this.httpClientFormData=new n.eN(this.handler)}getAsistenciaCurso(b){return this.http.post(`${this.baseUrl}asistencia-curso`,b)}updateAsistenciaCurso(b){return this.http.post(`${this.baseUrl}asistencia-curso-marcar`,b)}static#t=this.\u0275fac=function(S){return new(S||A)(t.LFG(n.eN),t.LFG(n.eN),t.LFG(n.jN))};static#e=this.\u0275prov=t.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();var P=s(6814),x=s(5219),Z=s(6223),G=s(9552),V=s(1230);function z(A,R){if(1&A&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&A){const b=t.oxw();t.xp6(1),t.hij("Asistencia ",b.cursoNombre,"")}}function O(A,R){if(1&A&&(t.TgZ(0,"option",12),t._uU(1),t.qZA()),2&A){const b=R.$implicit;t.Q6J("value",b),t.xp6(1),t.Oqu(b)}}function K(A,R){1&A&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",13),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",13),t._uU(6,"Asistio"),t.qZA()())}function w(A,R){if(1&A){const b=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"input",14),t.NdJ("change",function(Y){const k=t.CHM(b).$implicit,tt=t.oxw(2);return t.KtG(tt.onCheckAsistencia(Y,k))}),t.qZA()()()}if(2&A){const b=R.$implicit;t.xp6(2),t.Oqu(b.codigo),t.xp6(2),t.Oqu(b.nombres),t.xp6(2),t.Q6J("checked",b.is_marked)}}function I(A,R){if(1&A){const b=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"Fecha:"),t.qZA(),t.TgZ(5,"select",7),t.NdJ("change",function(Y){t.CHM(b);const j=t.oxw();return t.KtG(j.onFilterDateChange(Y))}),t.YNc(6,O,2,2,"option",8),t.qZA(),t.TgZ(7,"p-table",9,10),t.YNc(9,K,7,0,"ng-template",0),t.YNc(10,w,7,3,"ng-template",11),t.qZA()()()()}if(2&A){const b=t.oxw();t.xp6(6),t.Q6J("ngForOf",b.fechas),t.xp6(1),t.Q6J("value",b.asistenciaCursoList)("rows",10)("loading",b.loading)("rowHover",!0)}}let L=(()=>{class A{constructor(b,S,Y){this.ref=b,this.config=S,this.asistenciaService=Y,this.loading=!1,this.asistenciaCursoList=[],this.fechas=[],this.selectedFecha="",this.initialLoad=!0,this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.docente_id=this.config.data.docente_id,this.cursoNombre=this.config.data.cursoNombre,this.fechas=[],this.selectedFecha="2021-09-01",this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha,!0)}getAsistenciaCurso(b,S,Y,j=!1){console.log("domainId",b),this.loading=!0,this.asistenciaService.getAsistenciaCurso({domain_id:b,curso_id:S,fecha:Y}).subscribe(tt=>{const v=new Date(tt.horarios[0].fecha_inicio),J=new Date(tt.horarios[0].fecha_fin),l=[];tt.horarios.forEach(p=>{l.includes(p.day_id)||l.push(p.day_id)});const _=this.generateDatesWithDaysAndRange(v,J,l);this.fechas=_,j?this.fechas.length>0&&(this.selectedFecha=this.fechas[0],this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)):(this.loading=!1,this.asistenciaCursoList=tt.participantes)})}onCheckAsistencia(b,S){const Y={domain_id:this.domainId??1,curso_id:this.curso,alumno_id:S.alumno_id,fecha:this.selectedFecha,asistio:b.target.checked,docente_id:this.docente_id};console.log("data",Y),this.asistenciaService.updateAsistenciaCurso(Y).subscribe(()=>{})}generateDatesWithDaysAndRange(b,S,Y){const j=[],k=new Date(b);for(;k<=S;)Y.includes(k.getDay())&&j.push(k.toISOString().split("T")[0]),k.setDate(k.getDate()+1);return j}onFilterDateChange(b){this.selectedFecha=b.target.value,this.getAsistenciaCurso(this.domainId??1,this.curso,this.selectedFecha)}static#t=this.\u0275fac=function(S){return new(S||A)(t.Y36(E.E7),t.Y36(E.S),t.Y36(i))};static#e=this.\u0275cmp=t.Xpm({type:A,selectors:[["app-marcar-asistencia-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["for","fechaFilter"],["id","fechaFilter",3,"change"],[3,"value",4,"ngFor","ngForOf"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","body"],[3,"value"],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"checked","change"]],template:function(S,Y){1&S&&(t.TgZ(0,"p-panel"),t.YNc(1,z,2,1,"ng-template",0),t.YNc(2,I,11,5,"ng-template",1),t.qZA())},dependencies:[P.sg,x.jx,Z.YN,Z.Kr,G.iA,V.s]})}return A})()},4671:(it,B,s)=>{s.d(B,{M:()=>L});var t=s(73),E=s(6223),n=s(3519),H=s.n(n),i=s(8926),P=s(5118),x=s(4067),Z=s(8007),G=s(375),V=s(5219),z=s(707),O=s(3714),K=s(1230);function w(A,R){1&A&&(i.TgZ(0,"span",2),i._uU(1,"Registrar Carreras T\xe9cnicas"),i.qZA())}function I(A,R){if(1&A){const b=i.EpF();i.TgZ(0,"form",3),i.NdJ("ngSubmit",function(){i.CHM(b);const Y=i.oxw();return i.KtG(Y.guardarParametro())}),i.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),i._UZ(5,"input",8),i.TgZ(6,"label",9),i._uU(7,"C\xf3digo"),i.qZA()()(),i.TgZ(8,"div",6)(9,"span",7),i._UZ(10,"input",10),i.TgZ(11,"label",9),i._uU(12,"Nombre de Carrera"),i.qZA()()()()(),i.TgZ(13,"div",4)(14,"div",11)(15,"div",12),i._UZ(16,"button",13),i.TgZ(17,"button",14),i.NdJ("click",function(Y){i.CHM(b);const j=i.oxw();return i.KtG(j.closeModal(Y))}),i.qZA()()()()()}if(2&A){const b=i.oxw();i.Q6J("formGroup",b.parametroForm)}}let L=(()=>{class A{constructor(b,S,Y,j,k,tt,v){this.fb=b,this.ref=S,this.cdr=Y,this.config=j,this.parametroService=k,this.router=tt,this.helpersService=v,this.loading=!1,this.parametroDatos=new t.v,this.parametro=new t.v,this.mostrarCursos=!1,this.parametroForm=this.fb.group({codigo:["",E.kI.required],nombres:["",E.kI.required],domain_id:[this.helpersService.getDominioId()]})}guardarParametro(){this.parametroForm.valid?(console.log("Formulario v\xe1lido",this.parametroForm.value),this.parametroService.guardarCarreraTecnica(this.parametroForm.value).subscribe(b=>{this.ref?.close(),H().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},b=>{console.error("Error al guardar el parametro",b)})):console.error("Formulario inv\xe1lido")}closeModal(b){b.preventDefault(),this.ref?.close()}static#t=this.\u0275fac=function(S){return new(S||A)(i.Y36(E.qu),i.Y36(P.E7),i.Y36(i.sBO),i.Y36(P.S),i.Y36(x.m),i.Y36(Z.F0),i.Y36(G.$))};static#e=this.\u0275cmp=i.Xpm({type:A,selectors:[["app-reg-carrerastecnicas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","","formControlName","codigo"],[1,"required"],["type","text","pInputText","","formControlName","nombres"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(S,Y){1&S&&(i.TgZ(0,"p-panel"),i.YNc(1,w,2,0,"ng-template",0),i.YNc(2,I,18,1,"ng-template",1),i.qZA())},dependencies:[V.jx,E._Y,E.Fj,E.JJ,E.JL,z.Hq,O.o,K.s,E.sg,E.u]})}return A})()},2504:(it,B,s)=>{s.d(B,{R:()=>z});var t=s(8926),E=s(5118),n=s(4067),H=s(5219),i=s(9552),P=s(1230);function x(O,K){if(1&O&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&O){const w=t.oxw();t.xp6(1),t.hij("Seleccionar Alumnos para ",w.cursoNombre,"")}}function Z(O,K){1&O&&(t.TgZ(0,"tr")(1,"th",9),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",9),t._uU(4,"Alumno"),t.qZA(),t.TgZ(5,"th",9),t._uU(6,"Celular"),t.qZA(),t.TgZ(7,"th",9),t._uU(8,"Correo"),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Seleccionar"),t.qZA()())}function G(O,K){if(1&O){const w=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"input",10),t.NdJ("change",function(L){const R=t.CHM(w).$implicit,b=t.oxw(2);return t.KtG(b.onSelectAlumno(L,R))}),t.qZA()()()}if(2&O){const w=K.$implicit;t.xp6(2),t.Oqu(w.codigo),t.xp6(2),t.Oqu(w.nombres),t.xp6(2),t.Oqu(w.celular),t.xp6(2),t.Oqu(w.email),t.xp6(2),t.Q6J("checked",w.is_participant)}}function V(O,K){if(1&O&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Z,11,0,"ng-template",0),t.YNc(6,G,11,5,"ng-template",8),t.qZA()()()()),2&O){const w=t.oxw();t.xp6(3),t.Q6J("value",w.cursoAlumnoList)("rows",10)("loading",w.loading)("rowHover",!0)}}let z=(()=>{class O{constructor(w,I,L){this.ref=w,this.config=I,this.alumnoService=L,this.loading=!1,this.cursoAlumnoList=[],this.cursoNombre="",this.curso=this.config.data.cursoId,this.domainId=this.config.data.domainId,this.cursoNombre=this.config.data.cursoNombre,this.getAlumnosCurso(this.domainId??1,this.curso)}getAlumnosCurso(w,I){console.log("domainId",w),this.loading=!0,this.alumnoService.getAlumnosCurso(w,I).subscribe(L=>{this.cursoAlumnoList=L,this.loading=!1})}onSelectAlumno(w,I){this.alumnoService.updateAlumnoCurso({domain_id:this.domainId??1,curso_id:this.curso,alumno_id:I.id,is_participant:w.target.checked}).subscribe(A=>{this.getAlumnosCurso(this.domainId,this.curso)})}static#t=this.\u0275fac=function(I){return new(I||O)(t.Y36(E.E7),t.Y36(E.S),t.Y36(n.m))};static#e=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-seleccionar-alumnos-curso"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover"],["dt1",""],["pTemplate","body"],["scope","col",2,"min-width","10rem"],["type","checkbox",3,"checked","change"]],template:function(I,L){1&I&&(t.TgZ(0,"p-panel"),t.YNc(1,x,2,1,"ng-template",0),t.YNc(2,V,7,4,"ng-template",1),t.qZA())},dependencies:[H.jx,i.iA,P.s]})}return O})()},5258:(it,B,s)=>{s.d(B,{a:()=>Tt});var t=s(8926),E=s(3519),n=s.n(E),H=s(995),i=s(73),P=s(6223),x=s(5118),Z=s(4067),G=s(375),V=s(6593),z=s(8672),O=s(6814),K=s(707),w=s(5219),I=s(3714),L=s(1230),A=s(3259),R=s(9537);function b(m,U){1&m&&(t.TgZ(0,"span",2),t._uU(1," Responder Pregunta "),t.qZA())}function S(m,U){1&m&&t._UZ(0,"ngx-spinner",5)}function Y(m,U){if(1&m&&(t.TgZ(0,"div",14)(1,"span",15)(2,"div",16),t._UZ(3,"span",17),t.qZA()()()),2&m){const c=t.oxw(3);t.xp6(3),t.Q6J("innerHTML",c.preguntaDocenteValue,t.oJD)}}function j(m,U){1&m&&(t.TgZ(0,"div",14)(1,"span",15),t._UZ(2,"input",18),t.TgZ(3,"label",19),t._uU(4,"Formulaci\xf3n de Pregunta por Docente"),t.qZA()()())}function k(m,U){if(1&m){const c=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"input",24),t.NdJ("change",function(){const D=t.CHM(c).index,q=t.oxw(4);return t.KtG(q.onRadioChange(D))}),t.qZA(),t.TgZ(3,"div",25),t._UZ(4,"input",26),t.qZA()()()}if(2&m){const c=U.index;t.Q6J("formGroupName",c),t.xp6(2),t.Q6J("value",!0),t.xp6(2),t.Q6J("id","alternativa-"+c)}}function tt(m,U){if(1&m&&(t.TgZ(0,"div",14)(1,"div",20),t.YNc(2,k,5,3,"div",21),t.qZA()()),2&m){const c=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",c.getAlternativasControls())}}const v=function(){return{height:"90px"}};function J(m,U){1&m&&(t.TgZ(0,"div",14)(1,"span",15)(2,"div",8)(3,"div",27)(4,"label",28),t._uU(5,"Ingrese la respuesta"),t.qZA(),t._UZ(6,"p-editor",29),t.qZA()()()()),2&m&&(t.xp6(6),t.Akn(t.DdM(2,v)))}function l(m,U){if(1&m){const c=t.EpF();t.TgZ(0,"form",6),t.NdJ("ngSubmit",function(){t.CHM(c);const f=t.oxw(2);return t.KtG(f.guardarPregunta())}),t.TgZ(1,"div",7)(2,"div",8),t.YNc(3,Y,4,1,"div",9),t.YNc(4,j,5,0,"div",9),t.YNc(5,tt,3,1,"div",9),t.YNc(6,J,7,3,"div",9),t.qZA()(),t.TgZ(7,"div",7)(8,"div",10)(9,"div",11),t._UZ(10,"button",12),t.TgZ(11,"button",13),t.NdJ("click",function(f){t.CHM(c);const D=t.oxw(2);return t.KtG(D.closeModal(f))}),t.qZA()()()()()}if(2&m){const c=t.oxw(2);let g,f,D,q;t.Q6J("formGroup",c.preguntaForm),t.xp6(3),t.Q6J("ngIf",67===(null==c.preguntaForm||null==(g=c.preguntaForm.get("tipoPregunta"))?null:g.value)),t.xp6(1),t.Q6J("ngIf",66===(null==c.preguntaForm||null==(f=c.preguntaForm.get("tipoPregunta"))?null:f.value)),t.xp6(1),t.Q6J("ngIf",66===(null==c.preguntaForm||null==(D=c.preguntaForm.get("tipoPregunta"))?null:D.value)),t.xp6(1),t.Q6J("ngIf",67===(null==c.preguntaForm||null==(q=c.preguntaForm.get("tipoPregunta"))?null:q.value))}}function _(m,U){if(1&m&&(t.YNc(0,S,1,0,"ngx-spinner",3),t.YNc(1,l,12,5,"form",4)),2&m){const c=t.oxw();t.Q6J("ngIf",c.loading),t.xp6(1),t.Q6J("ngIf",!c.loading)}}let p=(()=>{class m{constructor(c,g,f,D,q,Lt,Ut){this.fb=c,this.ref=g,this.config=f,this.parametroService=D,this.helpersService=q,this.sanitizer=Lt,this.spinner=Ut,this.loading=!1,this.parametroDatos=new i.v,this.parametro=new i.v,this.mostrarCursos=!1,this.tiposPregunta=[],this.sanitizePregunta="",this.alumnoId=null,this.spinner.show(),this.loading=!0;const yt=localStorage.getItem("user");if(yt){const ot=JSON.parse(yt);this.alumnoId=ot.alumno_id||1}else console.error("No se encontr\xf3 el objeto user en el localStorage");this.preguntaForm=this.fb.group({tipoPregunta:["",P.kI.required],valor_pregunta:["",P.kI.required],pregunta_docente:["",P.kI.required],alternativas:this.fb.array([]),respuesta_alumno:["",P.kI.required]})}ngOnInit(){this.idEvaluacion=this.config.data.idEvaluacion,this.acciones=this.config.data.acciones,this.sanitizePregunta=this.sanitizer.bypassSecurityTrustHtml(this.config.data.data.pregunta_docente),this.preguntaDocenteValue=this.config.data.data.pregunta_docente,Promise.all([this.listarDePregunta()]).then(()=>{("ver"===this.acciones||"actualizar"===this.acciones||"alumno"===this.acciones||"docente"===this.acciones)&&(this.preguntaForm.patchValue({tipoPregunta:this.config.data.data.tipo_de_evaluacion_id,valor_pregunta:this.config.data.data.valor_pregunta,pregunta_docente:this.preguntaDocenteValue.changingThisBreaksApplicationSecurity,respuesta_alumno:null}),this.setAlternativasv2(this.config.data.data.alternativas)),this.loading=!1})}setAlternativasv2(c){const g=this.preguntaForm.get("alternativas");c.forEach(f=>{g.push(this.fb.group({texto:[f.texto,P.kI.required],respuesta_correcta_seleccionada:[!1,P.kI.required]}))})}onRadioChange(c){this.preguntaForm.get("alternativas").controls.forEach((f,D)=>{const q=f.get("respuesta_correcta_seleccionada");q&&q.setValue(D===c)})}listarDePregunta(){return new Promise((c,g)=>{this.parametroService.getTipoDePregunta().subscribe(f=>{console.log("Lista de getTipoDePregunta",f),this.tiposPregunta=f,c()},f=>g(f))})}setAlternativas(c){const g=c.map(D=>this.fb.group(D)),f=this.fb.array(g);this.preguntaForm.setControl("alternativas",f)}guardarRespuestaCorrecta(){this.preguntaForm.value.alternativas.findIndex(f=>!0===f.respuesta_correcta_seleccionada)}setRespuestaAlumno(){const c=this.preguntaForm.value.alternativas.findIndex(g=>!0===g.respuesta_correcta_seleccionada)+1;this.preguntaForm.get("respuesta_alumno")?.setValue(c)}guardarPregunta(){if(console.log(this.preguntaForm),66===this.config.data.data.tipo_de_evaluacion_id&&this.setRespuestaAlumno(),this.preguntaForm.valid){const c={alumno_id:this.alumnoId,pregunta_id:this.config.data.data.id,respuesta:this.preguntaForm.value.respuesta_alumno,evaluacion_id:this.idEvaluacion,domain_id:this.helpersService.getDominioId(),estado_id:1};this.parametroService.guardarPreguntaAlumno(c).subscribe(g=>{this.ref?.close(),n().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},g=>{console.error("Error al guardar el parametro",g)})}else console.error("Formulario inv\xe1lido")}closeModal(c){c.preventDefault(),this.ref?.close()}getAlternativasControls(){return this.preguntaForm.get("alternativas").controls}static#t=this.\u0275fac=function(g){return new(g||m)(t.Y36(P.qu),t.Y36(x.E7),t.Y36(x.S),t.Y36(Z.m),t.Y36(G.$),t.Y36(V.H7),t.Y36(z.t2))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-corregir-preguntas-unica"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],["bdColor","rgba(0,0,0,0.5)","size","large","color","#fff","type","ball-spin",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["bdColor","rgba(0,0,0,0.5)","size","large","color","#fff","type","ball-spin"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],["class","col-12",4,"ngIf"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-check","label","Responder","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],[1,"col-12"],[1,"p-float-label"],[1,"centered-container"],["pTooltip","Responder pregunta","tooltipPosition","top",3,"innerHTML"],["type","text","pInputText","","formControlName","pregunta_docente","readonly",""],[1,"required"],["formArrayName","alternativas"],["class","col-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12",3,"formGroupName"],[1,"alternativa-container"],["type","radio","name","respuesta_correcta_seleccionada","formControlName","respuesta_correcta_seleccionada",3,"value","change"],[1,"field","col-12"],["type","text","pInputText","","formControlName","texto","readonly","",3,"id"],[1,"field","col-12","md:col-12"],["for",""],["formControlName","respuesta_alumno"]],template:function(g,f){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,b,2,0,"ng-template",0),t.YNc(2,_,2,2,"ng-template",1),t.qZA())},dependencies:[O.sg,O.O5,P._Y,P.Fj,P._,P.JJ,P.JL,K.Hq,w.jx,I.o,L.s,A.u,R.ML,P.sg,P.u,P.x0,P.CE,z.Ro]})}return m})();var M=s(9552);function h(m,U){1&m&&(t.TgZ(0,"span",2),t._uU(1,"Lista de preguntas por corregir"),t.qZA())}function y(m,U){1&m&&(t.TgZ(0,"tr")(1,"th",11),t._uU(2,"Preguntas"),t.qZA(),t.TgZ(3,"th",11),t._uU(4,"Estado"),t.qZA()())}function T(m,U){if(1&m){const c=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",12),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.corregirPregunta(D))}),t.qZA()()()}}function F(m,U){1&m&&(t.TgZ(0,"tr")(1,"td",13),t._uU(2,"No se encontraron registros"),t.qZA()())}function Q(m,U){1&m&&(t.TgZ(0,"tr")(1,"td",13),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function $(m,U){if(1&m&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,y,5,0,"ng-template",0),t.YNc(6,T,3,0,"ng-template",8),t.YNc(7,F,3,0,"ng-template",9),t.YNc(8,Q,3,0,"ng-template",10),t.qZA()()()()),2&m){const c=t.oxw();t.xp6(3),t.Q6J("value",c.carrerastecnicasList)("rows",10)("loading",c.loading)("rowHover",!0)("paginator",!0)}}let at=(()=>{class m{constructor(c,g,f){this.dialogService=c,this.cursosService=g,this.config=f,this.loading=!1,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){console.log(this.config.data.data);const c=localStorage.getItem("user");if(c){const g=JSON.parse(c);this.docenteId=g.docente_id||8}else console.error("No se encontr\xf3 el objeto user en el localStorage");this.listarPreguntasParaCorregir()}listarPreguntasParaCorregir(){this.cursosService.getListadoDePreguntasPorCorregir(this.config.data.data.id).subscribe(c=>{this.carrerastecnicasList=c,this.originalCarrerastecnicasList=[...c]})}corregirPregunta(c){this.ref=this.dialogService.open(p,{width:"60%",styleClass:"custom-dialog-header",data:{data:c.pregunta,acciones:"docente"}}),this.ref.onClose.subscribe(()=>{this.listarPreguntasParaCorregir()})}static#t=this.\u0275fac=function(g){return new(g||m)(t.Y36(x.xA),t.Y36(Z.m),t.Y36(x.S))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-corregir-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["scope","col",2,"min-width","10rem"],["pButton","","label","Corregir",1,"p-button-rounded","p-button-info",3,"click"],["colspan","23"]],template:function(g,f){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,h,2,0,"ng-template",0),t.YNc(2,$,9,5,"ng-template",1),t.qZA())},dependencies:[K.Hq,w.jx,M.iA,L.s]})}return m})();const dt=["filter"],vt=["dt1"];function Ct(m,U){1&m&&(t.TgZ(0,"span",2),t._uU(1,"Listado de preguntas"),t.qZA())}function Et(m,U){if(1&m){const c=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(f){t.CHM(c);const D=t.oxw(2);return t.KtG(D.onGlobalFilter(f))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(c);const f=t.oxw(2);return t.KtG(f.navigateAddCurso())}),t.qZA()()()}}function ht(m,U){1&m&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"Pregunta"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Valor de la pregunta"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Puntos de la pregunta"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Porcentaje de la pregunta"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"Corregir Preguntas por alumnos"),t.qZA()())}function pt(m,U){if(1&m){const c=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.navigateToDetalle(D))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.navigateToEdit(D))}),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.navigateToDelete(D.id))}),t.qZA()(),t.TgZ(5,"td"),t._UZ(6,"span",23),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",24),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.corregirPregunta(D))}),t.qZA()()()}if(2&m){const c=U.$implicit;t.xp6(6),t.Q6J("innerHTML",c.pregunta_docente,t.oJD),t.xp6(2),t.Oqu(c.valor_pregunta),t.xp6(2),t.Oqu(c.puntos),t.xp6(2),t.hij("",c.porcentaje,"%")}}function wt(m,U){1&m&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"No se encontraron registros"),t.qZA()())}function At(m,U){1&m&&(t.TgZ(0,"tr")(1,"td",25),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function bt(m,U){if(1&m&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Et,7,0,"ng-template",8),t.YNc(6,ht,13,0,"ng-template",0),t.YNc(7,pt,15,4,"ng-template",9),t.YNc(8,wt,3,0,"ng-template",10),t.YNc(9,At,3,0,"ng-template",11),t.qZA()()()()),2&m){const c=t.oxw();t.xp6(3),t.Q6J("value",c.grupoEvaluacionesList)("rows",10)("loading",c.loading)("rowHover",!0)("paginator",!0)}}let Mt=(()=>{class m{constructor(c,g,f,D){this.dialogService=c,this.grupoEvaluacionesService=g,this.config=f,this.sanitizer=D,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.evaluaciones=this.config.data.data,console.log(this.evaluaciones,"car"),this.listarPreguntas()}listarPreguntas(){this.grupoEvaluacionesService.getPreguntas({id:this.evaluaciones.id}).subscribe(c=>{c.forEach(g=>{g.puntos=Math.floor(20*Math.random())+1,g.porcentaje=20*g.puntos/100}),this.grupoEvaluacionesList=c.map(g=>({...g,pregunta_docente:this.sanitizer.bypassSecurityTrustHtml(g.pregunta_docente)})),this.originalgrupoEvaluacionesList=[...this.grupoEvaluacionesList]})}calcularTotales(){let c=0,g=0;this.grupoEvaluacionesList.forEach(f=>{c+=f.promedio||0,g+=f.porcentaje||0}),this.promedioTotal=c/this.grupoEvaluacionesList.length,this.porcentajeTotal=g/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(H.$,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idEvaluacion:this.evaluaciones.id}}),this.ref.onClose.subscribe(c=>{this.listarPreguntas()})}navigateToDetalle(c){this.ref=this.dialogService.open(H.$,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}navigateToEdit(c){this.ref=this.dialogService.open(H.$,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}navigateToDelete(c){n().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const g=document.querySelector(".swal2-container");g&&g.setAttribute("style","z-index: 2147483647 !important")}}).then(g=>{g.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(c).subscribe(f=>{n().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const D=document.querySelector(".swal2-container");D&&D.setAttribute("style","z-index: 2147483647 !important")}}),this.listarPreguntas()},f=>{n().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(c){const g=c.target.value.toLowerCase();this.grupoEvaluacionesList=g?this.originalgrupoEvaluacionesList.filter(f=>f.codigo&&f.codigo.toLowerCase().includes(g)||f.nombres&&f.nombres.toLowerCase().includes(g)||f.cursos&&f.cursos.toLowerCase().includes(g)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(c){this.ref=this.dialogService.open(Tt,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}corregirPregunta(c){this.ref=this.dialogService.open(at,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.evaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarPreguntas()})}static#t=this.\u0275fac=function(g){return new(g||m)(t.Y36(x.xA),t.Y36(Z.m),t.Y36(x.S),t.Y36(V.H7))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-ver-listado-de-preguntas"]],viewQuery:function(g,f){if(1&g&&(t.Gf(dt,5),t.Gf(vt,5)),2&g){let D;t.iGM(D=t.CRH())&&(f.filter=D.first),t.iGM(D=t.CRH())&&(f.tabledt1=D.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar listado de preguntas",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pTooltip","Responder pregunta","tooltipPosition","top",3,"innerHTML"],["pButton","","label","Corregir",1,"p-button-rounded","p-button-info",3,"click"],["colspan","6"]],template:function(g,f){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,Ct,2,0,"ng-template",0),t.YNc(2,bt,10,5,"ng-template",1),t.qZA())},dependencies:[w.jx,K.Hq,M.iA,I.o,L.s,A.u]})}return m})();const Pt=["filter"],_t=["dt1"];function xt(m,U){1&m&&(t.TgZ(0,"span",2),t._uU(1,"Listado de evaluaciones por grupo"),t.qZA())}function Zt(m,U){if(1&m){const c=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(f){t.CHM(c);const D=t.oxw(2);return t.KtG(D.onGlobalFilter(f))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(c);const f=t.oxw(2);return t.KtG(f.navigateAddCurso())}),t.qZA()()()}}function Ot(m,U){1&m&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"th",19),t._uU(4,"N Bloque"),t.qZA(),t.TgZ(5,"th",19),t._uU(6,"Nombre del grupo"),t.qZA(),t.TgZ(7,"th",19),t._uU(8,"Preguntas"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"Nota"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"% Obtenido"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"Valor %"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"Fecha y Hora 1"),t.qZA(),t.TgZ(17,"th",19),t._uU(18,"Fecha y Hora 2"),t.qZA(),t.TgZ(19,"th",19),t._uU(20,"Tipo de Evaluaci\xf3n"),t.qZA(),t.TgZ(21,"th",19),t._uU(22,"Observaciones"),t.qZA(),t.TgZ(23,"th",19),t._uU(24,"Estado"),t.qZA()())}function Ft(m,U){if(1&m){const c=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",20),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.navigateToDetalle(D))}),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.navigateToEdit(D))}),t.qZA(),t.TgZ(4,"button",22),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.navigateToDelete(D.id))}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",23),t.NdJ("click",function(){const D=t.CHM(c).$implicit,q=t.oxw(2);return t.KtG(q.agregarPreguntas(D))}),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA()()}if(2&m){const c=U.$implicit;t.xp6(6),t.Oqu(c.id),t.xp6(2),t.Oqu(c.nombre),t.xp6(4),t.Oqu(c.nota),t.xp6(2),t.hij("",c.porcentaje_obtenido,"%"),t.xp6(2),t.hij("",c.porcentaje_evaluacion,"%"),t.xp6(2),t.Oqu(c.fecha_y_hora_programo),t.xp6(2),t.Oqu(c.fecha_hora_2),t.xp6(2),t.Oqu(c.tipo_evaluacion_nombre),t.xp6(2),t.Oqu(c.observaciones),t.xp6(2),t.Oqu(c.estado_nombre)}}function St(m,U){1&m&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2,"No se encontraron registros"),t.qZA()())}function It(m,U){1&m&&(t.TgZ(0,"tr")(1,"td",24),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function Nt(m,U){if(1&m&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,Zt,7,0,"ng-template",8),t.YNc(6,Ot,25,0,"ng-template",0),t.YNc(7,Ft,27,10,"ng-template",9),t.YNc(8,St,3,0,"ng-template",10),t.YNc(9,It,3,0,"ng-template",11),t.qZA()()()()),2&m){const c=t.oxw();t.xp6(3),t.Q6J("value",c.grupoEvaluacionesList)("rows",10)("loading",c.loading)("rowHover",!0)("paginator",!0)}}let Tt=(()=>{class m{constructor(c,g,f){this.dialogService=c,this.grupoEvaluacionesService=g,this.config=f,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getListadoDeEvaluacionesPorGrupo({id:this.grupoEvaluaciones.id}).subscribe(c=>{this.grupoEvaluacionesList=c,this.originalgrupoEvaluacionesList=[...c]})}calcularTotales(){let c=0,g=0;this.grupoEvaluacionesList.forEach(f=>{c+=f.promedio||0,g+=f.porcentaje||0}),this.promedioTotal=c/this.grupoEvaluacionesList.length,this.porcentajeTotal=g/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(m,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idGrupoEvaluaciones:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(c=>{this.listarGrupoEvaluaciones()})}navigateToDetalle(c){this.ref=this.dialogService.open(m,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.grupoEvaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarGrupoEvaluaciones()})}navigateToEdit(c){this.ref=this.dialogService.open(m,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarGrupoEvaluaciones()})}navigateToDelete(c){n().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const g=document.querySelector(".swal2-container");g&&g.setAttribute("style","z-index: 2147483647 !important")}}).then(g=>{g.isConfirmed&&this.grupoEvaluacionesService.eliminarListadoDeEvaluacionesPorGrupo(c).subscribe(f=>{n().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const D=document.querySelector(".swal2-container");D&&D.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},f=>{n().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(c){const g=c.target.value.toLowerCase();this.grupoEvaluacionesList=g?this.originalgrupoEvaluacionesList.filter(f=>f.codigo&&f.codigo.toLowerCase().includes(g)||f.nombres&&f.nombres.toLowerCase().includes(g)||f.cursos&&f.cursos.toLowerCase().includes(g)):[...this.originalgrupoEvaluacionesList]}agregarPreguntas(c){this.ref=this.dialogService.open(Mt,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",grupoEvaluacionesId:this.grupoEvaluaciones.id,data:c}}),this.ref.onClose.subscribe(g=>{this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(g){return new(g||m)(t.Y36(x.xA),t.Y36(Z.m),t.Y36(x.S))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-ver-lis-eval-grupo"]],viewQuery:function(g,f){if(1&g&&(t.Gf(Pt,5),t.Gf(_t,5)),2&g){let D;t.iGM(D=t.CRH())&&(f.filter=D.first),t.iGM(D=t.CRH())&&(f.tabledt1=D.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar por listado de evaluaciones por grupo",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-list","pTooltip","Listado de preguntas","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","12"]],template:function(g,f){1&g&&(t.TgZ(0,"p-panel"),t.YNc(1,xt,2,0,"ng-template",0),t.YNc(2,Nt,10,5,"ng-template",1),t.qZA())},dependencies:[w.jx,K.Hq,M.iA,I.o,L.s,A.u]})}return m})()},995:(it,B,s)=>{s.d(B,{$:()=>Le});var t=s(73),E=s(6223),n=s(3519),H=s.n(n);const i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function x(e){return(o={})=>{const a=o.width?String(o.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const z={date:x({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:x({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:x({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},O={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function w(e){return(o,a)=>{let u;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){const N=e.defaultFormattingWidth||e.defaultWidth,et=a?.width?String(a.width):N;u=e.formattingValues[et]||e.formattingValues[N]}else{const N=e.defaultWidth,et=a?.width?String(a.width):e.defaultWidth;u=e.values[et]||e.values[N]}return u[e.argumentCallback?e.argumentCallback(o):o]}}function k(e){return(o,a={})=>{const r=a.width,C=o.match(r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth]);if(!C)return null;const N=C[0],et=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],rt=Array.isArray(et)?function v(e,o){for(let a=0;a<e.length;a++)if(o(e[a]))return a}(et,X=>X.test(N)):function tt(e,o){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&o(e[a]))return a}(et,X=>X.test(N));let st;return st=e.valueCallback?e.valueCallback(rt):rt,st=a.valueCallback?a.valueCallback(st):st,{value:st,rest:o.slice(N.length)}}}const Ct={code:"en-US",formatDistance:(e,o,a)=>{let r;const u=i[e];return r="string"==typeof u?u:1===o?u.one:u.other.replace("{{count}}",o.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r},formatLong:z,formatRelative:(e,o,a,r)=>O[e],localize:{ordinalNumber:(e,o)=>{const a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:w({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:w({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:w({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:w({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:w({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function J(e){return(o,a={})=>{const r=o.match(e.matchPattern);if(!r)return null;const u=r[0],C=o.match(e.parsePattern);if(!C)return null;let N=e.valueCallback?e.valueCallback(C[0]):C[0];return N=a.valueCallback?a.valueCallback(N):N,{value:N,rest:o.slice(u.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:k({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:k({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:k({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:k({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let ht={};function pt(){return ht}Math.pow(10,8);const _t=6048e5;function ot(e){const o=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===o?new e.constructor(+e):"number"==typeof e||"[object Number]"===o||"string"==typeof e||"[object String]"===o?new Date(e):new Date(NaN)}function Yt(e){const o=ot(e);return o.setHours(0,0,0,0),o}function Ht(e){const o=ot(e),a=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return a.setUTCFullYear(o.getFullYear()),+e-+a}function lt(e,o){return e instanceof Date?new e.constructor(o):new Date(o)}function mt(e,o){const a=pt(),r=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=ot(e),C=u.getDay(),N=(C<r?7:0)+C-r;return u.setDate(u.getDate()-N),u.setHours(0,0,0,0),u}function ft(e){return mt(e,{weekStartsOn:1})}function Wt(e){const o=ot(e),a=o.getFullYear(),r=lt(e,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const u=ft(r),C=lt(e,0);C.setFullYear(a,0,4),C.setHours(0,0,0,0);const N=ft(C);return o.getTime()>=u.getTime()?a+1:o.getTime()>=N.getTime()?a:a-1}function Rt(e,o){const a=ot(e),r=a.getFullYear(),u=pt(),C=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,N=lt(e,0);N.setFullYear(r+1,0,C),N.setHours(0,0,0,0);const et=mt(N,o),rt=lt(e,0);rt.setFullYear(r,0,C),rt.setHours(0,0,0,0);const st=mt(rt,o);return a.getTime()>=et.getTime()?r+1:a.getTime()>=st.getTime()?r:r-1}function W(e,o){return(e<0?"-":"")+Math.abs(e).toString().padStart(o,"0")}const ct={y(e,o){const a=e.getFullYear(),r=a>0?a:1-a;return W("yy"===o?r%100:r,o.length)},M(e,o){const a=e.getMonth();return"M"===o?String(a+1):W(a+1,2)},d:(e,o)=>W(e.getDate(),o.length),a(e,o){const a=e.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,o)=>W(e.getHours()%12||12,o.length),H:(e,o)=>W(e.getHours(),o.length),m:(e,o)=>W(e.getMinutes(),o.length),s:(e,o)=>W(e.getSeconds(),o.length),S(e,o){const a=o.length,r=e.getMilliseconds();return W(Math.trunc(r*Math.pow(10,a-3)),o.length)}},qt={G:function(e,o,a){const r=e.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});default:return a.era(r,{width:"wide"})}},y:function(e,o,a){if("yo"===o){const r=e.getFullYear();return a.ordinalNumber(r>0?r:1-r,{unit:"year"})}return ct.y(e,o)},Y:function(e,o,a,r){const u=Rt(e,r),C=u>0?u:1-u;return"YY"===o?W(C%100,2):"Yo"===o?a.ordinalNumber(C,{unit:"year"}):W(C,o.length)},R:function(e,o){return W(Wt(e),o.length)},u:function(e,o){return W(e.getFullYear(),o.length)},Q:function(e,o,a){const r=Math.ceil((e.getMonth()+1)/3);switch(o){case"Q":return String(r);case"QQ":return W(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,o,a){const r=Math.ceil((e.getMonth()+1)/3);switch(o){case"q":return String(r);case"qq":return W(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,o,a){const r=e.getMonth();switch(o){case"M":case"MM":return ct.M(e,o);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(e,o,a){const r=e.getMonth();switch(o){case"L":return String(r+1);case"LL":return W(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(e,o,a,r){const u=function ee(e,o){const a=ot(e),r=+mt(a,o)-+function te(e,o){const a=pt(),r=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=Rt(e,o),C=lt(e,0);return C.setFullYear(u,0,r),C.setHours(0,0,0,0),mt(C,o)}(a,o);return Math.round(r/_t)+1}(e,r);return"wo"===o?a.ordinalNumber(u,{unit:"week"}):W(u,o.length)},I:function(e,o,a){const r=function Xt(e){const o=ot(e),a=+ft(o)-+function zt(e){const o=Wt(e),a=lt(e,0);return a.setFullYear(o,0,4),a.setHours(0,0,0,0),ft(a)}(o);return Math.round(a/_t)+1}(e);return"Io"===o?a.ordinalNumber(r,{unit:"week"}):W(r,o.length)},d:function(e,o,a){return"do"===o?a.ordinalNumber(e.getDate(),{unit:"date"}):ct.d(e,o)},D:function(e,o,a){const r=function Vt(e){const o=ot(e);return function Qt(e,o){const a=Yt(e),r=Yt(o),u=+a-Ht(a),C=+r-Ht(r);return Math.round((u-C)/864e5)}(o,function $t(e){const o=ot(e),a=lt(e,0);return a.setFullYear(o.getFullYear(),0,1),a.setHours(0,0,0,0),a}(o))+1}(e);return"Do"===o?a.ordinalNumber(r,{unit:"dayOfYear"}):W(r,o.length)},E:function(e,o,a){const r=e.getDay();switch(o){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(e,o,a,r){const u=e.getDay(),C=(u-r.weekStartsOn+8)%7||7;switch(o){case"e":return String(C);case"ee":return W(C,2);case"eo":return a.ordinalNumber(C,{unit:"day"});case"eee":return a.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(u,{width:"short",context:"formatting"});default:return a.day(u,{width:"wide",context:"formatting"})}},c:function(e,o,a,r){const u=e.getDay(),C=(u-r.weekStartsOn+8)%7||7;switch(o){case"c":return String(C);case"cc":return W(C,o.length);case"co":return a.ordinalNumber(C,{unit:"day"});case"ccc":return a.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(u,{width:"narrow",context:"standalone"});case"cccccc":return a.day(u,{width:"short",context:"standalone"});default:return a.day(u,{width:"wide",context:"standalone"})}},i:function(e,o,a){const r=e.getDay(),u=0===r?7:r;switch(o){case"i":return String(u);case"ii":return W(u,o.length);case"io":return a.ordinalNumber(u,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(e,o,a){const u=e.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return a.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(u,{width:"narrow",context:"formatting"});default:return a.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(e,o,a){const r=e.getHours();let u;switch(u=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",o){case"b":case"bb":return a.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(u,{width:"narrow",context:"formatting"});default:return a.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(e,o,a){const r=e.getHours();let u;switch(u=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",o){case"B":case"BB":case"BBB":return a.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(u,{width:"narrow",context:"formatting"});default:return a.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(e,o,a){if("ho"===o){let r=e.getHours()%12;return 0===r&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return ct.h(e,o)},H:function(e,o,a){return"Ho"===o?a.ordinalNumber(e.getHours(),{unit:"hour"}):ct.H(e,o)},K:function(e,o,a){const r=e.getHours()%12;return"Ko"===o?a.ordinalNumber(r,{unit:"hour"}):W(r,o.length)},k:function(e,o,a){let r=e.getHours();return 0===r&&(r=24),"ko"===o?a.ordinalNumber(r,{unit:"hour"}):W(r,o.length)},m:function(e,o,a){return"mo"===o?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):ct.m(e,o)},s:function(e,o,a){return"so"===o?a.ordinalNumber(e.getSeconds(),{unit:"second"}):ct.s(e,o)},S:function(e,o){return ct.S(e,o)},X:function(e,o,a){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(o){case"X":return Jt(r);case"XXXX":case"XX":return ut(r);default:return ut(r,":")}},x:function(e,o,a){const r=e.getTimezoneOffset();switch(o){case"x":return Jt(r);case"xxxx":case"xx":return ut(r);default:return ut(r,":")}},O:function(e,o,a){const r=e.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+Gt(r,":");default:return"GMT"+ut(r,":")}},z:function(e,o,a){const r=e.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+Gt(r,":");default:return"GMT"+ut(r,":")}},t:function(e,o,a){return W(Math.trunc(e.getTime()/1e3),o.length)},T:function(e,o,a){return W(e.getTime(),o.length)}};function Gt(e,o=""){const a=e>0?"-":"+",r=Math.abs(e),u=Math.trunc(r/60),C=r%60;return 0===C?a+String(u):a+String(u)+o+W(C,2)}function Jt(e,o){return e%60==0?(e>0?"-":"+")+W(Math.abs(e)/60,2):ut(e,o)}function ut(e,o=""){const a=e>0?"-":"+",r=Math.abs(e);return a+W(Math.trunc(r/60),2)+o+W(r%60,2)}const Bt=(e,o)=>{switch(e){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},kt=(e,o)=>{switch(e){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},ne={p:kt,P:(e,o)=>{const a=e.match(/(P+)(p+)?/)||[],r=a[1],u=a[2];if(!u)return Bt(e,o);let C;switch(r){case"P":C=o.dateTime({width:"short"});break;case"PP":C=o.dateTime({width:"medium"});break;case"PPP":C=o.dateTime({width:"long"});break;default:C=o.dateTime({width:"full"})}return C.replace("{{date}}",Bt(r,o)).replace("{{time}}",kt(u,o))}},ae=/^D+$/,oe=/^Y+$/,ie=["D","DD","YY","YYYY"];const pe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,me=/^'([^]*?)'?$/,he=/''/g,_e=/[a-zA-Z]/;function fe(e,o,a){const r=pt(),u=a?.locale??r.locale??Ct,C=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,N=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,et=ot(e);if(!function de(e){if(!function ue(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;const o=ot(e);return!isNaN(Number(o))}(et))throw new RangeError("Invalid time value");let rt=o.match(ge).map(nt=>{const X=nt[0];return"p"===X||"P"===X?(0,ne[X])(nt,u.formatLong):nt}).join("").match(pe).map(nt=>{if("''"===nt)return{isToken:!1,value:"'"};const X=nt[0];if("'"===X)return{isToken:!1,value:ve(nt)};if(qt[X])return{isToken:!0,value:nt};if(X.match(_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return{isToken:!1,value:nt}});u.localize.preprocessor&&(rt=u.localize.preprocessor(et,rt));const st={firstWeekContainsDate:C,weekStartsOn:N,locale:u};return rt.map(nt=>{if(!nt.isToken)return nt.value;const X=nt.value;return(!a?.useAdditionalWeekYearTokens&&function se(e){return oe.test(e)}(X)||!a?.useAdditionalDayOfYearTokens&&function re(e){return ae.test(e)}(X))&&function ce(e,o,a){const r=function le(e,o,a){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${o}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,o,a);if(console.warn(r),ie.includes(e))throw new RangeError(r)}(X,o,String(e)),(0,qt[X[0]])(et,X,u.localize,st)}).join("")}function ve(e){const o=e.match(me);return o?o[1].replace(he,"'"):e}var d=s(8926),Kt=s(5118),Ce=s(4067),be=s(375),jt=s(6814),xe=s(5219),Te=s(707),ye=s(3714),De=s(3965),Ee=s(1230),we=s(9537);function Ae(e,o){if(1&e&&(d.TgZ(0,"span",2),d._uU(1),d.qZA()),2&e){const a=d.oxw();d.xp6(1),d.hij(" ","ver"===a.acciones?"Ver Pregunta":"actualizar"===a.acciones?"Actualizar Pregunta":"A\xf1adir Pregunta"," ")}}function Me(e,o){if(1&e&&(d.TgZ(0,"div",18)(1,"span",7),d._UZ(2,"input",19),d.TgZ(3,"label",20),d._uU(4,"Formulaci\xf3n de Pregunta por Docente"),d.qZA()()()),2&e){const a=d.oxw(2);d.xp6(2),d.Q6J("readonly","ver"===a.acciones)}}function Pe(e,o){if(1&e){const a=d.EpF();d.TgZ(0,"div",24)(1,"div",25)(2,"input",26),d.NdJ("change",function(){const C=d.CHM(a).index,N=d.oxw(3);return d.KtG(N.onRadioChange(C))}),d.qZA(),d.TgZ(3,"div",27),d._UZ(4,"input",28),d.qZA()()()}if(2&e){const a=o.index,r=d.oxw(3);d.Q6J("formGroupName",a),d.xp6(2),d.Q6J("value",!0),d.xp6(2),d.Q6J("id","alternativa-"+a)("readonly","ver"===r.acciones)}}function Ze(e,o){if(1&e){const a=d.EpF();d.TgZ(0,"div",18)(1,"div",21),d.YNc(2,Pe,5,4,"div",22),d.qZA(),d.TgZ(3,"button",23),d.NdJ("click",function(){d.CHM(a);const u=d.oxw(2);return d.KtG(u.agregarAlternativa())}),d.qZA()()}if(2&e){const a=d.oxw(2);d.xp6(2),d.Q6J("ngForOf",a.getAlternativasControls())}}const Oe=function(){return{height:"90px"}};function Fe(e,o){if(1&e&&(d.TgZ(0,"div",18)(1,"span",7)(2,"div",5)(3,"div",29)(4,"label",30),d._uU(5,"Ingrese la pregunta"),d.qZA(),d._UZ(6,"p-editor",31),d.qZA()()()()),2&e){const a=d.oxw(2);d.xp6(6),d.Akn(d.DdM(3,Oe)),d.Q6J("disabled","ver"===a.acciones)}}function Se(e,o){1&e&&d._UZ(0,"button",32)}function Ie(e,o){1&e&&d._UZ(0,"button",33)}function Ne(e,o){if(1&e){const a=d.EpF();d.TgZ(0,"form",3),d.NdJ("ngSubmit",function(){d.CHM(a);const u=d.oxw();return d.KtG(u.guardarPregunta())}),d.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"label"),d._uU(5,"Tipo de Pregunta"),d.qZA(),d.TgZ(6,"div",7)(7,"label",8),d._uU(8,"Tipo de Pregunta"),d.qZA(),d.TgZ(9,"p-dropdown",9),d.NdJ("onChange",function(u){d.CHM(a);const C=d.oxw();return d.KtG(C.onTipoPreguntaChange(u.value))}),d.qZA()()(),d.TgZ(10,"div",6)(11,"label",10),d._uU(12,"Valor de la Pregunta"),d.qZA(),d._UZ(13,"input",11),d.qZA(),d.YNc(14,Me,5,1,"div",12),d.YNc(15,Ze,4,1,"div",12),d.YNc(16,Fe,7,4,"div",12),d.qZA()(),d.TgZ(17,"div",4)(18,"div",13)(19,"div",14),d.YNc(20,Se,1,0,"button",15),d.YNc(21,Ie,1,0,"button",16),d.TgZ(22,"button",17),d.NdJ("click",function(u){d.CHM(a);const C=d.oxw();return d.KtG(C.closeModal(u))}),d.qZA()()()()()}if(2&e){const a=d.oxw();let r,u,C;d.Q6J("formGroup",a.preguntaForm),d.xp6(9),d.Q6J("options",a.tiposPregunta)("disabled","ver"===a.acciones),d.xp6(4),d.Q6J("readonly","ver"===a.acciones),d.xp6(1),d.Q6J("ngIf",66===(null==a.preguntaForm||null==(r=a.preguntaForm.get("tipoPregunta"))?null:r.value)),d.xp6(1),d.Q6J("ngIf",66===(null==a.preguntaForm||null==(u=a.preguntaForm.get("tipoPregunta"))?null:u.value)),d.xp6(1),d.Q6J("ngIf",67===(null==a.preguntaForm||null==(C=a.preguntaForm.get("tipoPregunta"))?null:C.value)),d.xp6(4),d.Q6J("ngIf","add"===a.acciones),d.xp6(1),d.Q6J("ngIf","actualizar"===a.acciones)}}let Le=(()=>{class e{constructor(a,r,u,C,N){this.fb=a,this.ref=r,this.config=u,this.parametroService=C,this.helpersService=N,this.loading=!1,this.parametroDatos=new t.v,this.parametro=new t.v,this.mostrarCursos=!1,this.tiposPregunta=[],this.preguntaForm=this.fb.group({tipoPregunta:["",E.kI.required],valor_pregunta:["",E.kI.required],pregunta_docente:["",E.kI.required],alternativas:this.fb.array([])})}ngOnInit(){this.idEvaluacion=this.config.data.idEvaluacion,this.acciones=this.config.data.acciones,Promise.all([this.listarDePregunta()]).then(()=>{if("ver"===this.acciones||"actualizar"===this.acciones){const a=fe(new Date(this.config.data.data.fecha_y_hora_programo),"yyyy-MM-dd'T'HH:mm:ss");this.preguntaForm.patchValue({nombreEvaluacion:this.config.data.data.nombre,tipoEvaluacion:this.config.data.data.tipo_evaluacion_id,porcentajeEvaluacion:this.config.data.data.porcentaje_evaluacion,fechaHoraEvaluacion:a,estado:this.config.data.data.estado_id,observaciones:this.config.data.data.observaciones,preguntaMagica:this.config.data.data.pregunta_magica})}})}onRadioChange(a){this.preguntaForm.get("alternativas").controls.forEach((u,C)=>{const N=u.get("respuesta_correcta");N&&N.setValue(C===a)})}listarDePregunta(){return new Promise((a,r)=>{this.parametroService.getTipoDePregunta().subscribe(u=>{console.log("Lista de getTipoDePregunta",u),this.tiposPregunta=u,a()},u=>r(u))})}setAlternativas(a){const r=a.map(C=>this.fb.group(C)),u=this.fb.array(r);this.preguntaForm.setControl("alternativas",u)}guardarRespuestaCorrecta(){this.preguntaForm.value.alternativas.findIndex(u=>!0===u.respuesta_correcta)}guardarPregunta(){if(console.log(this.preguntaForm),this.preguntaForm.valid){const a={evaluacion_id:this.idEvaluacion,tipo_de_evaluacion_id:this.preguntaForm.value.tipoPregunta,pregunta_docente:this.preguntaForm.value.pregunta_docente,descripcion:this.preguntaForm.value.descripcion,respuesta_correcta:this.preguntaForm.value.alternativas.findIndex(r=>!0===r.respuesta_correcta)+1,domain_id:this.helpersService.getDominioId(),valor_pregunta:this.preguntaForm.value.valor_pregunta,alternativas:this.preguntaForm.value.alternativas};console.log(a),"add"===this.acciones?this.parametroService.guardarPreguntas(a).subscribe(r=>{this.ref?.close(),H().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},r=>{console.error("Error al guardar el parametro",r)}):"actualizar"===this.acciones&&this.parametroService.actualizarListadoDeEvaluacionesPorGrupo({observaciones:this.preguntaForm.value.observaciones,nombre:this.preguntaForm.value.nombreEvaluacion,tipo_evaluacion_id:this.preguntaForm.value.tipoEvaluacion,porcentaje_evaluacion:this.preguntaForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.preguntaForm.value.fechaHoraEvaluacion,estado_id:this.preguntaForm.value.estado,id:this.config.data.data.id}).subscribe(u=>{this.ref?.close(),H().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},u=>{console.error("Error al actualizar el parametro",u)})}else console.error("Formulario inv\xe1lido")}agregarAlternativa(){const a=this.preguntaForm.get("alternativas");a.push(this.fb.group({id:[a.length+1],texto:["",E.kI.required],respuesta_correcta:[!1]}))}closeModal(a){a.preventDefault(),this.ref?.close()}getAlternativasControls(){return this.preguntaForm.get("alternativas").controls}onTipoPreguntaChange(a){console.log("Tipo de Pregunta changed to:",a)}static#t=this.\u0275fac=function(r){return new(r||e)(d.Y36(E.qu),d.Y36(Kt.E7),d.Y36(Kt.S),d.Y36(Ce.m),d.Y36(be.$))};static#e=this.\u0275cmp=d.Xpm({type:e,selectors:[["app-agregar-editar-listado-de-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-6"],[1,"p-float-label"],["for","dropdownTipoPregunta",1,"required"],["inputId","dropdownTipoPregunta","optionLabel","tx_item_description","formControlName","tipoPregunta","optionValue","nu_id_parametro",3,"options","disabled","onChange"],["for","dropdownValorPregunta"],["type","number","inputId","dropdownValorPregunta","pInputText","","formControlName","valor_pregunta",3,"readonly"],["class","col-12",4,"ngIf"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],[1,"col-12"],["type","text","pInputText","","formControlName","pregunta_docente",3,"readonly"],[1,"required"],["formArrayName","alternativas"],["class","col-12",3,"formGroupName",4,"ngFor","ngForOf"],["type","button","pButton","","icon","pi pi-plus","label","A\xf1adir Alternativa",3,"click"],[1,"col-12",3,"formGroupName"],[1,"alternativa-container"],["type","radio","name","respuesta_correcta","formControlName","respuesta_correcta",3,"value","change"],[1,"field","col-12"],["type","text","pInputText","","formControlName","texto",3,"id","readonly"],[1,"field","col-12","md:col-12"],["for",""],["formControlName","pregunta_docente",3,"disabled"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(r,u){1&r&&(d.TgZ(0,"p-panel"),d.YNc(1,Ae,2,1,"ng-template",0),d.YNc(2,Ne,23,9,"ng-template",1),d.qZA())},dependencies:[jt.sg,jt.O5,xe.jx,E._Y,E.Fj,E.wV,E._,E.JJ,E.JL,Te.Hq,ye.o,De.Lt,Ee.s,we.ML,E.sg,E.u,E.x0,E.CE],styles:[".alternativa-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:3em}.alternativa-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-left:10px}"]})}return e})()},5924:(it,B,s)=>{s.d(B,{V:()=>tt});var t=s(3519),E=s.n(t),n=s(8926),H=s(5118),i=s(4067),P=s(375),x=s(4474),Z=s(6814),G=s(6223),V=s(707),z=s(5219),O=s(3714),K=s(3965),w=s(1230),I=s(9537);function L(v,J){1&v&&(n.TgZ(0,"span"),n._uU(1,"Registrar Cursos"),n.qZA())}function A(v,J){1&v&&(n.TgZ(0,"span"),n._uU(1,"Visualizar Curso"),n.qZA())}function R(v,J){1&v&&(n.TgZ(0,"span"),n._uU(1,"Editar Curso"),n.qZA())}function b(v,J){if(1&v&&(n.TgZ(0,"span",2),n.YNc(1,L,2,0,"span",3),n.YNc(2,A,2,0,"span",3),n.YNc(3,R,2,0,"span",3),n.qZA()),2&v){const l=n.oxw();n.xp6(1),n.Q6J("ngIf","add"===l.acciones),n.xp6(1),n.Q6J("ngIf","ver"===l.acciones),n.xp6(1),n.Q6J("ngIf","editar"===l.acciones)}}function S(v,J){if(1&v){const l=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(){n.CHM(l);const p=n.oxw(2);return n.KtG(p.GuardarCurso())}),n.qZA()}}function Y(v,J){if(1&v){const l=n.EpF();n.TgZ(0,"button",32),n.NdJ("click",function(){n.CHM(l);const p=n.oxw(2);return n.KtG(p.editarCurso())}),n.qZA()}}const j=function(){return{height:"90px"}};function k(v,J){if(1&v){const l=n.EpF();n.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span",7)(4,"input",8),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.codigo=p)}),n.qZA(),n.TgZ(5,"label",9),n._uU(6,"C\xf3digo"),n.qZA()()(),n.TgZ(7,"div",6)(8,"span",7)(9,"input",8),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.nombreCurso=p)}),n.qZA(),n.TgZ(10,"label",9),n._uU(11,"Nombre de curso"),n.qZA()()()()(),n.TgZ(12,"div",4)(13,"div",5)(14,"div",10)(15,"span",7)(16,"p-dropdown",11),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.ciclo=p)}),n.qZA(),n.TgZ(17,"label",12),n._uU(18,"Ciclo "),n.qZA(),n.TgZ(19,"small",13),n._uU(20,"Campo obligatorio * "),n.qZA()()(),n.TgZ(21,"div",6)(22,"span",7)(23,"p-dropdown",14),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.areaFormacion=p)}),n.qZA(),n.TgZ(24,"label",15),n._uU(25,"\xc1reas de formaci\xf3n "),n.qZA(),n.TgZ(26,"small",13),n._uU(27,"Campo obligatorio * "),n.qZA()()()()(),n.TgZ(28,"div",4)(29,"div",5)(30,"div",10)(31,"span",7)(32,"p-dropdown",16),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.moduloFormativo=p)}),n.qZA(),n.TgZ(33,"label",17),n._uU(34,"M\xf3dulo formativo "),n.qZA(),n.TgZ(35,"small",13),n._uU(36,"Campo obligatorio * "),n.qZA()()(),n.TgZ(37,"div",6)(38,"span",7)(39,"input",8),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.cantidadCreditos=p)}),n.qZA(),n.TgZ(40,"label",9),n._uU(41,"Cantidad de cr\xe9ditos"),n.qZA()()()()(),n.TgZ(42,"div",4)(43,"div",5)(44,"div",6)(45,"span",7)(46,"input",8),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.porcentajeCreditos=p)}),n.qZA(),n.TgZ(47,"label",9),n._uU(48,"% de cr\xe9ditos"),n.qZA()()(),n.TgZ(49,"div",6)(50,"span",7)(51,"input",8),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.cantidadHoras=p)}),n.qZA(),n.TgZ(52,"label",9),n._uU(53,"Cantidad de horas"),n.qZA()()()()(),n.TgZ(54,"div",18)(55,"div",5)(56,"div",19)(57,"label",20),n._uU(58,"Digite el syllabus"),n.qZA(),n.TgZ(59,"p-editor",21),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.syllabus=p)}),n.qZA()()()(),n.TgZ(60,"div",18)(61,"div",5)(62,"div",19)(63,"label",20),n._uU(64,"Digite el tema"),n.qZA(),n.TgZ(65,"p-editor",21),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.tema=p)}),n.qZA()()()(),n.TgZ(66,"div",4)(67,"div",5)(68,"div",10)(69,"span",7)(70,"p-dropdown",22),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.asignacionDocentes=p)}),n.qZA(),n.TgZ(71,"label",23),n._uU(72,"Asignaci\xf3n de docentes "),n.qZA(),n.TgZ(73,"small",13),n._uU(74,"Campo obligatorio * "),n.qZA()()(),n.TgZ(75,"div",6)(76,"span",7)(77,"p-dropdown",24),n.NdJ("ngModelChange",function(p){n.CHM(l);const M=n.oxw();return n.KtG(M.estado=p)}),n.qZA(),n.TgZ(78,"label",25),n._uU(79,"Estado"),n.qZA(),n.TgZ(80,"small",13),n._uU(81,"Campo obligatorio * "),n.qZA()()()()(),n.TgZ(82,"div",4)(83,"div",26)(84,"div",27),n.YNc(85,S,1,0,"button",28),n.YNc(86,Y,1,0,"button",29),n.TgZ(87,"button",30),n.NdJ("click",function(){n.CHM(l);const p=n.oxw();return n.KtG(p.closeModal())}),n.qZA()()()()}if(2&v){const l=n.oxw();n.xp6(4),n.Q6J("ngModel",l.codigo)("disabled","ver"===l.acciones),n.xp6(5),n.Q6J("ngModel",l.nombreCurso)("disabled","ver"===l.acciones),n.xp6(7),n.Q6J("options",l.ciclos)("ngModel",l.ciclo)("disabled","ver"===l.acciones),n.xp6(7),n.Q6J("options",l.areasFormacion)("ngModel",l.areaFormacion)("disabled","ver"===l.acciones),n.xp6(9),n.Q6J("options",l.modulosFormativos)("ngModel",l.moduloFormativo)("disabled","ver"===l.acciones),n.xp6(7),n.Q6J("ngModel",l.cantidadCreditos)("disabled","ver"===l.acciones),n.xp6(7),n.Q6J("ngModel",l.porcentajeCreditos)("disabled","ver"===l.acciones),n.xp6(5),n.Q6J("ngModel",l.cantidadHoras)("disabled","ver"===l.acciones),n.xp6(8),n.Akn(n.DdM(35,j)),n.Q6J("ngModel",l.syllabus)("disabled","ver"===l.acciones),n.xp6(6),n.Akn(n.DdM(36,j)),n.Q6J("ngModel",l.tema)("disabled","ver"===l.acciones),n.xp6(5),n.Q6J("options",l.asignacionesDocentes)("ngModel",l.asignacionDocentes)("disabled","ver"===l.acciones),n.xp6(7),n.Q6J("options",l.estados)("ngModel",l.estado)("disabled","ver"===l.acciones),n.xp6(8),n.Q6J("ngIf","add"===l.acciones),n.xp6(1),n.Q6J("ngIf","editar"===l.acciones)}}let tt=(()=>{class v{constructor(l,_,p,M,h){this.ref=l,this.parametroService=_,this.config=p,this.helperService=M,this.commonService=h,this.id=0,this.cantidadTotalCreditos=0,this.codigo="",this.nombreCurso="",this.ciclo={},this.ciclos=[],this.areaFormacion={},this.areasFormacion=[],this.moduloFormativo={},this.modulosFormativos=[],this.cantidadCreditos=0,this.porcentajeCreditos=0,this.cantidadHoras=0,this.syllabus="",this.tema="",this.asignacionDocentes={},this.asignacionesDocentes=[],this.estados=[],this.estado={},this.acciones="",this.domain_id=1}ngOnInit(){this.id=this.config.data.id,this.cantidadTotalCreditos=this.config.data.total_creditos,this.acciones=this.config.data.acciones,this.domain_id=this.helperService.getDominioId(),Promise.all([this.listarModulosFormativos(),this.listarAreasFormacion(),this.listarCiclos(),this.listarEstados(),this.listarDocentes(this.domain_id)]).then(()=>{("editar"===this.config.data.acciones||"ver"===this.config.data.acciones)&&(console.log(this.config.data.data),this.codigo=this.config.data.data.codigo,this.nombreCurso=this.config.data.data.nombre,this.ciclo=this.config.data.data.ciclo_id,this.areaFormacion=this.config.data.data.area_de_formacion_id,this.moduloFormativo=this.config.data.data.modulo_formativo_id,this.cantidadCreditos=this.config.data.data.cantidad_de_creditos,this.porcentajeCreditos=this.config.data.data.porcentaje_de_creditos,this.cantidadHoras=this.config.data.data.cantidad_de_horas,this.syllabus=this.config.data.data.syllabus,this.tema=this.config.data.data.tema,this.asignacionDocentes=this.config.data.data.docente_id,this.estado=this.config.data.data.estado_id)})}GuardarCurso(){console.log(this.asignacionDocentes);const l={codigo:this.codigo,nombreCurso:this.nombreCurso,cicloId:this.ciclo,areaFormacionId:this.areaFormacion,moduloFormativoId:this.moduloFormativo,cantidadCreditos:this.cantidadCreditos,porcentajeCreditos:this.porcentajeCreditos,cantidadHoras:this.cantidadHoras,syllabus:this.syllabus,tema:this.tema,asignacionDocentesId:this.asignacionDocentes,carreraId:this.id,estadoId:this.estado,domain_id:this.domain_id};l?this.parametroService.guardarCurso(l).subscribe(_=>{this.closeModal(),E().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},_=>{console.error("Error al guardar el parametro",_)}):console.error("Formulario inv\xe1lido")}editarCurso(){const l={codigo:this.codigo,nombreCurso:this.nombreCurso,cicloId:this.ciclo,areaFormacionId:this.areaFormacion,moduloFormativoId:this.moduloFormativo,cantidadCreditos:this.cantidadCreditos,porcentajeCreditos:this.porcentajeCreditos,cantidadHoras:this.cantidadHoras,syllabus:this.syllabus,asignacionDocentesId:this.asignacionDocentes?.code,carreraId:this.id,estadoId:this.estado,cursoId:this.config.data.data.id,domain_id:this.domain_id};console.log("Curso a guardar",l),l?this.parametroService.actualizarCurso(l).subscribe(_=>{this.closeModal(),E().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},_=>{console.error("Error al guardar el parametro",_)}):console.error("Formulario inv\xe1lido")}onCantidadCreditosChange(l){if(0===this.cantidadTotalCreditos||null==this.cantidadTotalCreditos)this.porcentajeCreditos=100;else{console.log("Cantidad de cr\xe9ditos ha cambiado:",l),console.log("Cantidad total de cr\xe9ditos:",this.cantidadTotalCreditos);const _=l/this.cantidadTotalCreditos*100;this.porcentajeCreditos=_,console.log("Resultado del c\xe1lculo:",_)}}listarModulosFormativos(){return new Promise((l,_)=>{this.parametroService.getModulosFormativos().subscribe(p=>{console.log("Lista de listarModulosFormativos",p),this.modulosFormativos=p,l()},p=>_(p))})}listarAreasFormacion(){return new Promise((l,_)=>{this.parametroService.getAreasDeFormacion().subscribe(p=>{console.log("Lista de listarAreasFormacion",p),this.areasFormacion=p,l()},p=>_(p))})}listarCiclos(){return new Promise((l,_)=>{this.parametroService.getCiclos().subscribe(p=>{console.log("Lista de listarCiclos",p),this.ciclos=p,l()},p=>_(p))})}listarEstados(){return new Promise((l,_)=>{this.parametroService.getEstadoDeCurso().subscribe(p=>{console.log("Lista de listarEstados",p),this.estados=p,l()},p=>_(p))})}listarDocentes(l){return new Promise((_,p)=>{this.commonService.getDocentesDropdown(this.domain_id).subscribe(M=>{console.log("Lista de listarDocentes",M),this.asignacionesDocentes=M.map(h=>({label:h.nombres,value:h.id})),_()},M=>p(M))})}closeModal(){this.ref.close({register:!1})}static#t=this.\u0275fac=function(_){return new(_||v)(n.Y36(H.E7),n.Y36(i.m),n.Y36(H.S),n.Y36(P.$),n.Y36(x.v))};static#e=this.\u0275cmp=n.Xpm({type:v,selectors:[["app-reg-cursos"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[4,"ngIf"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["type","text","pInputText","",3,"ngModel","disabled","ngModelChange"],[1,"required"],[1,"field","md:col-6"],["inputId","dropdownCiclo","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownCiclo"],[2,"color","brown"],["inputId","dropdownAreaFormacion","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownAreaFormacion"],["inputId","dropdownModuloFormativo","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownModuloFormativo"],[1,"row","mt-2"],[1,"field","col-12","md:col-12"],["for",""],[3,"ngModel","disabled","ngModelChange"],["inputId","dropdownAsignacionDocentes","optionLabel","label","optionValue","value",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownAsignacionDocentes"],["inputId","dropdownEstado","optionLabel","nombre","optionValue","id",3,"options","ngModel","disabled","ngModelChange"],["for","dropdownEstado"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right","class","p-button-success p-button-sm",3,"click",4,"ngIf"],["pButton","","icon","pi pi-pencil","label","Editar Curso","iconPos","right","class","p-button-warning p-button-sm",3,"click",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],["pButton","","icon","pi pi-plus","label","Guardar","iconPos","right",1,"p-button-success","p-button-sm",3,"click"],["pButton","","icon","pi pi-pencil","label","Editar Curso","iconPos","right",1,"p-button-warning","p-button-sm",3,"click"]],template:function(_,p){1&_&&(n.TgZ(0,"p-panel"),n.YNc(1,b,4,3,"ng-template",0),n.YNc(2,k,88,37,"ng-template",1),n.qZA())},dependencies:[Z.O5,G.Fj,G.JJ,G.On,V.Hq,z.jx,O.o,K.Lt,w.s,I.ML]})}return v})()},73:(it,B,s)=>{s.d(B,{fS:()=>P,v:()=>H,ym:()=>i});class H{constructor(){this.nuIdParametro=null,this.txNombre="",this.txAbreviatura="",this.nuItemNro=null,this.txItemDescripcion=null,this.isSelected=null,this.txUseCreado=null,this.txUseModificado=null}}class i{constructor(){this.id=null,this.codigo="",this.nombre="",this.descripcion="",this.costo=null,this.recursos=null,this.estado=null,this.txUseCreado=null,this.txUseModificado=null}}class P{constructor(){this.id=null,this.codigo="",this.nombre="",this.horas=0,this.sylabus=null,this.temas=null,this.estado=null,this.fecha=null,this.idDocente=0,this.docente=null,this.idEstado=null,this.etapa=null,this.txUseCreado=null,this.txUseModificado=null}}},5700:(it,B,s)=>{s.d(B,{e:()=>H});var t=s(9862),E=s(5516),n=s(8926);let H=(()=>{class i{constructor(x,Z,G){this.http=x,this.httpClientFormData=Z,this.handler=G,this.baseUrl=`${E.N.API_BASE}`,this.urlparametro=`${E.N.API_BASE}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})},this.httpClientFormData=new t.eN(this.handler)}saveAula(x){return this.http.post(`${this.baseUrl}aulas`,x)}getAulas(x){return this.http.get(`${this.baseUrl}aulas/${x}`)}deleteAula(x){return this.http.delete(`${this.baseUrl}aulas/${x}`)}saveDisponibilidad(x){return this.http.post(`${this.baseUrl}aulas/disponibilidad`,x)}getDisponibilidad(x){return this.http.get(`${this.baseUrl}aulas/disponibilidad/${x}`)}deleteDisponibilidad(x){return this.http.delete(`${this.baseUrl}aulas/disponibilidad/${x}`)}static#t=this.\u0275fac=function(Z){return new(Z||i)(n.LFG(t.eN),n.LFG(t.eN),n.LFG(t.jN))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},4474:(it,B,s)=>{s.d(B,{v:()=>H});var t=s(9862),E=s(5516),n=s(8926);let H=(()=>{class i{constructor(x,Z,G){this.http=x,this.httpClientFormData=Z,this.handler=G,this.baseUrl=`${E.N.API_BASE}`,this.urlparametro=`${E.N.API_BASE}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})},this.httpClientFormData=new t.eN(this.handler)}getCarrerasDropdown(x){return this.http.get(`${this.baseUrl}carreras-dropdown/${x}`)}getCiclosDropdown(x){return this.http.get(`${this.baseUrl}ciclos-dropdown/${x}`)}getRolesDropdown(){return this.http.get(`${this.baseUrl}roles-dropdown`)}getDocentesDropdown(x){return this.http.get(`${this.baseUrl}docentes-dropdown/${x}`)}getInstitutionsDropdown(){return this.http.get(`${this.baseUrl}institutions-dropdown`)}static#t=this.\u0275fac=function(Z){return new(Z||i)(n.LFG(t.eN),n.LFG(t.eN),n.LFG(t.jN))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},7649:(it,B,s)=>{s.d(B,{f:()=>H});var t=s(9862),E=s(5516),n=s(8926);let H=(()=>{class i{constructor(x,Z,G){this.http=x,this.httpClientFormData=Z,this.handler=G,this.baseUrl=`${E.N.API_BASE}`,this.urlparametro=`${E.N.API_BASE}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})},this.httpClientFormData=new t.eN(this.handler)}saveForo(x){return this.http.post(`${this.baseUrl}foros`,x)}getForos(x,Z,G){return this.http.get(`${this.baseUrl}foros/${x}/${Z}/${G}`)}sendResponse(x){return this.http.post(`${this.baseUrl}foros/message`,x)}static#t=this.\u0275fac=function(Z){return new(Z||i)(n.LFG(t.eN),n.LFG(t.eN),n.LFG(t.jN))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},8672:(it,B,s)=>{s.d(B,{Ro:()=>j,ef:()=>k,t2:()=>b});var t=s(8926),E=s(5619),n=s(8645),H=s(2181),i=s(9773),P=s(6825),x=s(6593),Z=s(6814);const G=["overlay"];function V(v,J){1&v&&t._UZ(0,"div")}function z(v,J){if(1&v&&(t.TgZ(0,"div"),t.YNc(1,V,1,0,"div",6),t.qZA()),2&v){const l=t.oxw(2);t.Tol(l.spinner.class),t.Udp("color",l.spinner.color),t.xp6(1),t.Q6J("ngForOf",l.spinner.divArray)}}function O(v,J){if(1&v&&(t._UZ(0,"div",7),t.ALo(1,"safeHtml")),2&v){const l=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,l.template),t.oJD)}}function K(v,J){if(1&v&&(t.TgZ(0,"div",1,2),t.YNc(2,z,2,5,"div",3),t.YNc(3,O,2,3,"div",4),t.TgZ(4,"div",5),t.Hsn(5),t.qZA()()),2&v){const l=t.oxw();t.Udp("background-color",l.spinner.bdColor)("z-index",l.spinner.zIndex)("position",l.spinner.fullScreen?"fixed":"absolute"),t.Q6J("@.disabled",l.disableAnimation)("@fadeIn","in"),t.xp6(2),t.Q6J("ngIf",!l.template),t.xp6(1),t.Q6J("ngIf",l.template),t.xp6(1),t.Udp("z-index",l.spinner.zIndex)}}const w=["*"],I={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},A="primary";class R{constructor(J){Object.assign(this,J)}static create(J){return!J?.template&&!J?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new R(J)}}let b=(()=>{class v{constructor(){this.spinnerObservable=new E.X(null)}getSpinner(l){return this.spinnerObservable.asObservable().pipe((0,H.h)(_=>_&&_.name===l))}show(l=A,_){return new Promise((p,M)=>{setTimeout(()=>{_&&Object.keys(_).length?(_.name=l,this.spinnerObservable.next(new R({..._,show:!0})),p(!0)):(this.spinnerObservable.next(new R({name:l,show:!0})),p(!0))},10)})}hide(l=A,_=10){return new Promise((p,M)=>{setTimeout(()=>{this.spinnerObservable.next(new R({name:l,show:!1})),p(!0)},_)})}static#t=this.\u0275fac=function(_){return new(_||v)};static#e=this.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const S=new t.OlP("NGX_SPINNER_CONFIG");let Y=(()=>{class v{constructor(l){this._sanitizer=l}transform(l){if(l)return this._sanitizer.bypassSecurityTrustHtml(l)}static#t=this.\u0275fac=function(_){return new(_||v)(t.Y36(x.H7,16))};static#e=this.\u0275pipe=t.Yjl({name:"safeHtml",type:v,pure:!0,standalone:!0})}return v})(),j=(()=>{class v{constructor(l,_,p,M){this.spinnerService=l,this.changeDetector=_,this.elementRef=p,this.globalConfig=M,this.disableAnimation=!1,this.spinner=new R,this.ngUnsubscribe=new n.x,this.setDefaultOptions=()=>{const{type:h}=this.globalConfig??{};this.spinner=R.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??h,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=A,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,i.R)(this.ngUnsubscribe)).subscribe(l=>{this.setDefaultOptions(),Object.assign(this.spinner,l),l.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(l){return l===this.elementRef.nativeElement.parentElement||l.parentNode&&this.isSpinnerZone(l.parentNode)}ngOnChanges(l){for(const _ in l)if(_){const p=l[_];if(p.isFirstChange())return;typeof p.currentValue<"u"&&p.currentValue!==p.previousValue&&""!==p.currentValue&&(this.spinner[_]=p.currentValue,"showSpinner"===_&&(p.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===_&&this.initObservable())}}getClass(l,_){this.spinner.divCount=I[l],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((M,h)=>h);let p="";switch(_.toLowerCase()){case"small":p="la-sm";break;case"medium":p="la-2x";break;case"large":p="la-3x"}return"la-"+l+" "+p}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static#t=this.\u0275fac=function(_){return new(_||v)(t.Y36(b),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(S,8))};static#e=this.\u0275cmp=t.Xpm({type:v,selectors:[["ngx-spinner"]],viewQuery:function(_,p){if(1&_&&t.Gf(G,5),2&_){let M;t.iGM(M=t.CRH())&&(p.spinnerDOM=M.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[t.TTD,t.jDz],ngContentSelectors:w,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(_,p){1&_&&(t.F$t(),t.YNc(0,K,6,12,"div",0)),2&_&&t.Q6J("ngIf",p.spinner.show)},dependencies:[Y,Z.O5,Z.ax],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,P.X$)("fadeIn",[(0,P.SB)("in",(0,P.oB)({opacity:1})),(0,P.eR)(":enter",[(0,P.oB)({opacity:0}),(0,P.jt)(300)]),(0,P.eR)(":leave",(0,P.jt)(200,(0,P.oB)({opacity:0})))])]},changeDetection:0})}return v})(),k=(()=>{class v{static forRoot(l){return{ngModule:v,providers:[{provide:S,useValue:l}]}}static#t=this.\u0275fac=function(_){return new(_||v)};static#e=this.\u0275mod=t.oAB({type:v});static#n=this.\u0275inj=t.cJS({imports:[Z.ez]})}return v})()}}]);