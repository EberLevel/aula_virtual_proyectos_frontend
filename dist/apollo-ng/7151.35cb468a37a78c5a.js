"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[7151],{7151:(I,f,i)=>{i.r(f),i.d(f,{BandejaAlumnoModule:()=>Ft});var s=i(6814),r=i(6223),g=i(8007),F=i(2538),p=i(5219),h=i(3519),d=i.n(h),t=i(8926),u=i(5118),_=i(4067),S=i(3999),v=i(9862),B=i(5516);let R=(()=>{class n{constructor(e,o,l){this.http=e,this.httpClientFormData=o,this.handler=l,this.baseUrl=`${B.N.API_BASE}`,this.urlparametro=`${B.N.API_BASE}`,this.httpOptions={headers:new v.WM({"Content-Type":"application/json"})},this.httpClientFormData=new v.eN(this.handler)}saveAlumno(e){return this.http.post(`${this.baseUrl}alumnos`,e)}getAlumnos(e){return this.http.get(`${this.baseUrl}alumnos/${e}`)}deleteAlumno(e){return this.http.delete(`${this.baseUrl}alumnos/${e.id}/${e.domain_id}`)}editAlumno(e,o){return this.http.put(`${this.baseUrl}alumnos/${o.id}/${o.domain_id}`,e)}showAlumno(e){return this.http.get(`${this.baseUrl}alumnos/${e.id}/${e.domain_id}`)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(v.eN),t.LFG(v.eN),t.LFG(v.jN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G=i(4474),U=i(8672),M=i(375),Y=i(6760),N=i(707),D=i(3714),L=i(3965),y=i(1230),w=i(4104),E=i(3722);function q(n,m){1&n&&(t.TgZ(0,"span",2),t._uU(1,"Registrar Alumno"),t.qZA())}function P(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function z(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function Q(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function K(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function V(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function W(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function X(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function k(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function tt(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Formato inv\xe1lido *"),t.qZA())}function et(n,m){1&n&&(t.TgZ(0,"small",40),t._uU(1,"Campo obligatorio *"),t.qZA())}function ot(n,m){1&n&&t._UZ(0,"ngx-spinner",41)}function nt(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.saveAlumno())}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),t._UZ(5,"i",8)(6,"input",9),t.TgZ(7,"label",10),t._uU(8,"C\xf3digo de Estudiante"),t.qZA()(),t.YNc(9,P,2,0,"small",11),t.qZA(),t.TgZ(10,"div",6)(11,"span",12),t._UZ(12,"p-dropdown",13),t.TgZ(13,"label",14),t._uU(14,"Tipo de documento de identidad"),t.qZA(),t.YNc(15,z,2,0,"small",11),t.qZA()()()(),t.TgZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"span",7),t._UZ(20,"i",8)(21,"input",15),t.TgZ(22,"label",16),t._uU(23,"Numero de Documento"),t.qZA()(),t.YNc(24,Q,2,0,"small",11),t.qZA(),t.TgZ(25,"div",6)(26,"span",7),t._UZ(27,"i",8)(28,"input",17),t.TgZ(29,"label",18),t._uU(30,"Nombres"),t.qZA()(),t.YNc(31,K,2,0,"small",11),t.qZA(),t.TgZ(32,"div",6)(33,"span",7),t._UZ(34,"i",8)(35,"input",19),t.TgZ(36,"label",20),t._uU(37,"Correo"),t.qZA()(),t.YNc(38,V,2,0,"small",11),t.qZA(),t.TgZ(39,"div",6)(40,"span",7),t._UZ(41,"i",8)(42,"input",21),t.TgZ(43,"label",22),t._uU(44,"Direccion"),t.qZA()(),t.YNc(45,W,2,0,"small",11),t.qZA()()(),t.TgZ(46,"div",23)(47,"div",5)(48,"div",6)(49,"span",7),t._UZ(50,"i",8)(51,"input",24),t.TgZ(52,"label",25),t._uU(53,"Apellidos"),t.qZA()(),t.YNc(54,X,2,0,"small",11),t.qZA(),t.TgZ(55,"div",6)(56,"span",7),t._UZ(57,"i",8)(58,"input",26),t.TgZ(59,"label",27),t._uU(60,"Nro de Celular"),t.qZA()(),t.YNc(61,k,2,0,"small",11),t.YNc(62,tt,2,0,"small",11),t.qZA()()(),t.TgZ(63,"div",23)(64,"div",5)(65,"div",6)(66,"span",12),t._UZ(67,"p-dropdown",28),t.TgZ(68,"label",29),t._uU(69,"Carrera Profesional"),t.qZA()()(),t.TgZ(70,"div",6)(71,"span",12),t._UZ(72,"p-dropdown",30),t.TgZ(73,"label",31),t._uU(74,"Ciclos acad\xe9micos"),t.qZA()()()()(),t.TgZ(75,"div",23)(76,"div",5)(77,"div",6)(78,"span",12)(79,"p-calendar",32),t.NdJ("onSelect",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.capturarFecha(l))}),t.qZA(),t.TgZ(80,"label",33),t._uU(81,"Fecha de nacimiento"),t.qZA()(),t.YNc(82,et,2,0,"small",11),t.qZA()()(),t.TgZ(83,"div",4)(84,"div",5)(85,"div",6),t._UZ(86,"p-toast"),t.TgZ(87,"p-fileUpload",34),t.NdJ("onUpload",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.onUpload(l))})("onSelect",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.onPerfilSelect(l))}),t.qZA()(),t.TgZ(88,"div",6),t._UZ(89,"p-toast"),t.TgZ(90,"p-fileUpload",35),t.NdJ("onUpload",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.onUpload(l))})("onSelect",function(l){t.CHM(e);const a=t.oxw();return t.KtG(a.onCarnetSelect(l))}),t.qZA()()()(),t.TgZ(91,"div",36),t._UZ(92,"button",37),t.TgZ(93,"button",38),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.closeModal())}),t.qZA()()(),t.YNc(94,ot,1,0,"ngx-spinner",39)}if(2&n){const e=t.oxw();let o,l,a,c,A,C,T,x,Z,b;t.Q6J("formGroup",e.alumnoForm),t.xp6(9),t.Q6J("ngIf",(null==(o=e.alumnoForm.get("codigo"))?null:o.invalid)&&(null==(o=e.alumnoForm.get("codigo"))?null:o.touched)),t.xp6(3),t.Q6J("autoDisplayFirst",!1)("options",e.tipodocu),t.xp6(3),t.Q6J("ngIf",(null==(l=e.alumnoForm.get("tipoDocumento"))?null:l.invalid)&&(null==(l=e.alumnoForm.get("tipoDocumento"))?null:l.touched)),t.xp6(9),t.Q6J("ngIf",(null==(a=e.alumnoForm.get("numeroDocumento"))?null:a.invalid)&&(null==(a=e.alumnoForm.get("numeroDocumento"))?null:a.touched)),t.xp6(7),t.Q6J("ngIf",(null==(c=e.alumnoForm.get("nombres"))?null:c.invalid)&&(null==(c=e.alumnoForm.get("nombres"))?null:c.touched)),t.xp6(7),t.Q6J("ngIf",(null==(A=e.alumnoForm.get("email"))?null:A.invalid)&&(null==(A=e.alumnoForm.get("email"))?null:A.touched)),t.xp6(7),t.Q6J("ngIf",(null==(C=e.alumnoForm.get("direccion"))?null:C.invalid)&&(null==(C=e.alumnoForm.get("direccion"))?null:C.touched)),t.xp6(9),t.Q6J("ngIf",(null==(T=e.alumnoForm.get("apellidos"))?null:T.invalid)&&(null==(T=e.alumnoForm.get("apellidos"))?null:T.touched)),t.xp6(7),t.Q6J("ngIf",(null==(x=e.alumnoForm.get("nroCelular"))?null:x.invalid)&&(null==(x=e.alumnoForm.get("nroCelular"))?null:x.touched)),t.xp6(1),t.Q6J("ngIf",(null==(Z=e.alumnoForm.get("nroCelular"))?null:Z.hasError("pattern"))&&(null==(Z=e.alumnoForm.get("nroCelular"))?null:Z.touched)),t.xp6(5),t.Q6J("options",e.carrerasList),t.xp6(5),t.Q6J("options",e.ciclosList),t.xp6(7),t.Q6J("showTime",!1)("showSeconds",!1),t.xp6(3),t.Q6J("ngIf",(null==(b=e.alumnoForm.get("fechaNacimiento"))?null:b.invalid)&&(null==(b=e.alumnoForm.get("fechaNacimiento"))?null:b.touched)),t.xp6(12),t.Q6J("ngIf",e.loading)}}let j=(()=>{class n{constructor(e,o,l,a,c,A,C,T,x,Z,b,St){this.router=e,this.ref=o,this.cdr=l,this.config=a,this.parametroService=c,this.translate=A,this.messageService=C,this.alumnoService=T,this.commonService=x,this.fb=Z,this.spinner=b,this.helpersService=St,this.carrerasList=[],this.ciclosList=[],this.fechanacimiento=new Date,this.calendarOptions={initialView:"dayGridMonth",locale:F.Z},this.loading=!1,this.domain_id=1,this.alumnoForm=this.fb.group({codigo:["",r.kI.required],tipoDocumento:["",r.kI.required],numeroDocumento:["",r.kI.required],nombres:["",r.kI.required],apellidos:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],nroCelular:["",[r.kI.required,r.kI.pattern(/^[0-9]{9}$/)]],carreraId:["",r.kI.required],cicloId:["",r.kI.required],direccion:[""],fechaNacimiento:[this.fechanacimiento,r.kI.required],fotoPerfil:[null],fotoCarnet:[null]}),this.domain_id=this.helpersService.getDominioId()}onGlobalFilter(e,o){e.filterGlobal(o.target.value,"contains")}ngOnInit(){this.tipodocu=[{name:"DNI",value:1,code:"NY"},{name:"PASAPORTE",value:2,code:"RM"}],this.translate?this.translateChange("es"):console.error("TranslateService is not initialized."),this.config.data&&(this.alumno=this.config.data.alumno,this.alumno&&this.alumnoForm.patchValue({codigo:this.alumno.codigo,tipoDocumento:1,numeroDocumento:this.alumno.dni,nombres:this.alumno.nombres,apellidos:this.alumno.apellidos,email:this.alumno.email,nroCelular:this.alumno.celular,carreraId:this.alumno.carrera_id,cicloId:this.alumno.ciclo_id,direccion:this.alumno.direccion,fechaNacimiento:new Date(this.alumno.fecha_nacimiento),fotoPerfil:this.alumno.foto_perfil,fotoCarnet:this.alumno.foto_carnet})),this.getCarrerasDropdown(),this.getCiclosDropdown()}getAge(e){const o=new Date,l=new Date(e);let a=o.getFullYear()-l.getFullYear();const c=o.getMonth()-l.getMonth();return(c<0||0===c&&o.getDate()<l.getDate())&&a--,a}onCarnetSelect(e){this.alumnoForm.patchValue({fotoCarnet:e.files[0]})}onPerfilSelect(e){this.alumnoForm.patchValue({fotoPerfil:e.files[0]})}getCarrerasDropdown(){this.commonService.getCarrerasDropdown(this.domain_id).subscribe(e=>{console.log("Carreras",e),this.carrerasList=e.map(o=>({name:o.nombres,value:o.id}))},e=>{console.error("Error obteniendo carreras",e)})}getCiclosDropdown(){this.commonService.getCiclosDropdown(this.domain_id).subscribe(e=>{this.ciclosList=e.map(o=>({name:o.tx_nombre,value:o.nu_id_parametro})),console.log("Ciclos",e)},e=>{console.error("Error obteniendo ciclos",e)})}cambiarIdioma(){this.translateService.use("es")}translateChange(e){this.translate?this.translate.use(e):console.error("TranslateService is not initialized.")}onUpload(e){this.messageService.add({severity:"info",summary:"Success",detail:"Archivo cargado correctamente"})}saveAlumno(){if(this.alumnoForm.valid){const e=new FormData;if(e.append("codigo",this.alumnoForm.get("codigo")?.value),e.append("tipoDocumento",this.alumnoForm.get("tipoDocumento")?.value),e.append("numeroDocumento",this.alumnoForm.get("numeroDocumento")?.value),e.append("nombres",this.alumnoForm.get("nombres")?.value),e.append("apellidos",this.alumnoForm.get("apellidos")?.value),e.append("nroCelular",this.alumnoForm.get("nroCelular")?.value),e.append("carreraId",this.alumnoForm.get("carreraId")?.value),e.append("cicloId",this.alumnoForm.get("cicloId")?.value),e.append("email",this.alumnoForm.get("email")?.value),e.append("direccion",this.alumnoForm.get("direccion")?.value),this.alumnoForm.get("fotoCarnet")?.value&&e.append("fotoCarnet",this.alumnoForm.get("fotoCarnet")?.value),this.alumnoForm.get("fotoPerfil")?.value&&e.append("fotoPerfil",this.alumnoForm.get("fotoPerfil")?.value),this.alumno){e.append("id",this.alumno.id),e.append("domain_id",this.domain_id.toString());const o=this.alumnoForm.get("fechaNacimiento")?.value;if(o instanceof Date){const l=o.toISOString().split("T")[0];e.append("fechaNacimiento",l)}else console.error("Fecha de nacimiento no es una instancia de Date")}else e.append("domain_id",this.domain_id.toString());this.loading=!0,this.spinner.show(),this.alumnoService.saveAlumno(e).subscribe(o=>{this.loading=!1,this.spinner.hide(),this.ref.close({register:!0}),d().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},o=>{console.error("Error guardando alumno",o)})}else console.error("Formulario inv\xe1lido")}capturarFecha(e){console.log("Fecha",e);let o=new Date(e),l="";o instanceof Date&&(l=o.toISOString().split("T")[0]),console.log("Fecha",l),this.alumnoForm.patchValue({fechaNacimiento:o})}closeModal(){this.ref.close({register:!1})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(g.F0),t.Y36(u.E7),t.Y36(t.sBO),t.Y36(u.S),t.Y36(_.m),t.Y36(S.sK),t.Y36(p.ez),t.Y36(R),t.Y36(G.v),t.Y36(r.qu),t.Y36(U.t2),t.Y36(M.$))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-reg-alumno"]],features:[t._Bn([p.ez])],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-6"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user-edit"],["type","text","id","codigo","pInputText","","formControlName","codigo"],["for","codigo"],["style","color: brown;",4,"ngIf"],[1,"p-float-label"],["inputId","tipoDocumento","formControlName","tipoDocumento","optionLabel","name","optionValue","value",3,"autoDisplayFirst","options"],["for","tipoDocumento"],["type","text","id","numeroDocumento","pInputText","","formControlName","numeroDocumento"],["for","numeroDocumento"],["type","text","id","nombres","pInputText","","formControlName","nombres"],["for","nombres"],["type","text","id","email","pInputText","","formControlName","email"],["for","email"],["type","text","id","direccion","pInputText","","formControlName","direccion"],["for","direccion"],[1,"row"],["type","text","id","apellidos","pInputText","","formControlName","apellidos"],["for","apellidos"],["type","text","id","nroCelular","pInputText","","formControlName","nroCelular"],["for","nroCelular"],["inputId","carreraId","formControlName","carreraId","optionLabel","name","optionValue","value","placeholder","Selecciona una carrera",3,"options"],["for","carreraId"],["inputId","cicloId","formControlName","cicloId","optionLabel","name","optionValue","value","placeholder","Selecciona un ciclo",3,"options"],["for","cicloId"],["inputId","fechaNacimiento","formControlName","fechaNacimiento","dateFormat","dd-mm-yy",3,"showTime","showSeconds","onSelect"],["for","fechaNacimiento"],["mode","basic","chooseLabel","Adjunte foto de Perfil","chooseIcon","pi pi-upload","name","demo[]","url","https://www.primefaces.org/cdn/api/upload.php","accept","image/*",3,"onUpload","onSelect"],["mode","basic","chooseLabel","Adjunte foto tama\xf1o carnet","chooseIcon","pi pi-upload","name","demo[]","url","https://www.primefaces.org/cdn/api/upload.php","accept","image/*",3,"onUpload","onSelect"],[1,"row","mb-5","text-right"],["pButton","","label","Guardar","icon","pi pi-plus","id","btnGuardar","type","submit",1,"p-button-success","mr-2"],["pButton","","label","Cancelar","icon","pi pi-times","id","btnCancelar",1,"p-button-danger",3,"click"],["bdColor","rgba(0,0,0,0.5)","size","large","color","#fff","type","ball-spin",4,"ngIf"],[2,"color","brown"],["bdColor","rgba(0,0,0,0.5)","size","large","color","#fff","type","ball-spin"]],template:function(o,l){1&o&&(t.TgZ(0,"p-panel"),t.YNc(1,q,2,0,"ng-template",0),t.YNc(2,nt,95,18,"ng-template",1),t.qZA())},dependencies:[s.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,Y.f,N.Hq,p.jx,D.o,L.Lt,y.s,w.FN,E.p,U.Ro]})}return n})();var J=i(9552);const it=["filter"],lt=["dt1"];function at(n,m){1&n&&(t.TgZ(0,"span",2),t._uU(1,"Bandeja de Alumno"),t.qZA())}function rt(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(l){t.CHM(e),t.oxw();const a=t.MAs(4),c=t.oxw();return t.KtG(c.onGlobalFilter(a,l))}),t.qZA()()(),t.TgZ(5,"div",17)(6,"button",18),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.navigateToNuevo())}),t.qZA()()()}}function st(n,m){1&n&&(t.TgZ(0,"tr")(1,"th",19)(2,"div",20),t._uU(3," Nombres de Alumno "),t.qZA()(),t.TgZ(4,"th",19)(5,"div",20),t._uU(6," Instituci\xf3n "),t.qZA()(),t.TgZ(7,"th",19)(8,"div",20),t._uU(9," Carrera T\xe9cnica "),t.qZA()(),t.TgZ(10,"th",19)(11,"div",20),t._uU(12," Siglo "),t.qZA()(),t.TgZ(13,"th",19)(14,"div",20),t._uU(15," Acciones "),t.qZA()()())}function mt(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"div",20)(11,"button",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.navigateToEditar(a))}),t.qZA(),t.TgZ(12,"button",22),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.eliminarAlumno(a))}),t.qZA()()()()}if(2&n){const e=m.$implicit;t.xp6(2),t.AsE("",e.nombres," ",e.apellidos,""),t.xp6(2),t.Oqu(e.institucion),t.xp6(2),t.Oqu(e.carrera_nombre),t.xp6(2),t.Oqu(e.ciclo_nombre)}}function ct(n,m){1&n&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2,"No se encontraron registros"),t.qZA()())}function ut(n,m){1&n&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}const pt=function(){return["nombres","institucion","carrera_nombre","ciclo_nombre"]};function dt(n,m){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,rt,7,0,"ng-template",8),t.YNc(6,st,16,0,"ng-template",0),t.YNc(7,mt,13,5,"ng-template",9),t.YNc(8,ct,3,0,"ng-template",10),t.YNc(9,ut,3,0,"ng-template",11),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("value",e.instituciones)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",t.DdM(6,pt))}}let gt=(()=>{class n{constructor(e,o,l,a,c){this.dialogService=e,this.maestroService=o,this.alumnoService=l,this.helpersService=a,this.router=c,this.instituciones=[],this.loading=!1,this.domain_id=1}ngOnInit(){this.domain_id=this.helpersService.getDominioId(),this.cargaInicial()}cargaInicial(){this.loading=!0,this.alumnoService.getAlumnos(this.domain_id).subscribe(e=>{this.instituciones=e,this.loading=!1},e=>{this.loading=!1})}eliminarAlumno(e){d().fire({title:"Desea eliminar el alumno?",text:"No podr\xe1 revertir esta acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"}).then(o=>{o.isConfirmed&&this.alumnoService.deleteAlumno({domain_id:e.domain_id??1,id:e.id}).subscribe(a=>{d().fire({title:"\xa1\xc9xito!",text:"eliminado correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{this.cargaInicial()},c=>{this.loading=!1,d().fire({title:"\xa1Error!",text:"Error al eliminar",icon:"error",confirmButtonText:"Aceptar"})})})})}navigateToEditar(e){this.alumnoService.showAlumno({domain_id:e.domain_id??1,id:e.id}).subscribe(l=>{this.ref=this.dialogService.open(j,{data:{alumno:l},width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(a=>{console.log(a),a&&a.register&&(console.log("Organo-colegaido-sect"),this.cargaInicial()),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload"})},l=>{this.loading=!1})}navigateToNuevo(){this.ref=this.dialogService.open(j,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(e=>{e&&e.register&&this.cargaInicial(),this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload"})}onGlobalFilter(e,o){e&&(console.log("Organo-colegaido-sect"),e.filterGlobal(o.target.value,"contains"))}onRowSelect(e){console.log("Organo-colegaido-sect")}onRowUnselect(e){}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(u.xA),t.Y36(_.m),t.Y36(R),t.Y36(M.$),t.Y36(g.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-bandeja-alumno"]],viewQuery:function(o,l){if(1&o&&(t.Gf(it,5),t.Gf(lt,5)),2&o){let a;t.iGM(a=t.CRH())&&(l.filter=a.first),t.iGM(a=t.CRH())&&(l.tabledt1=a.first)}},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar Alumno",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],[1,"flex","justify-content-between","align-items-center"],["pButton","","icon","pi pi-pencil",1,"p-button-info","p-button-sm",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-danger","p-button-sm",3,"click"],["colspan","8"]],template:function(o,l){1&o&&(t.TgZ(0,"p-panel"),t.YNc(1,at,2,0,"ng-template",0),t.YNc(2,dt,10,7,"ng-template",1),t.qZA())},dependencies:[N.Hq,p.jx,J.iA,D.o,y.s]})}return n})(),ht=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[g.Bz.forChild([{path:"",component:gt}]),g.Bz]})}return n})();var ft=i(6804),H=i(4480),O=i(4055),_t=i(6651),vt=i(7902),At=i(6022),$=i(1494),Ct=i(6218),Tt=i(3259),xt=i(3904),Zt=i(3530),bt=i(9537);let Ft=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({providers:[p.ez],imports:[s.ez,ht,r.UX,r.u5,Y._8,J.U$,At.Xt,N.hJ,vt.JH,D.j,Ct.A,ft.KZ,H.T,O.q4,L.kW,y.Q,_t.q,w.EV,$.n,E.O,Tt.z,w.EV,$.n,xt.D,E.O,Zt.S,u.DL,S.aw,H.T,O.q4,bt.Z_,U.ef]})}return n})()},4474:(I,f,i)=>{i.d(f,{v:()=>F});var s=i(9862),r=i(5516),g=i(8926);let F=(()=>{class p{constructor(d,t,u){this.http=d,this.httpClientFormData=t,this.handler=u,this.baseUrl=`${r.N.API_BASE}`,this.urlparametro=`${r.N.API_BASE}`,this.httpOptions={headers:new s.WM({"Content-Type":"application/json"})},this.httpClientFormData=new s.eN(this.handler)}getCarrerasDropdown(d){return this.http.get(`${this.baseUrl}carreras-dropdown/${d}`)}getCiclosDropdown(d){return this.http.get(`${this.baseUrl}ciclos-dropdown/${d}`)}getRolesDropdown(){return this.http.get(`${this.baseUrl}roles-dropdown`)}getDocentesDropdown(d){return this.http.get(`${this.baseUrl}docentes-dropdown/${d}`)}static#t=this.\u0275fac=function(t){return new(t||p)(g.LFG(s.eN),g.LFG(s.eN),g.LFG(s.jN))};static#e=this.\u0275prov=g.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},2538:(I,f,i)=>{i.d(f,{Z:()=>s});var s={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"A\xf1o",month:"Mes",week:"Semana",day:"D\xeda",list:"Agenda"},buttonHints:{prev:"$0 antes",next:"$0 siguiente",today:r=>"D\xeda"===r?"Hoy":("Semana"===r?"Esta":"Este")+" "+r.toLocaleLowerCase()},viewHint:r=>"Vista "+("Semana"===r?"de la":"del")+" "+r.toLocaleLowerCase(),weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo el d\xeda",moreLinkText:"m\xe1s",moreLinkHint:r=>`Mostrar ${r} eventos m\xe1s`,noEventsText:"No hay eventos para mostrar",navLinkHint:"Ir al $0",closeHint:"Cerrar",timeHint:"La hora",eventHint:"Evento"}},6218:(I,f,i)=>{i.d(f,{A:()=>p,g:()=>F});var s=i(8926),r=i(6814),g=i(6223);let F=(()=>{class h{el;ngModel;control;cd;autoResize;onResize=new s.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(t,u,_,S){this.el=t,this.ngModel=u,this.control=_,this.cd=S}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(t){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(u){return new(u||h)(s.Y36(s.SBq),s.Y36(g.On,8),s.Y36(g.a5,8),s.Y36(s.sBO))};static \u0275dir=s.lG2({type:h,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(u,_){1&u&&s.NdJ("input",function(v){return _.onInput(v)}),2&u&&s.ekj("p-filled",_.filled)("p-inputtextarea-resizable",_.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return h})(),p=(()=>{class h{static \u0275fac=function(u){return new(u||h)};static \u0275mod=s.oAB({type:h});static \u0275inj=s.cJS({imports:[r.ez]})}return h})()}}]);